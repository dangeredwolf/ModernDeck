/*!
 * ModernDeck 10.0.0, built 2022-06-05T01:47:19.193Z
 *
 * (c) 2014-2022 dangered wolf, released under MIT license.
 *
 * Made with <3
 *
 */(()=>{"use strict";var __webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var scriptUrl;__webpack_require__.g.importScripts&&(scriptUrl=__webpack_require__.g.location+"");var document=__webpack_require__.g.document;if(!scriptUrl&&document&&(document.currentScript&&(scriptUrl=document.currentScript.src),!scriptUrl)){var scripts=document.getElementsByTagName("script");scripts.length&&(scriptUrl=scripts[scripts.length-1].src)}if(!scriptUrl)throw new Error("Automatic publicPath is not supported in this browser");scriptUrl=scriptUrl.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=scriptUrl})();const BuildProps_namespaceObject=JSON.parse('{"Yk":2037,"rh":"2022-06-05T01:47:18.689Z","Bm":"10.0.0"}');var SystemName,BrowserName,VersionStrings;!function(SystemName){SystemName.WINDOWS="Windows",SystemName.MAC="macOS",SystemName.LINUX="Linux",SystemName.IOS="iOS",SystemName.ANDROID="Android",SystemName.UNKNOWN="Unknown System"}(SystemName||(SystemName={})),function(BrowserName){BrowserName.CHROME="Chrome",BrowserName.FIREFOX="Firefox",BrowserName.SAFARI="Safari",BrowserName.OPERA="Opera",BrowserName.EDGE="Edge",BrowserName.UNKNOWN="Unknown Browser"}(BrowserName||(BrowserName={})),function(VersionStrings){VersionStrings.VERSION="Version",VersionStrings.BETA="Beta",VersionStrings.DEVELOPER_VERSION="Developer Version"}(VersionStrings||(VersionStrings={}));var versionString=VersionStrings.BETA,getSystemName=function(){return navigator.userAgent.indexOf("Windows NT")>0?SystemName.WINDOWS:navigator.userAgent.indexOf("Mac OS X")>0&&navigator.userAgent.indexOf("Mobile")>0?SystemName.IOS:navigator.userAgent.indexOf("Mac OS X")>0?SystemName.MAC:navigator.userAgent.indexOf("Android")>0?SystemName.ANDROID:navigator.userAgent.indexOf("Linux")>0?SystemName.LINUX:SystemName.UNKNOWN},getPlatformName=function(){var browserName=BrowserName.UNKNOWN;if(navigator.userAgent.indexOf("ModernDeck/")>0){var platformName=String(getSystemName());return platformName+=" (".concat("x64"===process.arch?"amd64":process.arch,")"),document.getElementsByTagName("html")[0].classList.contains("mtd-winstore")&&(platformName+=" Microsoft Store"),document.getElementsByTagName("html")[0].classList.contains("mtd-macappstore")&&(platformName+=" Mac App Store"),platformName}return navigator.userAgent.indexOf("Gecko/")>0?browserName=BrowserName.FIREFOX:navigator.userAgent.indexOf("Edg/")>0?browserName=BrowserName.EDGE:navigator.userAgent.indexOf("OPR/")>0?browserName=BrowserName.OPERA:navigator.userAgent.indexOf("Chrome/")>0?browserName=BrowserName.CHROME:navigator.userAgent.indexOf("Safari/")>0&&(browserName=BrowserName.SAFARI),"".concat(browserName," (").concat(getSystemName(),")")};var ModernDeck={version:10,versionString:BuildProps_namespaceObject.Bm,versionFriendlyString:BuildProps_namespaceObject.Bm.replace(/\.0$/,""),platformName:getPlatformName(),productName:"ModernDeck 10",systemName:getSystemName(),buildNumber:BuildProps_namespaceObject.Yk,buildDate:BuildProps_namespaceObject.rh};function isNodeEnv(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function dynamicRequire(mod,request){return mod.require(request)}window.ModernDeck=ModernDeck;var fallbackGlobalObject={};function global_getGlobalObject(){return isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function getGlobalSingleton(name,creator,obj){var global=obj||global_getGlobalObject(),__SENTRY__=global.__SENTRY__=global.__SENTRY__||{};return __SENTRY__[name]||(__SENTRY__[name]=creator())}var objectToString=Object.prototype.toString;function isError(wat){switch(objectToString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}}function isBuiltin(wat,ty){return objectToString.call(wat)===`[object ${ty}]`}function isErrorEvent(wat){return isBuiltin(wat,"ErrorEvent")}function isDOMError(wat){return isBuiltin(wat,"DOMError")}function isString(wat){return isBuiltin(wat,"String")}function is_isPrimitive(wat){return null===wat||"object"!=typeof wat&&"function"!=typeof wat}function isPlainObject(wat){return isBuiltin(wat,"Object")}function isEvent(wat){return"undefined"!=typeof Event&&isInstanceOf(wat,Event)}function isThenable(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)}function is_isNaN(wat){return"number"==typeof wat&&wat!=wat}function isInstanceOf(wat,base){try{return wat instanceof base}catch(_e){return!1}}function htmlTreeAsString(elem,keyAttrs){try{let currentElem=elem;var out=[];let height=0,len=0;var sepLength=" > ".length;let nextStr;for(;currentElem&&height++<5&&(nextStr=_htmlElementAsString(currentElem,keyAttrs),!("html"===nextStr||height>1&&len+out.length*sepLength+nextStr.length>=80));)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(" > ")}catch(_oO){return"<unknown>"}}function _htmlElementAsString(el,keyAttrs){var elem=el,out=[];let className,classes,key,attr,i;if(!elem||!elem.tagName)return"";out.push(elem.tagName.toLowerCase());var keyAttrPairs=keyAttrs&&keyAttrs.length?keyAttrs.filter((keyAttr=>elem.getAttribute(keyAttr))).map((keyAttr=>[keyAttr,elem.getAttribute(keyAttr)])):null;if(keyAttrPairs&&keyAttrPairs.length)keyAttrPairs.forEach((keyAttrPair=>{out.push(`[${keyAttrPair[0]}="${keyAttrPair[1]}"]`)}));else if(elem.id&&out.push(`#${elem.id}`),className=elem.className,className&&isString(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push(`.${classes[i]}`);var allowedAttrs=["type","name","title","alt"];for(i=0;i<allowedAttrs.length;i++)key=allowedAttrs[i],attr=elem.getAttribute(key),attr&&out.push(`[${key}="${attr}"]`);return out.join("")}function memoBuilder(){var hasWeakSet="function"==typeof WeakSet,inner=hasWeakSet?new WeakSet:[];return[function(obj){if(hasWeakSet)return!!inner.has(obj)||(inner.add(obj),!1);for(let i=0;i<inner.length;i++){if(inner[i]===obj)return!0}return inner.push(obj),!1},function(obj){if(hasWeakSet)inner.delete(obj);else for(let i=0;i<inner.length;i++)if(inner[i]===obj){inner.splice(i,1);break}}]}function truncate(str){let max=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof str||0===max||str.length<=max?str:`${str.substr(0,max)}...`}function safeJoin(input,delimiter){if(!Array.isArray(input))return"";var output=[];for(let i=0;i<input.length;i++){var value=input[i];try{output.push(String(value))}catch(e){output.push("[value cannot be serialized]")}}return output.join(delimiter)}function isMatchingPattern(value,pattern){return!!isString(value)&&(isBuiltin(pattern,"RegExp")?pattern.test(value):"string"==typeof pattern&&-1!==value.indexOf(pattern))}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function fill(source,name,replacementFactory){if(name in source){var original=source[name],wrapped=replacementFactory(original);if("function"==typeof wrapped)try{markFunctionWrapped(wrapped,original)}catch(_Oo){}source[name]=wrapped}}function addNonEnumerableProperty(obj,name,value){Object.defineProperty(obj,name,{value,writable:!0,configurable:!0})}function markFunctionWrapped(wrapped,original){var proto=original.prototype||{};wrapped.prototype=original.prototype=proto,addNonEnumerableProperty(wrapped,"__sentry_original__",original)}function getOriginalFunction(func){return func.__sentry_original__}function convertToPlainObject(value){if(isError(value))return _objectSpread({message:value.message,name:value.name,stack:value.stack},getOwnProperties(value));if(isEvent(value)){var newObj=_objectSpread({type:value.type,target:serializeEventTarget(value.target),currentTarget:serializeEventTarget(value.currentTarget)},getOwnProperties(value));return"undefined"!=typeof CustomEvent&&isInstanceOf(value,CustomEvent)&&(newObj.detail=value.detail),newObj}return value}function serializeEventTarget(target){try{return wat=target,"undefined"!=typeof Element&&isInstanceOf(wat,Element)?htmlTreeAsString(target):Object.prototype.toString.call(target)}catch(_oO){return"<unknown>"}var wat}function getOwnProperties(obj){if("object"==typeof obj&&null!==obj){var extractedProps={};for(var property in obj)Object.prototype.hasOwnProperty.call(obj,property)&&(extractedProps[property]=obj[property]);return extractedProps}return{}}function extractExceptionKeysForMessage(exception){let maxLength=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;var keys=Object.keys(convertToPlainObject(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return truncate(keys[0],maxLength);for(let includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:truncate(serialized,maxLength)}return""}function dropUndefinedKeys(val){return _dropUndefinedKeys(val,memoBuilder())}function _dropUndefinedKeys(val,memo){const memoize=_slicedToArray(memo,1)[0];if(isPlainObject(val)){if(memoize(val))return val;for(var rv={},_i2=0,_Object$keys=Object.keys(val);_i2<_Object$keys.length;_i2++){var key=_Object$keys[_i2];void 0!==val[key]&&(rv[key]=_dropUndefinedKeys(val[key],memo))}return rv}return Array.isArray(val)?memoize(val)?val:val.map((item=>_dropUndefinedKeys(item,memo))):val}function misc_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function misc_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?misc_ownKeys(Object(source),!0).forEach((function(key){misc_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):misc_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function misc_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function uuid4(){var global=global_getGlobalObject(),crypto=global.crypto||global.msCrypto;if(void 0!==crypto&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=num=>{let v=num.toString(16);for(;v.length<4;)v=`0${v}`;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(c=>{var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function parseUrl(url){if(!url)return{};var match=url.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{host:match[4],path:match[5],protocol:match[2],relative:match[5]+query+fragment}}function getFirstException(event){return event.exception&&event.exception.values?event.exception.values[0]:void 0}function getEventDescription(event){const message=event.message,eventId=event.event_id;if(message)return message;var firstException=getFirstException(event);return firstException?firstException.type&&firstException.value?`${firstException.type}: ${firstException.value}`:firstException.type||firstException.value||eventId||"<unknown>":eventId||"<unknown>"}function addExceptionTypeValue(event,value,type){var exception=event.exception=event.exception||{},values=exception.values=exception.values||[],firstException=values[0]=values[0]||{};firstException.value||(firstException.value=value||""),firstException.type||(firstException.type=type||"Error")}function addExceptionMechanism(event,newMechanism){var firstException=getFirstException(event);if(firstException){var currentMechanism=firstException.mechanism;if(firstException.mechanism=misc_objectSpread(misc_objectSpread(misc_objectSpread({},{type:"generic",handled:!0}),currentMechanism),newMechanism),newMechanism&&"data"in newMechanism){var mergedData=misc_objectSpread(misc_objectSpread({},currentMechanism&&currentMechanism.data),newMechanism.data);firstException.mechanism.data=mergedData}}}function checkOrSetAlreadyCaught(exception){if(exception&&exception.__sentry_captured__)return!0;try{addNonEnumerableProperty(exception,"__sentry_captured__",!0)}catch(err){}return!1}var dateTimestampSource={nowSeconds:()=>Date.now()/1e3};var platformPerformance=isNodeEnv()?function(){try{return dynamicRequire(module,"perf_hooks").performance}catch(_){return}}():function(){const performance=global_getGlobalObject().performance;if(performance&&performance.now)return{now:()=>performance.now(),timeOrigin:Date.now()-performance.now()}}(),timestampSource=void 0===platformPerformance?dateTimestampSource:{nowSeconds:()=>(platformPerformance.timeOrigin+platformPerformance.now())/1e3},dateTimestampInSeconds=dateTimestampSource.nowSeconds.bind(dateTimestampSource),timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource),timestampWithMs=timestampInSeconds;let _browserPerformanceTimeOriginMode;var browserPerformanceTimeOrigin=(()=>{const performance=global_getGlobalObject().performance;if(performance&&performance.now){var performanceNow=performance.now(),dateNow=Date.now(),timeOriginDelta=performance.timeOrigin?Math.abs(performance.timeOrigin+performanceNow-dateNow):36e5,timeOriginIsReliable=timeOriginDelta<36e5,navigationStart=performance.timing&&performance.timing.navigationStart,navigationStartDelta="number"==typeof navigationStart?Math.abs(navigationStart+performanceNow-dateNow):36e5;return timeOriginIsReliable||navigationStartDelta<36e5?timeOriginDelta<=navigationStartDelta?(_browserPerformanceTimeOriginMode="timeOrigin",performance.timeOrigin):(_browserPerformanceTimeOriginMode="navigationStart",navigationStart):(_browserPerformanceTimeOriginMode="dateNow",dateNow)}_browserPerformanceTimeOriginMode="none"})(),flags_IS_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,logger_global=global_getGlobalObject(),CONSOLE_LEVELS=["debug","info","warn","error","log","assert"];function consoleSandbox(callback){var global=global_getGlobalObject();if(!("console"in global))return callback();var originalConsole=global.console,wrappedLevels={};CONSOLE_LEVELS.forEach((level=>{var originalWrappedFunc=originalConsole[level]&&originalConsole[level].__sentry_original__;level in global.console&&originalWrappedFunc&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalWrappedFunc)}));try{return callback()}finally{Object.keys(wrappedLevels).forEach((level=>{originalConsole[level]=wrappedLevels[level]}))}}function makeLogger(){let enabled=!1;var logger={enable:()=>{enabled=!0},disable:()=>{enabled=!1}};return flags_IS_DEBUG_BUILD?CONSOLE_LEVELS.forEach((name=>{logger[name]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];enabled&&consoleSandbox((()=>{logger_global.console[name](`Sentry Logger [${name}]:`,...args)}))}})):CONSOLE_LEVELS.forEach((name=>{logger[name]=()=>{}})),logger}let logger_logger;logger_logger=flags_IS_DEBUG_BUILD?getGlobalSingleton("logger",makeLogger):makeLogger();var States,esm_flags_IS_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function syncpromise_resolvedSyncPromise(value){return new SyncPromise((resolve=>{resolve(value)}))}function rejectedSyncPromise(reason){return new SyncPromise(((_,reject)=>{reject(reason)}))}!function(States){States[States.PENDING=0]="PENDING";States[States.RESOLVED=1]="RESOLVED";States[States.REJECTED=2]="REJECTED"}(States||(States={}));class SyncPromise{__init(){this._state=States.PENDING}__init2(){this._handlers=[]}constructor(executor){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),SyncPromise.prototype.__init5.call(this),SyncPromise.prototype.__init6.call(this);try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}then(onfulfilled,onrejected){return new SyncPromise(((resolve,reject)=>{this._handlers.push([!1,result=>{if(onfulfilled)try{resolve(onfulfilled(result))}catch(e){reject(e)}else resolve(result)},reason=>{if(onrejected)try{resolve(onrejected(reason))}catch(e){reject(e)}else reject(reason)}]),this._executeHandlers()}))}catch(onrejected){return this.then((val=>val),onrejected)}finally(onfinally){return new SyncPromise(((resolve,reject)=>{let val,isRejected;return this.then((value=>{isRejected=!1,val=value,onfinally&&onfinally()}),(reason=>{isRejected=!0,val=reason,onfinally&&onfinally()})).then((()=>{isRejected?reject(val):resolve(val)}))}))}__init3(){this._resolve=value=>{this._setResult(States.RESOLVED,value)}}__init4(){this._reject=reason=>{this._setResult(States.REJECTED,reason)}}__init5(){this._setResult=(state,value)=>{this._state===States.PENDING&&(isThenable(value)?value.then(this._resolve,this._reject):(this._state=state,this._value=value,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==States.PENDING){var cachedHandlers=this._handlers.slice();this._handlers=[],cachedHandlers.forEach((handler=>{handler[0]||(this._state===States.RESOLVED&&handler[1](this._value),this._state===States.REJECTED&&handler[2](this._value),handler[0]=!0)}))}}}}function makeSession(context){var startingTime=timestampInSeconds(),session={sid:uuid4(),init:!0,timestamp:startingTime,started:startingTime,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(session){return dropUndefinedKeys({sid:`${session.sid}`,init:session.init,started:new Date(1e3*session.started).toISOString(),timestamp:new Date(1e3*session.timestamp).toISOString(),status:session.status,errors:session.errors,did:"number"==typeof session.did||"string"==typeof session.did?`${session.did}`:void 0,duration:session.duration,attrs:{release:session.release,environment:session.environment,ip_address:session.ipAddress,user_agent:session.userAgent}})}(session)};return context&&updateSession(session,context),session}function updateSession(session){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(context.user&&(!session.ipAddress&&context.user.ip_address&&(session.ipAddress=context.user.ip_address),session.did||context.did||(session.did=context.user.id||context.user.email||context.user.username)),session.timestamp=context.timestamp||timestampInSeconds(),context.ignoreDuration&&(session.ignoreDuration=context.ignoreDuration),context.sid&&(session.sid=32===context.sid.length?context.sid:uuid4()),void 0!==context.init&&(session.init=context.init),!session.did&&context.did&&(session.did=`${context.did}`),"number"==typeof context.started&&(session.started=context.started),session.ignoreDuration)session.duration=void 0;else if("number"==typeof context.duration)session.duration=context.duration;else{var duration=session.timestamp-session.started;session.duration=duration>=0?duration:0}context.release&&(session.release=context.release),context.environment&&(session.environment=context.environment),!session.ipAddress&&context.ipAddress&&(session.ipAddress=context.ipAddress),!session.userAgent&&context.userAgent&&(session.userAgent=context.userAgent),"number"==typeof context.errors&&(session.errors=context.errors),context.status&&(session.status=context.status)}function scope_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function scope_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?scope_ownKeys(Object(source),!0).forEach((function(key){scope_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):scope_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function scope_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Scope{constructor(){Scope.prototype.__init.call(this),Scope.prototype.__init2.call(this),Scope.prototype.__init3.call(this),Scope.prototype.__init4.call(this),Scope.prototype.__init5.call(this),Scope.prototype.__init6.call(this),Scope.prototype.__init7.call(this),Scope.prototype.__init8.call(this),Scope.prototype.__init9.call(this),Scope.prototype.__init10.call(this)}__init(){this._notifyingListeners=!1}__init2(){this._scopeListeners=[]}__init3(){this._eventProcessors=[]}__init4(){this._breadcrumbs=[]}__init5(){this._user={}}__init6(){this._tags={}}__init7(){this._extra={}}__init8(){this._contexts={}}__init9(){this._attachments=[]}__init10(){this._sdkProcessingMetadata={}}static clone(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=[...scope._breadcrumbs],newScope._tags=scope_objectSpread({},scope._tags),newScope._extra=scope_objectSpread({},scope._extra),newScope._contexts=scope_objectSpread({},scope._contexts),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._session=scope._session,newScope._transactionName=scope._transactionName,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=[...scope._eventProcessors],newScope._requestSession=scope._requestSession,newScope._attachments=[...scope._attachments]),newScope}addScopeListener(callback){this._scopeListeners.push(callback)}addEventProcessor(callback){return this._eventProcessors.push(callback),this}setUser(user){return this._user=user||{},this._session&&updateSession(this._session,{user}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(requestSession){return this._requestSession=requestSession,this}setTags(tags){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),tags),this._notifyScopeListeners(),this}setTag(key,value){return this._tags=scope_objectSpread(scope_objectSpread({},this._tags),{},{[key]:value}),this._notifyScopeListeners(),this}setExtras(extras){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),extras),this._notifyScopeListeners(),this}setExtra(key,extra){return this._extra=scope_objectSpread(scope_objectSpread({},this._extra),{},{[key]:extra}),this._notifyScopeListeners(),this}setFingerprint(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this}setLevel(level){return this._level=level,this._notifyScopeListeners(),this}setTransactionName(name){return this._transactionName=name,this._notifyScopeListeners(),this}setContext(key,context){return null===context?delete this._contexts[key]:this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),{},{[key]:context}),this._notifyScopeListeners(),this}setSpan(span){return this._span=span,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var span=this.getSpan();return span&&span.transaction}setSession(session){return session?this._session=session:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(captureContext){if(!captureContext)return this;if("function"==typeof captureContext){var updatedScope=captureContext(this);return updatedScope instanceof Scope?updatedScope:this}return captureContext instanceof Scope?(this._tags=scope_objectSpread(scope_objectSpread({},this._tags),captureContext._tags),this._extra=scope_objectSpread(scope_objectSpread({},this._extra),captureContext._extra),this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),captureContext._contexts),captureContext._user&&Object.keys(captureContext._user).length&&(this._user=captureContext._user),captureContext._level&&(this._level=captureContext._level),captureContext._fingerprint&&(this._fingerprint=captureContext._fingerprint),captureContext._requestSession&&(this._requestSession=captureContext._requestSession)):isPlainObject(captureContext)&&(captureContext=captureContext,this._tags=scope_objectSpread(scope_objectSpread({},this._tags),captureContext.tags),this._extra=scope_objectSpread(scope_objectSpread({},this._extra),captureContext.extra),this._contexts=scope_objectSpread(scope_objectSpread({},this._contexts),captureContext.contexts),captureContext.user&&(this._user=captureContext.user),captureContext.level&&(this._level=captureContext.level),captureContext.fingerprint&&(this._fingerprint=captureContext.fingerprint),captureContext.requestSession&&(this._requestSession=captureContext.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(breadcrumb,maxBreadcrumbs){var maxCrumbs="number"==typeof maxBreadcrumbs?Math.min(maxBreadcrumbs,100):100;if(maxCrumbs<=0)return this;var mergedBreadcrumb=scope_objectSpread({timestamp:dateTimestampInSeconds()},breadcrumb);return this._breadcrumbs=[...this._breadcrumbs,mergedBreadcrumb].slice(-maxCrumbs),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(attachment){return this._attachments.push(attachment),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(event){let hint=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._extra&&Object.keys(this._extra).length&&(event.extra=scope_objectSpread(scope_objectSpread({},this._extra),event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=scope_objectSpread(scope_objectSpread({},this._tags),event.tags)),this._user&&Object.keys(this._user).length&&(event.user=scope_objectSpread(scope_objectSpread({},this._user),event.user)),this._contexts&&Object.keys(this._contexts).length&&(event.contexts=scope_objectSpread(scope_objectSpread({},this._contexts),event.contexts)),this._level&&(event.level=this._level),this._transactionName&&(event.transaction=this._transactionName),this._span){event.contexts=scope_objectSpread({trace:this._span.getTraceContext()},event.contexts);var transactionName=this._span.transaction&&this._span.transaction.name;transactionName&&(event.tags=scope_objectSpread({transaction:transactionName},event.tags))}return this._applyFingerprint(event),event.breadcrumbs=[...event.breadcrumbs||[],...this._breadcrumbs],event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,event.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors([...getGlobalEventProcessors(),...this._eventProcessors],event,hint)}setSDKProcessingMetadata(newData){return this._sdkProcessingMetadata=scope_objectSpread(scope_objectSpread({},this._sdkProcessingMetadata),newData),this}_notifyEventProcessors(processors,event,hint){let index=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new SyncPromise(((resolve,reject)=>{var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor(scope_objectSpread({},event),hint);esm_flags_IS_DEBUG_BUILD&&processor.id&&null===result&&logger_logger.log(`Event processor "${processor.id}" dropped event`),isThenable(result)?result.then((final=>this._notifyEventProcessors(processors,final,hint,index+1).then(resolve))).then(null,reject):this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((callback=>{callback(this)})),this._notifyingListeners=!1)}_applyFingerprint(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint}}function getGlobalEventProcessors(){return getGlobalSingleton("globalEventProcessors",(()=>[]))}function addGlobalEventProcessor(callback){getGlobalEventProcessors().push(callback)}function hub_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function hub_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?hub_ownKeys(Object(source),!0).forEach((function(key){hub_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):hub_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function hub_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Hub{__init(){this._stack=[{}]}constructor(client){let scope=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Scope,_version=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this._version=_version,Hub.prototype.__init.call(this),this.getStackTop().scope=scope,client&&this.bindClient(client)}isOlderThan(version){return this._version<version}bindClient(client){this.getStackTop().client=client,client&&client.setupIntegrations&&client.setupIntegrations()}pushScope(){var scope=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope}),scope}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(exception,hint){var eventId=this._lastEventId=hint&&hint.event_id?hint.event_id:uuid4(),syntheticException=new Error("Sentry syntheticException");return this._withClient(((client,scope)=>{client.captureException(exception,hub_objectSpread(hub_objectSpread({originalException:exception,syntheticException},hint),{},{event_id:eventId}),scope)})),eventId}captureMessage(message,level,hint){var eventId=this._lastEventId=hint&&hint.event_id?hint.event_id:uuid4(),syntheticException=new Error(message);return this._withClient(((client,scope)=>{client.captureMessage(message,level,hub_objectSpread(hub_objectSpread({originalException:message,syntheticException},hint),{},{event_id:eventId}),scope)})),eventId}captureEvent(event,hint){var eventId=hint&&hint.event_id?hint.event_id:uuid4();return"transaction"!==event.type&&(this._lastEventId=eventId),this._withClient(((client,scope)=>{client.captureEvent(event,hub_objectSpread(hub_objectSpread({},hint),{},{event_id:eventId}),scope)})),eventId}lastEventId(){return this._lastEventId}addBreadcrumb(breadcrumb,hint){const _this$getStackTop=this.getStackTop(),scope=_this$getStackTop.scope,client=_this$getStackTop.client;if(!scope||!client)return;const _ref=client.getOptions&&client.getOptions()||{},_ref$beforeBreadcrumb=_ref.beforeBreadcrumb,beforeBreadcrumb=void 0===_ref$beforeBreadcrumb?null:_ref$beforeBreadcrumb,_ref$maxBreadcrumbs=_ref.maxBreadcrumbs,maxBreadcrumbs=void 0===_ref$maxBreadcrumbs?100:_ref$maxBreadcrumbs;if(!(maxBreadcrumbs<=0)){var mergedBreadcrumb=hub_objectSpread({timestamp:dateTimestampInSeconds()},breadcrumb),finalBreadcrumb=beforeBreadcrumb?consoleSandbox((()=>beforeBreadcrumb(mergedBreadcrumb,hint))):mergedBreadcrumb;null!==finalBreadcrumb&&scope.addBreadcrumb(finalBreadcrumb,maxBreadcrumbs)}}setUser(user){var scope=this.getScope();scope&&scope.setUser(user)}setTags(tags){var scope=this.getScope();scope&&scope.setTags(tags)}setExtras(extras){var scope=this.getScope();scope&&scope.setExtras(extras)}setTag(key,value){var scope=this.getScope();scope&&scope.setTag(key,value)}setExtra(key,extra){var scope=this.getScope();scope&&scope.setExtra(key,extra)}setContext(name,context){var scope=this.getScope();scope&&scope.setContext(name,context)}configureScope(callback){const _this$getStackTop2=this.getStackTop(),scope=_this$getStackTop2.scope,client=_this$getStackTop2.client;scope&&client&&callback(scope)}run(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}}getIntegration(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`),null}}startTransaction(context,customSamplingContext){return this._callExtensionMethod("startTransaction",context,customSamplingContext)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.endSession();this._sendSessionUpdate()}endSession(){var layer=this.getStackTop(),scope=layer&&layer.scope,session=scope&&scope.getSession();session&&function(session,status){let context={};status?context={status}:"ok"===session.status&&(context={status:"exited"}),updateSession(session,context)}(session),this._sendSessionUpdate(),scope&&scope.setSession()}startSession(context){const _this$getStackTop3=this.getStackTop(),scope=_this$getStackTop3.scope,client=_this$getStackTop3.client,_ref2=client&&client.getOptions()||{},release=_ref2.release,environment=_ref2.environment;const userAgent=(global_getGlobalObject().navigator||{}).userAgent;var session=makeSession(hub_objectSpread(hub_objectSpread(hub_objectSpread({release,environment},scope&&{user:scope.getUser()}),userAgent&&{userAgent}),context));if(scope){var currentSession=scope.getSession&&scope.getSession();currentSession&&"ok"===currentSession.status&&updateSession(currentSession,{status:"exited"}),this.endSession(),scope.setSession(session)}return session}_sendSessionUpdate(){const _this$getStackTop4=this.getStackTop(),scope=_this$getStackTop4.scope,client=_this$getStackTop4.client;if(scope){var session=scope.getSession();session&&client&&client.captureSession&&client.captureSession(session)}}_withClient(callback){const _this$getStackTop5=this.getStackTop(),scope=_this$getStackTop5.scope,client=_this$getStackTop5.client;client&&callback(client,scope)}_callExtensionMethod(method){var sentry=getMainCarrier().__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method]){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return sentry.extensions[method].apply(this,args)}esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Extension method ${method} couldn't be found, doing nothing.`)}}function getMainCarrier(){var carrier=global_getGlobalObject();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}function hub_getCurrentHub(){var registry=getMainCarrier();return hasHubOnCarrier(registry)&&!getHubFromCarrier(registry).isOlderThan(4)||setHubOnCarrier(registry,new Hub),isNodeEnv()?function(registry){try{var sentry=getMainCarrier().__SENTRY__,activeDomain=sentry&&sentry.extensions&&sentry.extensions.domain&&sentry.extensions.domain.active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(4)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,Scope.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch(_Oo){return getHubFromCarrier(registry)}}(registry):getHubFromCarrier(registry)}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return getGlobalSingleton("hub",(()=>new Hub),carrier)}function setHubOnCarrier(carrier,hub){return!!carrier&&((carrier.__SENTRY__=carrier.__SENTRY__||{}).hub=hub,!0)}function captureException(exception,captureContext){return hub_getCurrentHub().captureException(exception,{captureContext})}function withScope(callback){hub_getCurrentHub().withScope(callback)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};window.moderndeckBootErrorCount=0;var defineBootComponent=function(func,condition){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,new Promise((function(resolve){try{!1===condition&&resolve(null);var timeBefore=performance.now(),functionResult=func(),elapsedTime=1e3*(performance.now()-timeBefore)/1e3;console.log("Boot: Done ".concat(func.name," (").concat(elapsedTime," ms)")),resolve(functionResult)}catch(error){console.error("Error in boot component ".concat(func.name)),console.error(error),window.moderndeckBootErrorCount++,!0===window.useSentry&&captureException(error),resolve(null)}}))]}))}))},core_esm_flags_IS_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,installedIntegrations=[];function filterDuplicates(integrations){return integrations.reduce(((acc,integrations)=>(acc.every((accIntegration=>integrations.name!==accIntegration.name))&&acc.push(integrations),acc)),[])}function getIntegrationsToSetup(options){var defaultIntegrations=options.defaultIntegrations&&[...options.defaultIntegrations]||[],userIntegrations=options.integrations;let integrations=[...filterDuplicates(defaultIntegrations)];Array.isArray(userIntegrations)?integrations=[...integrations.filter((integrations=>userIntegrations.every((userIntegration=>userIntegration.name!==integrations.name)))),...filterDuplicates(userIntegrations)]:"function"==typeof userIntegrations&&(integrations=userIntegrations(integrations),integrations=Array.isArray(integrations)?integrations:[integrations]);var integrationsNames=integrations.map((i=>i.name));return-1!==integrationsNames.indexOf("Debug")&&integrations.push(...integrations.splice(integrationsNames.indexOf("Debug"),1)),integrations}function initAndBind(clientClass,options){!0===options.debug&&(core_esm_flags_IS_DEBUG_BUILD?logger_logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var hub=hub_getCurrentHub(),scope=hub.getScope();scope&&scope.update(options.initialScope);var client=new clientClass(options);hub.bindClient(client)}var DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}__init(){this.name=InboundFilters.id}constructor(){let _options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=_options,InboundFilters.prototype.__init.call(this)}setupOnce(addGlobalEventProcessor,getCurrentHub){var eventProcess=event=>{var hub=getCurrentHub();if(hub){var self=hub.getIntegration(InboundFilters);if(self){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=function(){let internalOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},clientOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...internalOptions.allowUrls||[],...clientOptions.allowUrls||[]],denyUrls:[...internalOptions.denyUrls||[],...clientOptions.denyUrls||[]],ignoreErrors:[...internalOptions.ignoreErrors||[],...clientOptions.ignoreErrors||[],...DEFAULT_IGNORE_ERRORS],ignoreInternal:void 0===internalOptions.ignoreInternal||internalOptions.ignoreInternal}}(self._options,clientOptions);return function(event,options){if(options.ignoreInternal&&function(event){try{return"SentryError"===event.exception.values[0].type}catch(e){}return!1}(event))return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${getEventDescription(event)}`),!0;if(function(event,ignoreErrors){if(!ignoreErrors||!ignoreErrors.length)return!1;return function(event){if(event.message)return[event.message];if(event.exception)try{const _ref=event.exception.values&&event.exception.values[0]||{},_ref$type=_ref.type,type=void 0===_ref$type?"":_ref$type,_ref$value=_ref.value,value=void 0===_ref$value?"":_ref$value;return[`${value}`,`${type}: ${value}`]}catch(oO){return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error(`Cannot extract message for event ${getEventDescription(event)}`),[]}return[]}(event).some((message=>ignoreErrors.some((pattern=>isMatchingPattern(message,pattern)))))}(event,options.ignoreErrors))return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${getEventDescription(event)}`),!0;if(function(event,denyUrls){if(!denyUrls||!denyUrls.length)return!1;var url=_getEventFilterUrl(event);return!!url&&denyUrls.some((pattern=>isMatchingPattern(url,pattern)))}(event,options.denyUrls))return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${getEventDescription(event)}.\nUrl: ${_getEventFilterUrl(event)}`),!0;if(!function(event,allowUrls){if(!allowUrls||!allowUrls.length)return!0;var url=_getEventFilterUrl(event);return!url||allowUrls.some((pattern=>isMatchingPattern(url,pattern)))}(event,options.allowUrls))return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${getEventDescription(event)}.\nUrl: ${_getEventFilterUrl(event)}`),!0;return!1}(event,options)?null:event}}return event};eventProcess.id=this.name,addGlobalEventProcessor(eventProcess)}}function _getEventFilterUrl(event){try{let frames;try{frames=event.exception.values[0].stacktrace.frames}catch(e){}return frames?function(){let frames=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let i=frames.length-1;i>=0;i--){var frame=frames[i];if(frame&&"<anonymous>"!==frame.filename&&"[native code]"!==frame.filename)return frame.filename||null}return null}(frames):null}catch(oO){return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error(`Cannot extract url for event ${getEventDescription(event)}`),null}}let originalFunctionToString;InboundFilters.__initStatic();class FunctionToString{constructor(){FunctionToString.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=FunctionToString.id}setupOnce(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var context=getOriginalFunction(this)||this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return originalFunctionToString.apply(context,args)}}}function stacktrace_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function stacktrace_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?stacktrace_ownKeys(Object(source),!0).forEach((function(key){stacktrace_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):stacktrace_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function stacktrace_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return stacktrace_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return stacktrace_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function stacktrace_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}FunctionToString.__initStatic();function createStackParser(){for(var _len=arguments.length,parsers=new Array(_len),_key=0;_key<_len;_key++)parsers[_key]=arguments[_key];var sortedParsers=parsers.sort(((a,b)=>a[0]-b[0])).map((p=>p[1]));return function(stack){let skipFirst=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var _step,frames=[],_iterator=_createForOfIteratorHelper(stack.split("\n").slice(skipFirst));try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,line=_step.value,_iterator2=_createForOfIteratorHelper(sortedParsers);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var parser=_step2.value,frame=parser(line);if(frame){frames.push(frame);break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return stripSentryFramesAndReverse(frames)}}function stackParserFromStackParserOptions(stackParser){return Array.isArray(stackParser)?createStackParser(...stackParser):stackParser}function stripSentryFramesAndReverse(stack){if(!stack.length)return[];let localStack=stack;var firstFrameFunction=localStack[0].function||"",lastFrameFunction=localStack[localStack.length-1].function||"";return-1===firstFrameFunction.indexOf("captureMessage")&&-1===firstFrameFunction.indexOf("captureException")||(localStack=localStack.slice(1)),-1!==lastFrameFunction.indexOf("sentryWrapped")&&(localStack=localStack.slice(0,-1)),localStack.slice(0,50).map((frame=>stacktrace_objectSpread(stacktrace_objectSpread({},frame),{},{filename:frame.filename||localStack[0].filename,function:frame.function||"?"}))).reverse()}function getFunctionName(fn){try{return fn&&"function"==typeof fn&&fn.name||"<anonymous>"}catch(e){return"<anonymous>"}}function supportsFetch(){if(!("fetch"in global_getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function isNativeFetch(func){return func&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(func.toString())}function instrument_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function instrument_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?instrument_ownKeys(Object(source),!0).forEach((function(key){instrument_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):instrument_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function instrument_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function instrument_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return instrument_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return instrument_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function instrument_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var instrument_global=global_getGlobalObject(),handlers={},instrumented={};function instrument(type){if(!instrumented[type])switch(instrumented[type]=!0,type){case"console":!function(){if(!("console"in instrument_global))return;CONSOLE_LEVELS.forEach((function(level){level in instrument_global.console&&fill(instrument_global.console,level,(function(originalConsoleMethod){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];triggerHandlers("console",{args,level}),originalConsoleMethod&&originalConsoleMethod.apply(instrument_global.console,args)}}))}))}();break;case"dom":!function(){if(!("document"in instrument_global))return;var triggerDOMHandler=triggerHandlers.bind(null,"dom"),globalDOMEventHandler=makeDOMEventHandler(triggerDOMHandler,!0);instrument_global.document.addEventListener("click",globalDOMEventHandler,!1),instrument_global.document.addEventListener("keypress",globalDOMEventHandler,!1),["EventTarget","Node"].forEach((target=>{var proto=instrument_global[target]&&instrument_global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(fill(proto,"addEventListener",(function(originalAddEventListener){return function(type,listener,options){if("click"===type||"keypress"==type)try{var el=this,handlers=el.__sentry_instrumentation_handlers__=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers[type]=handlers[type]||{refCount:0};if(!handlerForType.handler){var handler=makeDOMEventHandler(triggerDOMHandler);handlerForType.handler=handler,originalAddEventListener.call(this,type,handler,options)}handlerForType.refCount+=1}catch(e){}return originalAddEventListener.call(this,type,listener,options)}})),fill(proto,"removeEventListener",(function(originalRemoveEventListener){return function(type,listener,options){if("click"===type||"keypress"==type)try{var el=this,handlers=el.__sentry_instrumentation_handlers__||{},handlerForType=handlers[type];handlerForType&&(handlerForType.refCount-=1,handlerForType.refCount<=0&&(originalRemoveEventListener.call(this,type,handlerForType.handler,options),handlerForType.handler=void 0,delete handlers[type]),0===Object.keys(handlers).length&&delete el.__sentry_instrumentation_handlers__)}catch(e){}return originalRemoveEventListener.call(this,type,listener,options)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in instrument_global))return;var xhrproto=XMLHttpRequest.prototype;fill(xhrproto,"open",(function(originalOpen){return function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];var xhr=this,url=args[1],xhrInfo=xhr.__sentry_xhr__={method:isString(args[0])?args[0].toUpperCase():args[0],url:args[1]};isString(url)&&"POST"===xhrInfo.method&&url.match(/sentry_key/)&&(xhr.__sentry_own_request__=!0);var onreadystatechangeHandler=function(){if(4===xhr.readyState){try{xhrInfo.status_code=xhr.status}catch(e){}triggerHandlers("xhr",{args,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr})}};return"onreadystatechange"in xhr&&"function"==typeof xhr.onreadystatechange?fill(xhr,"onreadystatechange",(function(original){return function(){onreadystatechangeHandler();for(var _len4=arguments.length,readyStateArgs=new Array(_len4),_key4=0;_key4<_len4;_key4++)readyStateArgs[_key4]=arguments[_key4];return original.apply(xhr,readyStateArgs)}})):xhr.addEventListener("readystatechange",onreadystatechangeHandler),originalOpen.apply(xhr,args)}})),fill(xhrproto,"send",(function(originalSend){return function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return this.__sentry_xhr__&&void 0!==args[0]&&(this.__sentry_xhr__.body=args[0]),triggerHandlers("xhr",{args,startTimestamp:Date.now(),xhr:this}),originalSend.apply(this,args)}}))}();break;case"fetch":!function(){if(!function(){if(!supportsFetch())return!1;var global=global_getGlobalObject();if(isNativeFetch(global.fetch))return!0;let result=!1;var doc=global.document;if(doc&&"function"==typeof doc.createElement)try{var sandbox=doc.createElement("iframe");sandbox.hidden=!0,doc.head.appendChild(sandbox),sandbox.contentWindow&&sandbox.contentWindow.fetch&&(result=isNativeFetch(sandbox.contentWindow.fetch)),doc.head.removeChild(sandbox)}catch(err){flags_IS_DEBUG_BUILD&&logger_logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",err)}return result}())return;fill(instrument_global,"fetch",(function(originalFetch){return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var handlerData={args,fetchData:{method:getFetchMethod(args),url:getFetchUrl(args)},startTimestamp:Date.now()};return triggerHandlers("fetch",instrument_objectSpread({},handlerData)),originalFetch.apply(instrument_global,args).then((response=>(triggerHandlers("fetch",instrument_objectSpread(instrument_objectSpread({},handlerData),{},{endTimestamp:Date.now(),response})),response)),(error=>{throw triggerHandlers("fetch",instrument_objectSpread(instrument_objectSpread({},handlerData),{},{endTimestamp:Date.now(),error})),error}))}}))}();break;case"history":!function(){if(!function(){var global=global_getGlobalObject(),chrome=global.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasHistoryApi="history"in global&&!!global.history.pushState&&!!global.history.replaceState;return!isChromePackagedApp&&hasHistoryApi}())return;var oldOnPopState=instrument_global.onpopstate;function historyReplacementFunction(originalHistoryFunction){return function(){for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];var url=args.length>2?args[2]:void 0;if(url){var from=lastHref,to=String(url);lastHref=to,triggerHandlers("history",{from,to})}return originalHistoryFunction.apply(this,args)}}instrument_global.onpopstate=function(){var to=instrument_global.location.href,from=lastHref;if(lastHref=to,triggerHandlers("history",{from,to}),oldOnPopState)try{for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return oldOnPopState.apply(this,args)}catch(_oO){}},fill(instrument_global.history,"pushState",historyReplacementFunction),fill(instrument_global.history,"replaceState",historyReplacementFunction)}();break;case"error":_oldOnErrorHandler=instrument_global.onerror,instrument_global.onerror=function(msg,url,line,column,error){return triggerHandlers("error",{column,error,line,msg,url}),!!_oldOnErrorHandler&&_oldOnErrorHandler.apply(this,arguments)};break;case"unhandledrejection":_oldOnUnhandledRejectionHandler=instrument_global.onunhandledrejection,instrument_global.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),!_oldOnUnhandledRejectionHandler||_oldOnUnhandledRejectionHandler.apply(this,arguments)};break;default:return void(flags_IS_DEBUG_BUILD&&logger_logger.warn("unknown instrumentation type:",type))}}function addInstrumentationHandler(type,callback){handlers[type]=handlers[type]||[],handlers[type].push(callback),instrument(type)}function triggerHandlers(type,data){if(type&&handlers[type]){var _step,_iterator=instrument_createForOfIteratorHelper(handlers[type]||[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var handler=_step.value;try{handler(data)}catch(e){flags_IS_DEBUG_BUILD&&logger_logger.error(`Error while triggering instrumentation handler.\nType: ${type}\nName: ${getFunctionName(handler)}\nError:`,e)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}function getFetchMethod(){let fetchArgs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"Request"in instrument_global&&isInstanceOf(fetchArgs[0],Request)&&fetchArgs[0].method?String(fetchArgs[0].method).toUpperCase():fetchArgs[1]&&fetchArgs[1].method?String(fetchArgs[1].method).toUpperCase():"GET"}function getFetchUrl(){let fetchArgs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"string"==typeof fetchArgs[0]?fetchArgs[0]:"Request"in instrument_global&&isInstanceOf(fetchArgs[0],Request)?fetchArgs[0].url:String(fetchArgs[0])}let lastHref;let debounceTimerID,lastCapturedEvent;function shouldShortcircuitPreviousDebounce(previous,current){if(!previous)return!0;if(previous.type!==current.type)return!0;try{if(previous.target!==current.target)return!0}catch(e){}return!1}function shouldSkipDOMEvent(event){if("keypress"!==event.type)return!1;try{var target=event.target;if(!target||!target.tagName)return!0;if("INPUT"===target.tagName||"TEXTAREA"===target.tagName||target.isContentEditable)return!1}catch(e){}return!0}function makeDOMEventHandler(handler){let globalListener=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return event=>{if(event&&lastCapturedEvent!==event&&!shouldSkipDOMEvent(event)){var name="keypress"===event.type?"input":event.type;(void 0===debounceTimerID||shouldShortcircuitPreviousDebounce(lastCapturedEvent,event))&&(handler({event,name,global:globalListener}),lastCapturedEvent=event),clearTimeout(debounceTimerID),debounceTimerID=instrument_global.setTimeout((()=>{debounceTimerID=void 0}),1e3)}}}let _oldOnErrorHandler=null;let _oldOnUnhandledRejectionHandler=null;function _optionalChain(ops){let lastAccessLHS,value=ops[0],i=1;for(;i<ops.length;){var op=ops[i],fn=ops[i+1];if(i+=2,("optionalAccess"===op||"optionalCall"===op)&&null==value)return;"access"===op||"optionalAccess"===op?(lastAccessLHS=value,value=fn(value)):"call"!==op&&"optionalCall"!==op||(value=fn((function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return value.call(lastAccessLHS,...args)})),lastAccessLHS=void 0)}return value}class SentryError extends Error{constructor(message){super(message),this.message=message,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}function dsn_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return dsn_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dsn_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dsn_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dsn_dsnToString(dsn){let withPassword=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const host=dsn.host,path=dsn.path,pass=dsn.pass,port=dsn.port,projectId=dsn.projectId,protocol=dsn.protocol,publicKey=dsn.publicKey;return`${protocol}://${publicKey}${withPassword&&pass?`:${pass}`:""}@${host}${port?`:${port}`:""}/${path?`${path}/`:path}${projectId}`}function dsnFromString(str){var match=DSN_REGEX.exec(str);if(!match)throw new SentryError(`Invalid Sentry Dsn: ${str}`);const _match$slice2=dsn_slicedToArray(match.slice(1),6),protocol=_match$slice2[0],publicKey=_match$slice2[1],_match$slice2$=_match$slice2[2],pass=void 0===_match$slice2$?"":_match$slice2$,host=_match$slice2[3],_match$slice2$2=_match$slice2[4],port=void 0===_match$slice2$2?"":_match$slice2$2;let path="",projectId=_match$slice2[5];var split=projectId.split("/");if(split.length>1&&(path=split.slice(0,-1).join("/"),projectId=split.pop()),projectId){var projectMatch=projectId.match(/^\d+/);projectMatch&&(projectId=projectMatch[0])}return dsnFromComponents({host,pass,path,projectId,port,protocol,publicKey})}function dsnFromComponents(components){return{protocol:components.protocol,publicKey:components.publicKey||"",pass:components.pass||"",host:components.host,port:components.port||"",path:components.path||"",projectId:components.projectId}}function dsn_makeDsn(from){var components="string"==typeof from?dsnFromString(from):dsnFromComponents(from);return function(dsn){if(!flags_IS_DEBUG_BUILD)return;const port=dsn.port,projectId=dsn.projectId,protocol=dsn.protocol;if(["protocol","publicKey","host","projectId"].forEach((component=>{if(!dsn[component])throw new SentryError(`Invalid Sentry Dsn: ${component} missing`)})),!projectId.match(/^\d+$/))throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${projectId}`);if(!function(protocol){return"http"===protocol||"https"===protocol}(protocol))throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${protocol}`);if(port&&isNaN(parseInt(port,10)))throw new SentryError(`Invalid Sentry Dsn: Invalid port ${port}`)}(components),components}function envelope_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=envelope_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){didErr=!0,err=_e3},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function envelope_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||envelope_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function envelope_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return envelope_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?envelope_arrayLikeToArray(o,minLen):void 0}}function envelope_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function createEnvelope(headers){let items=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[headers,items]}function addItemToEnvelope(envelope,newItem){const _envelope=envelope_slicedToArray(envelope,2);return[_envelope[0],[..._envelope[1],newItem]]}function forEachEnvelopeItem(envelope,callback){envelope[1].forEach((envelopeItem=>{var envelopeItemType=envelopeItem[0].type;callback(envelopeItem,envelopeItemType)}))}function encodeUTF8(input,textEncoder){return(textEncoder||new TextEncoder).encode(input)}function serializeEnvelope(envelope,textEncoder){const _envelope2=envelope_slicedToArray(envelope,2),envHeaders=_envelope2[0],items=_envelope2[1];let parts=JSON.stringify(envHeaders);function append(next){"string"==typeof parts?parts="string"==typeof next?parts+next:[encodeUTF8(parts,textEncoder),next]:parts.push("string"==typeof next?encodeUTF8(next,textEncoder):next)}var _step,_iterator=envelope_createForOfIteratorHelper(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){const _item=envelope_slicedToArray(_step.value,2),itemHeaders=_item[0],payload=_item[1];append(`\n${JSON.stringify(itemHeaders)}\n`),append("string"==typeof payload||payload instanceof Uint8Array?payload:JSON.stringify(payload))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return"string"==typeof parts?parts:function(buffers){var totalLength=buffers.reduce(((acc,buf)=>acc+buf.length),0),merged=new Uint8Array(totalLength);let offset=0;var _step2,_iterator2=envelope_createForOfIteratorHelper(buffers);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var buffer=_step2.value;merged.set(buffer,offset),offset+=buffer.length}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return merged}(parts)}function createAttachmentEnvelopeItem(attachment,textEncoder){var buffer="string"==typeof attachment.data?encodeUTF8(attachment.data,textEncoder):attachment.data;return[dropUndefinedKeys({type:"attachment",length:buffer.length,filename:attachment.filename,content_type:attachment.contentType,attachment_type:attachment.attachmentType}),buffer]}var ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function envelopeItemTypeToDataCategory(type){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[type]}function normalize_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return normalize_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return normalize_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function normalize_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function normalize(input){let depth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,maxProperties=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return visit("",input,depth,maxProperties)}catch(err){return{ERROR:`**non-serializable** (${err})`}}}function normalizeToSize(object){let depth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,maxSize=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;var normalized=normalize(object,depth);return jsonSize(normalized)>maxSize?normalizeToSize(object,depth-1,maxSize):normalized}function visit(key,value){let depth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,maxProperties=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,memo=arguments.length>4&&void 0!==arguments[4]?arguments[4]:memoBuilder();const _memo=normalize_slicedToArray(memo,2),memoize=_memo[0],unmemoize=_memo[1];var valueWithToJSON=value;if(valueWithToJSON&&"function"==typeof valueWithToJSON.toJSON)try{return valueWithToJSON.toJSON()}catch(err){}if(null===value||["number","boolean","string"].includes(typeof value)&&!is_isNaN(value))return value;var stringified=stringifyValue(key,value);if(!stringified.startsWith("[object "))return stringified;if(value.__sentry_skip_normalization__)return value;if(0===depth)return stringified.replace("object ","");if(memoize(value))return"[Circular ~]";var normalized=Array.isArray(value)?[]:{};let numAdded=0;var visitable=convertToPlainObject(value);for(var visitKey in visitable)if(Object.prototype.hasOwnProperty.call(visitable,visitKey)){if(numAdded>=maxProperties){normalized[visitKey]="[MaxProperties ~]";break}var visitValue=visitable[visitKey];normalized[visitKey]=visit(visitKey,visitValue,depth-1,maxProperties,memo),numAdded+=1}return unmemoize(value),normalized}function stringifyValue(key,value){try{return"domain"===key&&value&&"object"==typeof value&&value._events?"[Domain]":"domainEmitter"===key?"[DomainEmitter]":"undefined"!=typeof global&&value===global?"[Global]":"undefined"!=typeof window&&value===window?"[Window]":"undefined"!=typeof document&&value===document?"[Document]":isPlainObject(wat=value)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat?"[SyntheticEvent]":"number"==typeof value&&value!=value?"[NaN]":void 0===value?"[undefined]":"function"==typeof value?`[Function: ${getFunctionName(value)}]`:"symbol"==typeof value?`[${String(value)}]`:"bigint"==typeof value?`[BigInt: ${String(value)}]`:`[object ${Object.getPrototypeOf(value).constructor.name}]`}catch(err){return`**non-serializable** (${err})`}var wat}function jsonSize(value){return function(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))}function getBaseApiEndpoint(dsn){var protocol=dsn.protocol?`${dsn.protocol}:`:"",port=dsn.port?`:${dsn.port}`:"";return`${protocol}//${dsn.host}${port}${dsn.path?`/${dsn.path}`:""}/api/`}function _encodedAuth(dsn){return function(object){return Object.keys(object).map((key=>`${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)).join("&")}({sentry_key:dsn.publicKey,sentry_version:"7"})}function getEnvelopeEndpointWithUrlEncodedAuth(dsn,tunnel){return tunnel||`${function(dsn){return`${getBaseApiEndpoint(dsn)}${dsn.projectId}/envelope/`}(dsn)}?${_encodedAuth(dsn)}`}function envelope_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function envelope_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?envelope_ownKeys(Object(source),!0).forEach((function(key){envelope_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):envelope_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function envelope_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getSdkMetadataForEnvelopeHeader(metadata){if(!metadata||!metadata.sdk)return;const _metadata$sdk=metadata.sdk;return{name:_metadata$sdk.name,version:_metadata$sdk.version}}function createEventEnvelope(event,dsn,metadata,tunnel){var sdkInfo=getSdkMetadataForEnvelopeHeader(metadata),eventType=event.type||"event";const _ref2=(event.sdkProcessingMetadata||{}).transactionSampling||{},samplingMethod=_ref2.method,sampleRate=_ref2.rate;!function(event,sdkInfo){sdkInfo&&(event.sdk=event.sdk||{},event.sdk.name=event.sdk.name||sdkInfo.name,event.sdk.version=event.sdk.version||sdkInfo.version,event.sdk.integrations=[...event.sdk.integrations||[],...sdkInfo.integrations||[]],event.sdk.packages=[...event.sdk.packages||[],...sdkInfo.packages||[]])}(event,metadata&&metadata.sdk),event.tags=event.tags||{},event.extra=event.extra||{},event.sdkProcessingMetadata&&event.sdkProcessingMetadata.baseClientNormalized||(event.tags.skippedNormalization=!0,event.extra.normalizeDepth=event.sdkProcessingMetadata?event.sdkProcessingMetadata.normalizeDepth:"unset"),delete event.sdkProcessingMetadata;var envelopeHeaders=function(event,sdkInfo,tunnel,dsn){return envelope_objectSpread(envelope_objectSpread(envelope_objectSpread({event_id:event.event_id,sent_at:(new Date).toISOString()},sdkInfo&&{sdk:sdkInfo}),!!tunnel&&{dsn:dsn_dsnToString(dsn)}),"transaction"===event.type&&event.contexts&&event.contexts.trace&&{trace:dropUndefinedKeys({trace_id:event.contexts.trace.trace_id,environment:event.environment,release:event.release,transaction:event.transaction,user:event.user&&{id:event.user.id,segment:event.user.segment},public_key:dsn.publicKey})})}(event,sdkInfo,tunnel,dsn);return createEnvelope(envelopeHeaders,[[{type:eventType,sample_rates:[{id:samplingMethod,rate:sampleRate}]},event]])}function baseclient_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||baseclient_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function baseclient_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=baseclient_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){didErr=!0,err=_e3},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function baseclient_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return baseclient_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?baseclient_arrayLikeToArray(o,minLen):void 0}}function baseclient_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function baseclient_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function baseclient_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?baseclient_ownKeys(Object(source),!0).forEach((function(key){baseclient_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):baseclient_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function baseclient_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(options){if(BaseClient.prototype.__init.call(this),BaseClient.prototype.__init2.call(this),BaseClient.prototype.__init3.call(this),BaseClient.prototype.__init4.call(this),this._options=options,options.dsn){this._dsn=dsn_makeDsn(options.dsn);var url=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,options.tunnel);this._transport=options.transport(baseclient_objectSpread(baseclient_objectSpread({recordDroppedEvent:this.recordDroppedEvent.bind(this)},options.transportOptions),{},{url}))}else core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("No DSN provided, client will not do anything.")}captureException(exception,hint,scope){if(checkOrSetAlreadyCaught(exception))return void(core_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(ALREADY_SEEN_ERROR));let eventId=hint&&hint.event_id;return this._process(this.eventFromException(exception,hint).then((event=>this._captureEvent(event,hint,scope))).then((result=>{eventId=result}))),eventId}captureMessage(message,level,hint,scope){let eventId=hint&&hint.event_id;var promisedEvent=is_isPrimitive(message)?this.eventFromMessage(String(message),level,hint):this.eventFromException(message,hint);return this._process(promisedEvent.then((event=>this._captureEvent(event,hint,scope))).then((result=>{eventId=result}))),eventId}captureEvent(event,hint,scope){if(hint&&hint.originalException&&checkOrSetAlreadyCaught(hint.originalException))return void(core_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(ALREADY_SEEN_ERROR));let eventId=hint&&hint.event_id;return this._process(this._captureEvent(event,hint,scope).then((result=>{eventId=result}))),eventId}captureSession(session){this._isEnabled()?"string"!=typeof session.release?core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(session),updateSession(session,{init:!1})):core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(timeout){var transport=this._transport;return transport?this._isClientDoneProcessing(timeout).then((clientFinished=>transport.flush(timeout).then((transportFlushed=>clientFinished&&transportFlushed)))):syncpromise_resolvedSyncPromise(!0)}close(timeout){return this.flush(timeout).then((result=>(this.getOptions().enabled=!1,result)))}setupIntegrations(){var integrations,integrationIndex;this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(integrations=this._options.integrations,integrationIndex={},integrations.forEach((integration=>{integrationIndex[integration.name]=integration,-1===installedIntegrations.indexOf(integration.name)&&(integration.setupOnce(addGlobalEventProcessor,hub_getCurrentHub),installedIntegrations.push(integration.name),core_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`Integration installed: ${integration.name}`))})),integrationIndex),this._integrationsInitialized=!0)}getIntegrationById(integrationId){return this._integrations[integrationId]}getIntegration(integration){try{return this._integrations[integration.id]||null}catch(_oO){return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Cannot retrieve integration ${integration.id} from the current Client`),null}}sendEvent(event){let hint=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._dsn){let env=createEventEnvelope(event,this._dsn,this._options._metadata,this._options.tunnel);var _step,_iterator=baseclient_createForOfIteratorHelper(hint.attachments||[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){env=addItemToEnvelope(env,createAttachmentEnvelopeItem(_step.value,_optionalChain([this,"access",_=>_._options,"access",_2=>_2.transportOptions,"optionalAccess",_3=>_3.textEncoder])))}}catch(err){_iterator.e(err)}finally{_iterator.f()}this._sendEnvelope(env)}}sendSession(session){if(this._dsn){var env=function(session,dsn,metadata,tunnel){var sdkInfo=getSdkMetadataForEnvelopeHeader(metadata);return createEnvelope(envelope_objectSpread(envelope_objectSpread({sent_at:(new Date).toISOString()},sdkInfo&&{sdk:sdkInfo}),!!tunnel&&{dsn:dsn_dsnToString(dsn)}),["aggregates"in session?[{type:"sessions"},session]:[{type:"session"},session]])}(session,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(env)}}recordDroppedEvent(reason,category){if(this._options.sendClientReports){var key=`${reason}:${category}`;core_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`Adding outcome: "${key}"`),this._outcomes[key]=this._outcomes[key]+1||1}}_updateSessionFromEvent(session,event){let crashed=!1,errored=!1;var exceptions=event.exception&&event.exception.values;if(exceptions){errored=!0;var _step2,_iterator2=baseclient_createForOfIteratorHelper(exceptions);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var mechanism=_step2.value.mechanism;if(mechanism&&!1===mechanism.handled){crashed=!0;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}var sessionNonTerminal="ok"===session.status;(sessionNonTerminal&&0===session.errors||sessionNonTerminal&&crashed)&&(updateSession(session,baseclient_objectSpread(baseclient_objectSpread({},crashed&&{status:"crashed"}),{},{errors:session.errors||Number(errored||crashed)})),this.captureSession(session))}_isClientDoneProcessing(timeout){return new SyncPromise((resolve=>{let ticked=0;var interval=setInterval((()=>{0==this._numProcessing?(clearInterval(interval),resolve(!0)):(ticked+=1,timeout&&ticked>=timeout&&(clearInterval(interval),resolve(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(event,hint,scope){const _this$getOptions=this.getOptions(),_this$getOptions$norm=_this$getOptions.normalizeDepth,normalizeDepth=void 0===_this$getOptions$norm?3:_this$getOptions$norm,_this$getOptions$norm2=_this$getOptions.normalizeMaxBreadth,normalizeMaxBreadth=void 0===_this$getOptions$norm2?1e3:_this$getOptions$norm2;var prepared=baseclient_objectSpread(baseclient_objectSpread({},event),{},{event_id:event.event_id||hint.event_id||uuid4(),timestamp:event.timestamp||dateTimestampInSeconds()});this._applyClientOptions(prepared),this._applyIntegrationsMetadata(prepared);let finalScope=scope;hint.captureContext&&(finalScope=Scope.clone(finalScope).update(hint.captureContext));let result=syncpromise_resolvedSyncPromise(prepared);if(finalScope){var attachments=[...hint.attachments||[],...finalScope.getAttachments()];attachments.length&&(hint.attachments=attachments),result=finalScope.applyToEvent(prepared,hint)}return result.then((evt=>(evt&&(evt.sdkProcessingMetadata=baseclient_objectSpread(baseclient_objectSpread({},evt.sdkProcessingMetadata),{},{normalizeDepth:`${normalize(normalizeDepth)} (${typeof normalizeDepth})`})),"number"==typeof normalizeDepth&&normalizeDepth>0?this._normalizeEvent(evt,normalizeDepth,normalizeMaxBreadth):evt)))}_normalizeEvent(event,depth,maxBreadth){if(!event)return null;var normalized=baseclient_objectSpread(baseclient_objectSpread(baseclient_objectSpread(baseclient_objectSpread(baseclient_objectSpread({},event),event.breadcrumbs&&{breadcrumbs:event.breadcrumbs.map((b=>baseclient_objectSpread(baseclient_objectSpread({},b),b.data&&{data:normalize(b.data,depth,maxBreadth)})))}),event.user&&{user:normalize(event.user,depth,maxBreadth)}),event.contexts&&{contexts:normalize(event.contexts,depth,maxBreadth)}),event.extra&&{extra:normalize(event.extra,depth,maxBreadth)});return event.contexts&&event.contexts.trace&&(normalized.contexts.trace=event.contexts.trace),normalized.sdkProcessingMetadata=baseclient_objectSpread(baseclient_objectSpread({},normalized.sdkProcessingMetadata),{},{baseClientNormalized:!0}),normalized}_applyClientOptions(event){var options=this.getOptions();const environment=options.environment,release=options.release,dist=options.dist,_options$maxValueLeng=options.maxValueLength,maxValueLength=void 0===_options$maxValueLeng?250:_options$maxValueLeng;"environment"in event||(event.environment="environment"in options?environment:"production"),void 0===event.release&&void 0!==release&&(event.release=release),void 0===event.dist&&void 0!==dist&&(event.dist=dist),event.message&&(event.message=truncate(event.message,maxValueLength));var exception=event.exception&&event.exception.values&&event.exception.values[0];exception&&exception.value&&(exception.value=truncate(exception.value,maxValueLength));var request=event.request;request&&request.url&&(request.url=truncate(request.url,maxValueLength))}_applyIntegrationsMetadata(event){var integrationsArray=Object.keys(this._integrations);integrationsArray.length>0&&(event.sdk=event.sdk||{},event.sdk.integrations=[...event.sdk.integrations||[],...integrationsArray])}_captureEvent(event){let hint=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},scope=arguments.length>2?arguments[2]:void 0;return this._processEvent(event,hint,scope).then((finalEvent=>finalEvent.event_id),(reason=>{core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(reason)}))}_processEvent(event,hint,scope){const _this$getOptions2=this.getOptions(),beforeSend=_this$getOptions2.beforeSend,sampleRate=_this$getOptions2.sampleRate;if(!this._isEnabled())return rejectedSyncPromise(new SentryError("SDK not enabled, will not capture event."));var isTransaction="transaction"===event.type;return!isTransaction&&"number"==typeof sampleRate&&Math.random()>sampleRate?(this.recordDroppedEvent("sample_rate","error"),rejectedSyncPromise(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${sampleRate})`))):this._prepareEvent(event,hint,scope).then((prepared=>{if(null===prepared)throw this.recordDroppedEvent("event_processor",event.type||"error"),new SentryError("An event processor returned null, will not send event.");return hint.data&&!0===hint.data.__sentry__||isTransaction||!beforeSend?prepared:function(rv){var nullErr="`beforeSend` method has to return `null` or a valid event.";if(isThenable(rv))return rv.then((event=>{if(!isPlainObject(event)&&null!==event)throw new SentryError(nullErr);return event}),(e=>{throw new SentryError(`beforeSend rejected with ${e}`)}));if(!isPlainObject(rv)&&null!==rv)throw new SentryError(nullErr);return rv}(beforeSend(prepared,hint))})).then((processedEvent=>{if(null===processedEvent)throw this.recordDroppedEvent("before_send",event.type||"error"),new SentryError("`beforeSend` returned `null`, will not send event.");var session=scope&&scope.getSession();return!isTransaction&&session&&this._updateSessionFromEvent(session,processedEvent),this.sendEvent(processedEvent,hint),processedEvent})).then(null,(reason=>{if(reason instanceof SentryError)throw reason;throw this.captureException(reason,{data:{__sentry__:!0},originalException:reason}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${reason}`)}))}_process(promise){this._numProcessing+=1,promise.then((value=>(this._numProcessing-=1,value)),(reason=>(this._numProcessing-=1,reason)))}_sendEnvelope(envelope){this._transport&&this._dsn?this._transport.send(envelope).then(null,(reason=>{core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error("Error while sending event:",reason)})):core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error("Transport disabled")}_clearOutcomes(){var outcomes=this._outcomes;return this._outcomes={},Object.keys(outcomes).map((key=>{const _key$split2=baseclient_slicedToArray(key.split(":"),2);return{reason:_key$split2[0],category:_key$split2[1],quantity:outcomes[key]}}))}}function eventbuilder_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function eventbuilder_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?eventbuilder_ownKeys(Object(source),!0).forEach((function(key){eventbuilder_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):eventbuilder_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function eventbuilder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function exceptionFromError(stackParser,ex){var frames=parseStackFrames(stackParser,ex),exception={type:ex&&ex.name,value:extractMessage(ex)};return frames.length&&(exception.stacktrace={frames}),void 0===exception.type&&""===exception.value&&(exception.value="Unrecoverable error caught"),exception}function eventFromError(stackParser,ex){return{exception:{values:[exceptionFromError(stackParser,ex)]}}}function parseStackFrames(stackParser,ex){var stacktrace=ex.stacktrace||ex.stack||"",popSize=function(ex){if(ex){if("number"==typeof ex.framesToPop)return ex.framesToPop;if(reactMinifiedRegexp.test(ex.message))return 1}return 0}(ex);try{return stackParser(stacktrace,popSize)}catch(e){}return[]}var reactMinifiedRegexp=/Minified React error #\d+;/i;function extractMessage(ex){var message=ex&&ex.message;return message?message.error&&"string"==typeof message.error.message?message.error.message:message:"No error message"}function eventFromUnknownInput(stackParser,exception,syntheticException,attachStacktrace,isUnhandledRejection){let event;if(isErrorEvent(exception)&&exception.error)return eventFromError(stackParser,exception.error);if(isDOMError(exception)||isBuiltin(exception,"DOMException")){var domException=exception;if("stack"in exception)event=eventFromError(stackParser,exception);else{var name=domException.name||(isDOMError(domException)?"DOMError":"DOMException"),message=domException.message?`${name}: ${domException.message}`:name;event=eventFromString(stackParser,message,syntheticException,attachStacktrace),addExceptionTypeValue(event,message)}return"code"in domException&&(event.tags=eventbuilder_objectSpread(eventbuilder_objectSpread({},event.tags),{},{"DOMException.code":`${domException.code}`})),event}return isError(exception)?eventFromError(stackParser,exception):isPlainObject(exception)||isEvent(exception)?(event=function(stackParser,exception,syntheticException,isUnhandledRejection){var event={exception:{values:[{type:isEvent(exception)?exception.constructor.name:isUnhandledRejection?"UnhandledRejection":"Error",value:`Non-Error ${isUnhandledRejection?"promise rejection":"exception"} captured with keys: ${extractExceptionKeysForMessage(exception)}`}]},extra:{__serialized__:normalizeToSize(exception)}};if(syntheticException){var frames=parseStackFrames(stackParser,syntheticException);frames.length&&(event.exception.values[0].stacktrace={frames})}return event}(stackParser,exception,syntheticException,isUnhandledRejection),addExceptionMechanism(event,{synthetic:!0}),event):(event=eventFromString(stackParser,exception,syntheticException,attachStacktrace),addExceptionTypeValue(event,`${exception}`,void 0),addExceptionMechanism(event,{synthetic:!0}),event)}function eventFromString(stackParser,input,syntheticException,attachStacktrace){var event={message:input};if(attachStacktrace&&syntheticException){var frames=parseStackFrames(stackParser,syntheticException);frames.length&&(event.exception={values:[{value:input,stacktrace:{frames}}]})}return event}var browser_esm_flags_IS_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString(level){return"warn"===level?"warning":validSeverityLevels.includes(level)?level:"log"}function breadcrumbs_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function breadcrumbs_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?breadcrumbs_ownKeys(Object(source),!0).forEach((function(key){breadcrumbs_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):breadcrumbs_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function breadcrumbs_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Breadcrumbs{static __initStatic(){this.id="Breadcrumbs"}__init(){this.name=Breadcrumbs.id}constructor(options){Breadcrumbs.prototype.__init.call(this),this.options=breadcrumbs_objectSpread({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},options)}setupOnce(){this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",function(dom){function _innerDomBreadcrumb(handlerData){let target,keyAttrs="object"==typeof dom?dom.serializeAttribute:void 0;"string"==typeof keyAttrs&&(keyAttrs=[keyAttrs]);try{target=handlerData.event.target?htmlTreeAsString(handlerData.event.target,keyAttrs):htmlTreeAsString(handlerData.event,keyAttrs)}catch(e){target="<unknown>"}0!==target.length&&hub_getCurrentHub().addBreadcrumb({category:`ui.${handlerData.name}`,message:target},{event:handlerData.event,name:handlerData.name,global:handlerData.global})}return _innerDomBreadcrumb}(this.options.dom)),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb)}}function _consoleBreadcrumb(handlerData){var breadcrumb={category:"console",data:{arguments:handlerData.args,logger:"console"},level:severityLevelFromString(handlerData.level),message:safeJoin(handlerData.args," ")};if("assert"===handlerData.level){if(!1!==handlerData.args[0])return;breadcrumb.message=`Assertion failed: ${safeJoin(handlerData.args.slice(1)," ")||"console.assert"}`,breadcrumb.data.arguments=handlerData.args.slice(1)}hub_getCurrentHub().addBreadcrumb(breadcrumb,{input:handlerData.args,level:handlerData.level})}function _xhrBreadcrumb(handlerData){if(handlerData.endTimestamp){if(handlerData.xhr.__sentry_own_request__)return;const _ref=handlerData.xhr.__sentry_xhr__||{},method=_ref.method,url=_ref.url,status_code=_ref.status_code,body=_ref.body;hub_getCurrentHub().addBreadcrumb({category:"xhr",data:{method,url,status_code},type:"http"},{xhr:handlerData.xhr,input:body})}else;}function _fetchBreadcrumb(handlerData){handlerData.endTimestamp&&(handlerData.fetchData.url.match(/sentry_key/)&&"POST"===handlerData.fetchData.method||(handlerData.error?hub_getCurrentHub().addBreadcrumb({category:"fetch",data:handlerData.fetchData,level:"error",type:"http"},{data:handlerData.error,input:handlerData.args}):hub_getCurrentHub().addBreadcrumb({category:"fetch",data:breadcrumbs_objectSpread(breadcrumbs_objectSpread({},handlerData.fetchData),{},{status_code:handlerData.response.status}),type:"http"},{input:handlerData.args,response:handlerData.response})))}function _historyBreadcrumb(handlerData){var global=global_getGlobalObject();let from=handlerData.from,to=handlerData.to;var parsedLoc=parseUrl(global.location.href);let parsedFrom=parseUrl(from);var parsedTo=parseUrl(to);parsedFrom.path||(parsedFrom=parsedLoc),parsedLoc.protocol===parsedTo.protocol&&parsedLoc.host===parsedTo.host&&(to=parsedTo.relative),parsedLoc.protocol===parsedFrom.protocol&&parsedLoc.host===parsedFrom.host&&(from=parsedFrom.relative),hub_getCurrentHub().addBreadcrumb({category:"navigation",data:{from,to}})}Breadcrumbs.__initStatic();var utils_global=global_getGlobalObject();let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(utils_global.fetch))return cachedFetchImpl=utils_global.fetch.bind(utils_global);var document=utils_global.document;let fetchImpl=utils_global.fetch;if(document&&"function"==typeof document.createElement)try{var sandbox=document.createElement("iframe");sandbox.hidden=!0,document.head.appendChild(sandbox);var contentWindow=sandbox.contentWindow;contentWindow&&contentWindow.fetch&&(fetchImpl=contentWindow.fetch),document.head.removeChild(sandbox)}catch(e){browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return cachedFetchImpl=fetchImpl.bind(utils_global)}var globalObject=global_getGlobalObject();class BrowserClient extends BaseClient{constructor(options){options._metadata=options._metadata||{},options._metadata.sdk=options._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"7.0.0"}],version:"7.0.0"},super(options),options.sendClientReports&&globalObject.document&&globalObject.document.addEventListener("visibilitychange",(()=>{"hidden"===globalObject.document.visibilityState&&this._flushOutcomes()}))}eventFromException(exception,hint){return function(stackParser,exception,hint,attachStacktrace){var event=eventFromUnknownInput(stackParser,exception,hint&&hint.syntheticException||void 0,attachStacktrace);return addExceptionMechanism(event),event.level="error",hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise_resolvedSyncPromise(event)}(this._options.stackParser,exception,hint,this._options.attachStacktrace)}eventFromMessage(message){let level=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",hint=arguments.length>2?arguments[2]:void 0;return function(stackParser,message){let level=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",hint=arguments.length>3?arguments[3]:void 0,attachStacktrace=arguments.length>4?arguments[4]:void 0;var syntheticException=hint&&hint.syntheticException||void 0,event=eventFromString(stackParser,message,syntheticException,attachStacktrace);return event.level=level,hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise_resolvedSyncPromise(event)}(this._options.stackParser,message,level,hint,this._options.attachStacktrace)}sendEvent(event,hint){var breadcrumbIntegration=this.getIntegrationById("Breadcrumbs");breadcrumbIntegration&&breadcrumbIntegration.options&&breadcrumbIntegration.options.sentry&&hub_getCurrentHub().addBreadcrumb({category:"sentry."+("transaction"===event.type?"transaction":"event"),event_id:event.event_id,level:event.level,message:getEventDescription(event)},{event}),super.sendEvent(event,hint)}_prepareEvent(event,hint,scope){return event.platform=event.platform||"javascript",super._prepareEvent(event,hint,scope)}_flushOutcomes(){var outcomes=this._clearOutcomes();if(0!==outcomes.length)if(this._dsn){browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("Sending outcomes:",outcomes);var discarded_events,dsn,timestamp,url=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,this._options.tunnel),envelope=(discarded_events=outcomes,createEnvelope((dsn=this._options.tunnel&&dsn_dsnToString(this._dsn))?{dsn}:{},[[{type:"client_report"},{timestamp:timestamp||dateTimestampInSeconds(),discarded_events}]]));try{!function(url,body){"[object Navigator]"===Object.prototype.toString.call(utils_global&&utils_global.navigator)&&"function"==typeof utils_global.navigator.sendBeacon?utils_global.navigator.sendBeacon.bind(utils_global.navigator)(url,body):supportsFetch()&&getNativeFetchImplementation()(url,{body,method:"POST",credentials:"omit",keepalive:!0}).then(null,(error=>logger_logger.error(error)))}(url,serializeEnvelope(envelope))}catch(e){browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.error(e)}}else browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("No dsn provided, will not send outcomes");else browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("No outcomes to send")}}function stack_parsers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return stack_parsers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return stack_parsers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function stack_parsers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function createFrame(filename,func,lineno,colno){var frame={filename,function:func,in_app:!0};return void 0!==lineno&&(frame.lineno=lineno),void 0!==colno&&(frame.colno=colno),frame}var chromeRegex=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,defaultStackParser=createStackParser(...[[30,line=>{var parts=chromeRegex.exec(line);if(parts){if(parts[2]&&0===parts[2].indexOf("eval")){var subMatch=chromeEvalRegex.exec(parts[2]);subMatch&&(parts[2]=subMatch[1],parts[3]=subMatch[2],parts[4]=subMatch[3])}const _extractSafariExtensi2=stack_parsers_slicedToArray(extractSafariExtensionDetails(parts[1]||"?",parts[2]),2),func=_extractSafariExtensi2[0];return createFrame(_extractSafariExtensi2[1],func,parts[3]?+parts[3]:void 0,parts[4]?+parts[4]:void 0)}}],[50,line=>{var parts=geckoREgex.exec(line);if(parts){if(parts[3]&&parts[3].indexOf(" > eval")>-1){var subMatch=geckoEvalRegex.exec(parts[3]);subMatch&&(parts[1]=parts[1]||"eval",parts[3]=subMatch[1],parts[4]=subMatch[2],parts[5]="")}let filename=parts[3],func=parts[1]||"?";var _extractSafariExtensi4=stack_parsers_slicedToArray(extractSafariExtensionDetails(func,filename),2);return func=_extractSafariExtensi4[0],filename=_extractSafariExtensi4[1],createFrame(filename,func,parts[4]?+parts[4]:void 0,parts[5]?+parts[5]:void 0)}}],[40,line=>{var parts=winjsRegex.exec(line);return parts?createFrame(parts[2],parts[1]||"?",+parts[3],parts[4]?+parts[4]:void 0):void 0}]]),extractSafariExtensionDetails=(func,filename)=>{var isSafariExtension=-1!==func.indexOf("safari-extension"),isSafariWebExtension=-1!==func.indexOf("safari-web-extension");return isSafariExtension||isSafariWebExtension?[-1!==func.indexOf("@")?func.split("@")[0]:"?",isSafariExtension?`safari-extension:${filename}`:`safari-web-extension:${filename}`]:[func,filename]};function helpers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function helpers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?helpers_ownKeys(Object(source),!0).forEach((function(key){helpers_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):helpers_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function helpers_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError+=1,setTimeout((()=>{ignoreOnError-=1}))}function wrap(fn){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},before=arguments.length>2?arguments[2]:void 0;if("function"!=typeof fn)return fn;try{var wrapper=fn.__sentry_wrapped__;if(wrapper)return wrapper;if(getOriginalFunction(fn))return fn}catch(e){return fn}var sentryWrapped=function(){var args=Array.prototype.slice.call(arguments);try{before&&"function"==typeof before&&before.apply(this,arguments);var wrappedArguments=args.map((arg=>wrap(arg,options)));return fn.apply(this,wrappedArguments)}catch(ex){throw ignoreNextOnError(),withScope((scope=>{scope.addEventProcessor((event=>(options.mechanism&&(addExceptionTypeValue(event,void 0,void 0),addExceptionMechanism(event,options.mechanism)),event.extra=helpers_objectSpread(helpers_objectSpread({},event.extra),{},{arguments:args}),event))),captureException(ex)})),ex}};try{for(var property in fn)Object.prototype.hasOwnProperty.call(fn,property)&&(sentryWrapped[property]=fn[property])}catch(_oO){}markFunctionWrapped(sentryWrapped,fn),addNonEnumerableProperty(fn,"__sentry_wrapped__",sentryWrapped);try{var descriptor=Object.getOwnPropertyDescriptor(sentryWrapped,"name");descriptor.configurable&&Object.defineProperty(sentryWrapped,"name",{get:()=>fn.name})}catch(_oO){}return sentryWrapped}function trycatch_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function trycatch_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}__init(){this.name=TryCatch.id}constructor(options){TryCatch.prototype.__init.call(this),this._options=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?trycatch_ownKeys(Object(source),!0).forEach((function(key){trycatch_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):trycatch_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},options)}setupOnce(){var global=global_getGlobalObject();this._options.setTimeout&&fill(global,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(global,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(global,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in global&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);var eventTargetOption=this._options.eventTarget;eventTargetOption&&(Array.isArray(eventTargetOption)?eventTargetOption:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}function _wrapTimeFunction(original){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var originalCallback=args[0];return args[0]=wrap(originalCallback,{mechanism:{data:{function:getFunctionName(original)},handled:!0,type:"instrument"}}),original.apply(this,args)}}function _wrapRAF(original){return function(callback){return original.apply(this,[wrap(callback,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(original)},handled:!0,type:"instrument"}})])}}function _wrapXHR(originalSend){return function(){var xhr=this,xmlHttpRequestProps=["onload","onerror","onprogress","onreadystatechange"];xmlHttpRequestProps.forEach((prop=>{prop in xhr&&"function"==typeof xhr[prop]&&fill(xhr,prop,(function(original){var wrapOptions={mechanism:{data:{function:prop,handler:getFunctionName(original)},handled:!0,type:"instrument"}},originalFunction=getOriginalFunction(original);return originalFunction&&(wrapOptions.mechanism.data.handler=getFunctionName(originalFunction)),wrap(original,wrapOptions)}))}));for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return originalSend.apply(this,args)}}function _wrapEventTarget(target){var global=global_getGlobalObject(),proto=global[target]&&global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(fill(proto,"addEventListener",(function(original){return function(eventName,fn,options){try{"function"==typeof fn.handleEvent&&(fn.handleEvent=wrap(fn.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(fn),target},handled:!0,type:"instrument"}}))}catch(err){}return original.apply(this,[eventName,wrap(fn,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(fn),target},handled:!0,type:"instrument"}}),options])}})),fill(proto,"removeEventListener",(function(originalRemoveEventListener){return function(eventName,fn,options){var wrappedEventHandler=fn;try{var originalEventHandler=wrappedEventHandler&&wrappedEventHandler.__sentry_wrapped__;originalEventHandler&&originalRemoveEventListener.call(this,eventName,originalEventHandler,options)}catch(e){}return originalRemoveEventListener.call(this,eventName,wrappedEventHandler,options)}})))}function globalhandlers_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return globalhandlers_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return globalhandlers_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function globalhandlers_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function globalhandlers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function globalhandlers_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}TryCatch.__initStatic();class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=GlobalHandlers.id}__init2(){this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}constructor(options){GlobalHandlers.prototype.__init.call(this),GlobalHandlers.prototype.__init2.call(this),this._options=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?globalhandlers_ownKeys(Object(source),!0).forEach((function(key){globalhandlers_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):globalhandlers_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({onerror:!0,onunhandledrejection:!0},options)}setupOnce(){Error.stackTraceLimit=50;var options=this._options;for(var key in options){var installFunc=this._installFunc[key];installFunc&&options[key]&&(globalHandlerLog(key),installFunc(),this._installFunc[key]=void 0)}}}function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",(data=>{const _getHubAndOptions2=globalhandlers_slicedToArray(getHubAndOptions(),3),hub=_getHubAndOptions2[0],stackParser=_getHubAndOptions2[1],attachStacktrace=_getHubAndOptions2[2];if(!hub.getIntegration(GlobalHandlers))return;const msg=data.msg,url=data.url,line=data.line,column=data.column,error=data.error;if(!(shouldIgnoreOnError()||error&&error.__sentry_own_request__)){var event=void 0===error&&isString(msg)?function(msg,url,line,column){var ERROR_TYPES_RE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let message=isErrorEvent(msg)?msg.message:msg,name="Error";var groups=message.match(ERROR_TYPES_RE);groups&&(name=groups[1],message=groups[2]);return _enhanceEventWithInitialFrame({exception:{values:[{type:name,value:message}]}},url,line,column)}(msg,url,line,column):_enhanceEventWithInitialFrame(eventFromUnknownInput(stackParser,error||msg,void 0,attachStacktrace,!1),url,line,column);event.level="error",addMechanismAndCapture(hub,error,event,"onerror")}}))}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",(e=>{const _getHubAndOptions4=globalhandlers_slicedToArray(getHubAndOptions(),3),hub=_getHubAndOptions4[0],stackParser=_getHubAndOptions4[1],attachStacktrace=_getHubAndOptions4[2];if(!hub.getIntegration(GlobalHandlers))return;let error=e;try{"reason"in e?error=e.reason:"detail"in e&&"reason"in e.detail&&(error=e.detail.reason)}catch(_oO){}if(shouldIgnoreOnError()||error&&error.__sentry_own_request__)return!0;var event=is_isPrimitive(error)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(error)}`}]}}:eventFromUnknownInput(stackParser,error,void 0,attachStacktrace,!0);event.level="error",addMechanismAndCapture(hub,error,event,"onunhandledrejection")}))}function _enhanceEventWithInitialFrame(event,url,line,column){var e=event.exception=event.exception||{},ev=e.values=e.values||[],ev0=ev[0]=ev[0]||{},ev0s=ev0.stacktrace=ev0.stacktrace||{},ev0sf=ev0s.frames=ev0s.frames||[],colno=isNaN(parseInt(column,10))?void 0:column,lineno=isNaN(parseInt(line,10))?void 0:line,filename=isString(url)&&url.length>0?url:function(){var global=global_getGlobalObject();try{return global.document.location.href}catch(oO){return""}}();return 0===ev0sf.length&&ev0sf.push({colno,filename,function:"?",in_app:!0,lineno}),event}function globalHandlerLog(type){browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`Global Handler attached: ${type}`)}function addMechanismAndCapture(hub,error,event,type){addExceptionMechanism(event,{handled:!1,type}),hub.captureEvent(event,{originalException:error})}function getHubAndOptions(){var hub=hub_getCurrentHub(),client=hub.getClient(),options=client&&client.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[hub,options.stackParser,options.attachStacktrace]}GlobalHandlers.__initStatic();class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=LinkedErrors.id}constructor(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};LinkedErrors.prototype.__init.call(this),this._key=options.key||"cause",this._limit=options.limit||5}setupOnce(){var client=hub_getCurrentHub().getClient();client&&addGlobalEventProcessor(((event,hint)=>{var self=hub_getCurrentHub().getIntegration(LinkedErrors);return self?function(parser,key,limit,event,hint){if(!(event.exception&&event.exception.values&&hint&&isInstanceOf(hint.originalException,Error)))return event;var linkedErrors=_walkErrorTree(parser,limit,hint.originalException,key);return event.exception.values=[...linkedErrors,...event.exception.values],event}(client.getOptions().stackParser,self._key,self._limit,event,hint):event}))}}function _walkErrorTree(parser,limit,error,key){let stack=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!isInstanceOf(error[key],Error)||stack.length+1>=limit)return stack;var exception=exceptionFromError(parser,error[key]);return _walkErrorTree(parser,limit,error[key],key,[exception,...stack])}LinkedErrors.__initStatic();class Dedupe{constructor(){Dedupe.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Dedupe.id}setupOnce(addGlobalEventProcessor,getCurrentHub){var eventProcessor=currentEvent=>{var self=getCurrentHub().getIntegration(Dedupe);if(self){try{if(function(currentEvent,previousEvent){if(!previousEvent)return!1;if(function(currentEvent,previousEvent){var currentMessage=currentEvent.message,previousMessage=previousEvent.message;if(!currentMessage&&!previousMessage)return!1;if(currentMessage&&!previousMessage||!currentMessage&&previousMessage)return!1;if(currentMessage!==previousMessage)return!1;if(!_isSameFingerprint(currentEvent,previousEvent))return!1;if(!_isSameStacktrace(currentEvent,previousEvent))return!1;return!0}(currentEvent,previousEvent))return!0;if(function(currentEvent,previousEvent){var previousException=_getExceptionFromEvent(previousEvent),currentException=_getExceptionFromEvent(currentEvent);if(!previousException||!currentException)return!1;if(previousException.type!==currentException.type||previousException.value!==currentException.value)return!1;if(!_isSameFingerprint(currentEvent,previousEvent))return!1;if(!_isSameStacktrace(currentEvent,previousEvent))return!1;return!0}(currentEvent,previousEvent))return!0;return!1}(currentEvent,self._previousEvent))return browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(_oO){return self._previousEvent=currentEvent}return self._previousEvent=currentEvent}return currentEvent};eventProcessor.id=this.name,addGlobalEventProcessor(eventProcessor)}}function _isSameStacktrace(currentEvent,previousEvent){let currentFrames=_getFramesFromEvent(currentEvent),previousFrames=_getFramesFromEvent(previousEvent);if(!currentFrames&&!previousFrames)return!0;if(currentFrames&&!previousFrames||!currentFrames&&previousFrames)return!1;if(currentFrames=currentFrames,previousFrames=previousFrames,previousFrames.length!==currentFrames.length)return!1;for(let i=0;i<previousFrames.length;i++){var frameA=previousFrames[i],frameB=currentFrames[i];if(frameA.filename!==frameB.filename||frameA.lineno!==frameB.lineno||frameA.colno!==frameB.colno||frameA.function!==frameB.function)return!1}return!0}function _isSameFingerprint(currentEvent,previousEvent){let currentFingerprint=currentEvent.fingerprint,previousFingerprint=previousEvent.fingerprint;if(!currentFingerprint&&!previousFingerprint)return!0;if(currentFingerprint&&!previousFingerprint||!currentFingerprint&&previousFingerprint)return!1;currentFingerprint=currentFingerprint,previousFingerprint=previousFingerprint;try{return!(currentFingerprint.join("")!==previousFingerprint.join(""))}catch(_oO){return!1}}function _getExceptionFromEvent(event){return event.exception&&event.exception.values&&event.exception.values[0]}function _getFramesFromEvent(event){var exception=event.exception;if(exception)try{return exception.values[0].stacktrace.frames}catch(_oO){return}}function httpcontext_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function httpcontext_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?httpcontext_ownKeys(Object(source),!0).forEach((function(key){httpcontext_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):httpcontext_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function httpcontext_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Dedupe.__initStatic();var httpcontext_global=global_getGlobalObject();class HttpContext{constructor(){HttpContext.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=HttpContext.id}setupOnce(){addGlobalEventProcessor((event=>{if(hub_getCurrentHub().getIntegration(HttpContext)){if(!httpcontext_global.navigator&&!httpcontext_global.location&&!httpcontext_global.document)return event;var url=event.request&&event.request.url||httpcontext_global.location&&httpcontext_global.location.href;const referrer=(httpcontext_global.document||{}).referrer,userAgent=(httpcontext_global.navigator||{}).userAgent;var headers=httpcontext_objectSpread(httpcontext_objectSpread(httpcontext_objectSpread({},event.request&&event.request.headers),referrer&&{Referer:referrer}),userAgent&&{"User-Agent":userAgent}),request=httpcontext_objectSpread(httpcontext_objectSpread({},url&&{url}),{},{headers});return httpcontext_objectSpread(httpcontext_objectSpread({},event),{},{request})}return event}))}}function makePromiseBuffer(limit){var buffer=[];function remove(task){return buffer.splice(buffer.indexOf(task),1)[0]}return{$:buffer,add:function(taskProducer){if(!(void 0===limit||buffer.length<limit))return rejectedSyncPromise(new SentryError("Not adding Promise due to buffer limit reached."));var task=taskProducer();return-1===buffer.indexOf(task)&&buffer.push(task),task.then((()=>remove(task))).then(null,(()=>remove(task).then(null,(()=>{})))),task},drain:function(timeout){return new SyncPromise(((resolve,reject)=>{let counter=buffer.length;if(!counter)return resolve(!0);var capturedSetTimeout=setTimeout((()=>{timeout&&timeout>0&&resolve(!1)}),timeout);buffer.forEach((item=>{syncpromise_resolvedSyncPromise(item).then((()=>{--counter||(clearTimeout(capturedSetTimeout),resolve(!0))}),reject)}))}))}}}function ratelimit_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||ratelimit_unsupportedIterableToArray(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ratelimit_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=ratelimit_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e3){didErr=!0,err=_e3},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function ratelimit_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return ratelimit_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ratelimit_arrayLikeToArray(o,minLen):void 0}}function ratelimit_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ratelimit_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function ratelimit_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ratelimit_ownKeys(Object(source),!0).forEach((function(key){ratelimit_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ratelimit_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function ratelimit_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}HttpContext.__initStatic();function parseRetryAfterHeader(header){let now=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();var headerDelay=parseInt(`${header}`,10);if(!isNaN(headerDelay))return 1e3*headerDelay;var headerDate=Date.parse(`${header}`);return isNaN(headerDate)?6e4:headerDate-now}function disabledUntil(limits,category){return limits[category]||limits.all||0}function isRateLimited(limits,category){let now=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return disabledUntil(limits,category)>now}function updateRateLimits(limits,_ref){let statusCode=_ref.statusCode,headers=_ref.headers,now=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();var updatedRateLimits=ratelimit_objectSpread({},limits),rateLimitHeader=headers&&headers["x-sentry-rate-limits"],retryAfterHeader=headers&&headers["retry-after"];if(rateLimitHeader){var _step,_iterator=ratelimit_createForOfIteratorHelper(rateLimitHeader.trim().split(","));try{for(_iterator.s();!(_step=_iterator.n()).done;){var limit=_step.value;const _limit$split2=ratelimit_slicedToArray(limit.split(":",2),2),retryAfter=_limit$split2[0],categories=_limit$split2[1];var headerDelay=parseInt(retryAfter,10),delay=1e3*(isNaN(headerDelay)?60:headerDelay);if(categories){var _step2,_iterator2=ratelimit_createForOfIteratorHelper(categories.split(";"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var category=_step2.value;updatedRateLimits[category]=now+delay}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}else updatedRateLimits.all=now+delay}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else retryAfterHeader?updatedRateLimits.all=now+parseRetryAfterHeader(retryAfterHeader,now):429===statusCode&&(updatedRateLimits.all=now+6e4);return updatedRateLimits}function createTransport(options,makeRequest){let buffer=arguments.length>2&&void 0!==arguments[2]?arguments[2]:makePromiseBuffer(options.bufferSize||30),rateLimits={};var flush=timeout=>buffer.drain(timeout);function send(envelope){var filteredEnvelopeItems=[];if(forEachEnvelopeItem(envelope,((item,type)=>{var envelopeItemDataCategory=envelopeItemTypeToDataCategory(type);isRateLimited(rateLimits,envelopeItemDataCategory)?options.recordDroppedEvent("ratelimit_backoff",envelopeItemDataCategory):filteredEnvelopeItems.push(item)})),0===filteredEnvelopeItems.length)return syncpromise_resolvedSyncPromise();var filteredEnvelope=createEnvelope(envelope[0],filteredEnvelopeItems),recordEnvelopeLoss=reason=>{forEachEnvelopeItem(filteredEnvelope,((_,type)=>{options.recordDroppedEvent(reason,envelopeItemTypeToDataCategory(type))}))};return buffer.add((()=>makeRequest({body:serializeEnvelope(filteredEnvelope,options.textEncoder)}).then((response=>{void 0!==response.statusCode&&(response.statusCode<200||response.statusCode>=300)&&core_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`Sentry responded with status code ${response.statusCode} to sent event.`),rateLimits=updateRateLimits(rateLimits,response)}),(error=>{core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error("Failed while sending event:",error),recordEnvelopeLoss("network_error")})))).then((result=>result),(error=>{if(error instanceof SentryError)return core_esm_flags_IS_DEBUG_BUILD&&logger_logger.error("Skipped sending event due to full buffer"),recordEnvelopeLoss("queue_overflow"),syncpromise_resolvedSyncPromise();throw error}))}return{send,flush}}function fetch_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function fetch_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?fetch_ownKeys(Object(source),!0).forEach((function(key){fetch_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):fetch_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function fetch_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function makeFetchTransport(options){let nativeFetch=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getNativeFetchImplementation();function makeRequest(request){var requestOptions=fetch_objectSpread({body:request.body,method:"POST",referrerPolicy:"origin",headers:options.headers},options.fetchOptions);return nativeFetch(options.url,requestOptions).then((response=>({statusCode:response.status,headers:{"x-sentry-rate-limits":response.headers.get("X-Sentry-Rate-Limits"),"retry-after":response.headers.get("Retry-After")}})))}return createTransport(options,makeRequest)}function makeXHRTransport(options){return createTransport(options,(function(request){return new SyncPromise(((resolve,reject)=>{var xhr=new XMLHttpRequest;for(var header in xhr.onerror=reject,xhr.onreadystatechange=()=>{4===xhr.readyState&&resolve({statusCode:xhr.status,headers:{"x-sentry-rate-limits":xhr.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":xhr.getResponseHeader("Retry-After")}})},xhr.open("POST",options.url),options.headers)Object.prototype.hasOwnProperty.call(options.headers,header)&&xhr.setRequestHeader(header,options.headers[header]);xhr.send(request.body)}))}))}function sdk_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function sdk_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?sdk_ownKeys(Object(source),!0).forEach((function(key){sdk_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):sdk_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function sdk_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function startSessionOnHub(hub){hub.startSession({ignoreDuration:!0}),hub.captureSession()}function startSessionTracking(){if(void 0!==global_getGlobalObject().document){var hub=hub_getCurrentHub();hub.captureSession&&(startSessionOnHub(hub),addInstrumentationHandler("history",(_ref=>{let from=_ref.from,to=_ref.to;void 0!==from&&from!==to&&startSessionOnHub(hub_getCurrentHub())})))}else browser_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}var tracing_esm_flags_IS_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function hasTracingEnabled(maybeOptions){var client=hub_getCurrentHub().getClient(),options=maybeOptions||client&&client.getOptions();return!!options&&("tracesSampleRate"in options||"tracesSampler"in options)}function getActiveTransaction(maybeHub){var scope=(maybeHub||hub_getCurrentHub()).getScope();return scope&&scope.getTransaction()}function msToSec(time){return time/1e3}function errorCallback(){var activeTransaction=getActiveTransaction();if(activeTransaction){tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] Transaction: internal_error -> Global error occured"),activeTransaction.setStatus("internal_error")}}function _nullishCoalesce(lhs,rhsFn){return null!=lhs?lhs:rhsFn()}function span_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function span_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?span_ownKeys(Object(source),!0).forEach((function(key){span_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):span_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function span_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SpanRecorder{__init(){this.spans=[]}constructor(){let maxlen=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;SpanRecorder.prototype.__init.call(this),this._maxlen=maxlen}add(span){this.spans.length>this._maxlen?span.spanRecorder=void 0:this.spans.push(span)}}class Span{__init2(){this.traceId=uuid4()}__init3(){this.spanId=uuid4().substring(16)}__init4(){this.startTimestamp=timestampWithMs()}__init5(){this.tags={}}__init6(){this.data={}}constructor(spanContext){if(Span.prototype.__init2.call(this),Span.prototype.__init3.call(this),Span.prototype.__init4.call(this),Span.prototype.__init5.call(this),Span.prototype.__init6.call(this),!spanContext)return this;spanContext.traceId&&(this.traceId=spanContext.traceId),spanContext.spanId&&(this.spanId=spanContext.spanId),spanContext.parentSpanId&&(this.parentSpanId=spanContext.parentSpanId),"sampled"in spanContext&&(this.sampled=spanContext.sampled),spanContext.op&&(this.op=spanContext.op),spanContext.description&&(this.description=spanContext.description),spanContext.data&&(this.data=spanContext.data),spanContext.tags&&(this.tags=spanContext.tags),spanContext.status&&(this.status=spanContext.status),spanContext.startTimestamp&&(this.startTimestamp=spanContext.startTimestamp),spanContext.endTimestamp&&(this.endTimestamp=spanContext.endTimestamp)}startChild(spanContext){var childSpan=new Span(span_objectSpread(span_objectSpread({},spanContext),{},{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return childSpan.spanRecorder=this.spanRecorder,childSpan.spanRecorder&&childSpan.spanRecorder.add(childSpan),childSpan.transaction=this.transaction,childSpan}setTag(key,value){return this.tags=span_objectSpread(span_objectSpread({},this.tags),{},{[key]:value}),this}setData(key,value){return this.data=span_objectSpread(span_objectSpread({},this.data),{},{[key]:value}),this}setStatus(value){return this.status=value,this}setHttpStatus(httpStatus){this.setTag("http.status_code",String(httpStatus));var spanStatus=function(httpStatus){if(httpStatus<400&&httpStatus>=100)return"ok";if(httpStatus>=400&&httpStatus<500)switch(httpStatus){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(httpStatus>=500&&httpStatus<600)switch(httpStatus){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(httpStatus);return"unknown_error"!==spanStatus&&this.setStatus(spanStatus),this}isSuccess(){return"ok"===this.status}finish(endTimestamp){this.endTimestamp="number"==typeof endTimestamp?endTimestamp:timestampWithMs()}toTraceparent(){let sampledString="";return void 0!==this.sampled&&(sampledString=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${sampledString}`}toContext(){return dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(spanContext){return this.data=_nullishCoalesce(spanContext.data,(()=>({}))),this.description=spanContext.description,this.endTimestamp=spanContext.endTimestamp,this.op=spanContext.op,this.parentSpanId=spanContext.parentSpanId,this.sampled=spanContext.sampled,this.spanId=_nullishCoalesce(spanContext.spanId,(()=>this.spanId)),this.startTimestamp=_nullishCoalesce(spanContext.startTimestamp,(()=>this.startTimestamp)),this.status=spanContext.status,this.tags=_nullishCoalesce(spanContext.tags,(()=>({}))),this.traceId=_nullishCoalesce(spanContext.traceId,(()=>this.traceId)),this}getTraceContext(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}getBaggage(){return this.transaction&&this.transaction.metadata.baggage}toJSON(){return dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function transaction_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function transaction_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?transaction_ownKeys(Object(source),!0).forEach((function(key){transaction_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):transaction_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function transaction_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Transaction extends Span{__init(){this._measurements={}}constructor(transactionContext,hub){super(transactionContext),Transaction.prototype.__init.call(this),this._hub=hub||hub_getCurrentHub(),this.name=transactionContext.name||"",this.metadata=transactionContext.metadata||{},this._trimEnd=transactionContext.trimEnd,this.transaction=this}setName(name){this.name=name}initSpanRecorder(){let maxlen=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new SpanRecorder(maxlen)),this.spanRecorder.add(this)}setMeasurement(name,value){let unit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[name]={value,unit}}setMetadata(newMetadata){this.metadata=transaction_objectSpread(transaction_objectSpread({},this.metadata),newMetadata)}finish(endTimestamp){if(void 0===this.endTimestamp){if(this.name||(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(endTimestamp),!0===this.sampled){var finishedSpans=this.spanRecorder?this.spanRecorder.spans.filter((s=>s!==this&&s.endTimestamp)):[];this._trimEnd&&finishedSpans.length>0&&(this.endTimestamp=finishedSpans.reduce(((prev,current)=>prev.endTimestamp&&current.endTimestamp?prev.endTimestamp>current.endTimestamp?prev:current:prev)).endTimestamp);var transaction={contexts:{trace:this.getTraceContext()},spans:finishedSpans,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),transaction.measurements=this._measurements),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(transaction)}tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var client=this._hub.getClient();client&&client.recordDroppedEvent("sample_rate","transaction")}}toContext(){return dropUndefinedKeys(transaction_objectSpread(transaction_objectSpread({},super.toContext()),{},{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(transactionContext){return super.updateWithContext(transactionContext),this.name=_nullishCoalesce(transactionContext.name,(()=>"")),this._trimEnd=transactionContext.trimEnd,this}}function idletransaction_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return idletransaction_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return idletransaction_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function idletransaction_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}class IdleTransactionSpanRecorder extends SpanRecorder{constructor(_pushActivity,_popActivity,transactionSpanId,maxlen){super(maxlen),this._pushActivity=_pushActivity,this._popActivity=_popActivity,this.transactionSpanId=transactionSpanId}add(span){span.spanId!==this.transactionSpanId&&(span.finish=endTimestamp=>{span.endTimestamp="number"==typeof endTimestamp?endTimestamp:timestampWithMs(),this._popActivity(span.spanId)},void 0===span.endTimestamp&&this._pushActivity(span.spanId)),super.add(span)}}class IdleTransaction extends Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(transactionContext,_idleHub){let _idleTimeout=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,_finalTimeout=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e4,_onScope=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(transactionContext,_idleHub),this._idleHub=_idleHub,this._idleTimeout=_idleTimeout,this._finalTimeout=_finalTimeout,this._onScope=_onScope,IdleTransaction.prototype.__init.call(this),IdleTransaction.prototype.__init2.call(this),IdleTransaction.prototype.__init3.call(this),IdleTransaction.prototype.__init4.call(this),_onScope&&(clearActiveTransaction(_idleHub),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),_idleHub.configureScope((scope=>scope.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(){let endTimestamp=arguments.length>0&&void 0!==arguments[0]?arguments[0]:timestampWithMs();if(this._finished=!0,this.activities={},this.spanRecorder){tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] finishing IdleTransaction",new Date(1e3*endTimestamp).toISOString(),this.op);var _step,_iterator=idletransaction_createForOfIteratorHelper(this._beforeFinishCallbacks);try{for(_iterator.s();!(_step=_iterator.n()).done;){(0,_step.value)(this,endTimestamp)}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.spanRecorder.spans=this.spanRecorder.spans.filter((span=>{if(span.spanId===this.spanId)return!0;span.endTimestamp||(span.endTimestamp=endTimestamp,span.setStatus("cancelled"),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(span,void 0,2)));var keepSpan=span.startTimestamp<endTimestamp;return keepSpan||tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(span,void 0,2)),keepSpan})),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] flushing IdleTransaction")}else tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] No active IdleTransaction");return this._onScope&&clearActiveTransaction(this._idleHub),super.finish(endTimestamp)}registerBeforeFinishCallback(callback){this._beforeFinishCallbacks.push(callback)}initSpanRecorder(maxlen){if(!this.spanRecorder){this.spanRecorder=new IdleTransactionSpanRecorder((id=>{this._finished||this._pushActivity(id)}),(id=>{this._finished||this._popActivity(id)}),this.spanId,maxlen),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(endTimestamp){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(endTimestamp)}),this._idleTimeout)}_pushActivity(spanId){this._cancelIdleTimeout(),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] pushActivity: ${spanId}`),this.activities[spanId]=!0,tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(spanId){if(this.activities[spanId]&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] popActivity ${spanId}`),delete this.activities[spanId],tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var endTimestamp=timestampWithMs()+this._idleTimeout/1e3;this._startIdleTimeout(endTimestamp)}}_beat(){if(!this._finished){var heartbeatString=Object.keys(this.activities).join("");heartbeatString===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=heartbeatString,this._heartbeatCounter>=3?(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),5e3)}}function clearActiveTransaction(hub){var scope=hub.getScope();scope&&(scope.getTransaction()&&scope.setSpan(void 0))}function hubextensions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function hubextensions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?hubextensions_ownKeys(Object(source),!0).forEach((function(key){hubextensions_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):hubextensions_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function hubextensions_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function traceHeaders(){var scope=this.getScope();if(scope){var span=scope.getSpan();if(span)return{"sentry-trace":span.toTraceparent()}}return{}}function sample(transaction,options,samplingContext){if(!hasTracingEnabled(options))return transaction.sampled=!1,transaction;if(void 0!==transaction.sampled)return transaction.setMetadata({transactionSampling:{method:"explicitly_set"}}),transaction;let sampleRate;return"function"==typeof options.tracesSampler?(sampleRate=options.tracesSampler(samplingContext),transaction.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(sampleRate)}})):void 0!==samplingContext.parentSampled?(sampleRate=samplingContext.parentSampled,transaction.setMetadata({transactionSampling:{method:"inheritance"}})):(sampleRate=options.tracesSampleRate,transaction.setMetadata({transactionSampling:{method:"client_rate",rate:Number(sampleRate)}})),function(rate){if(is_isNaN(rate)||"number"!=typeof rate&&"boolean"!=typeof rate)return tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(rate)} of type ${JSON.stringify(typeof rate)}.`),!1;if(rate<0||rate>1)return tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${rate}.`),!1;return!0}(sampleRate)?sampleRate?(transaction.sampled=Math.random()<sampleRate,transaction.sampled?(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] starting ${transaction.op} transaction - ${transaction.name}`),transaction):(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(sampleRate)})`),transaction)):(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] Discarding transaction because "+("function"==typeof options.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),transaction.sampled=!1,transaction):(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),transaction.sampled=!1,transaction)}function _startTransaction(transactionContext,customSamplingContext){var client=this.getClient(),options=client&&client.getOptions()||{};let transaction=new Transaction(transactionContext,this);return transaction=sample(transaction,options,hubextensions_objectSpread({parentSampled:transactionContext.parentSampled,transactionContext},customSamplingContext)),transaction.sampled&&transaction.initSpanRecorder(options._experiments&&options._experiments.maxSpans),transaction}function _autoloadDatabaseIntegrations(){var carrier=getMainCarrier();if(carrier.__SENTRY__){var packageToIntegrationMapping={mongodb:()=>new(dynamicRequire(module,"./integrations/node/mongo").Mongo),mongoose:()=>new(dynamicRequire(module,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new(dynamicRequire(module,"./integrations/node/mysql").Mysql),pg:()=>new(dynamicRequire(module,"./integrations/node/postgres").Postgres)},mappedPackages=Object.keys(packageToIntegrationMapping).filter((moduleName=>!!function(moduleName){let mod;try{mod=dynamicRequire(module,moduleName)}catch(e){}try{const cwd=dynamicRequire(module,"process").cwd;mod=dynamicRequire(module,`${cwd()}/node_modules/${moduleName}`)}catch(e){}return mod}(moduleName))).map((pkg=>{try{return packageToIntegrationMapping[pkg]()}catch(e){return}})).filter((p=>p));mappedPackages.length>0&&(carrier.__SENTRY__.integrations=[...carrier.__SENTRY__.integrations||[],...mappedPackages])}}var TRACEPARENT_REGEXP=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function baggage_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return baggage_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return baggage_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function baggage_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function baggage_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function baggage_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?baggage_ownKeys(Object(source),!0).forEach((function(key){baggage_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):baggage_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function baggage_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/;function parseBaggageString(inputBaggageString){return inputBaggageString.split(",").reduce(((_ref,curr)=>{let _ref2=baggage_slicedToArray(_ref,2),baggageObj=_ref2[0],baggageString=_ref2[1];const _curr$split2=baggage_slicedToArray(curr.split("="),2),key=_curr$split2[0],val=_curr$split2[1];if(SENTRY_BAGGAGE_KEY_PREFIX_REGEX.test(key)){var baggageKey=decodeURIComponent(key.split("-")[1]);return[baggage_objectSpread(baggage_objectSpread({},baggageObj),{},{[baggageKey]:decodeURIComponent(val)}),baggageString]}return[baggageObj,""===baggageString?curr:`${baggageString},${curr}`]}),[{},""])}function mergeAndSerializeBaggage(incomingBaggage,headerBaggageString){if(!incomingBaggage&&!headerBaggageString)return"";var headerBaggage=headerBaggageString&&parseBaggageString(headerBaggageString)||void 0,thirdPartyHeaderBaggage=headerBaggage&&headerBaggage[1],finalBaggage=function(initItems){let baggageString=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return[baggage_objectSpread({},initItems),baggageString]}(incomingBaggage&&incomingBaggage[0]||{},thirdPartyHeaderBaggage||incomingBaggage&&incomingBaggage[1]||"");return function(baggage){return Object.keys(baggage[0]).reduce(((prev,key)=>{var val=baggage[0][key],baggageEntry=`sentry-${encodeURIComponent(key)}=${encodeURIComponent(val)}`,newVal=""===prev?baggageEntry:`${prev},${baggageEntry}`;return newVal.length>8192?(flags_IS_DEBUG_BUILD&&logger_logger.warn(`Not adding key: ${key} with val: ${val} to baggage due to exceeding baggage size limits.`),prev):newVal}),baggage[1])}(finalBaggage)}var backgroundtab_global=global_getGlobalObject();var bindReporter=(callback,metric,reportAllChanges)=>{let prevValue;return forceReport=>{metric.value>=0&&(forceReport||reportAllChanges)&&(metric.delta=metric.value-(prevValue||0),(metric.delta||void 0===prevValue)&&(prevValue=metric.value,callback(metric)))}},initMetric=(name,value)=>({name,value:_nullishCoalesce(value,(()=>-1)),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),observe=(type,callback)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(type)){if("first-input"===type&&!("PerformanceEventTiming"in self))return;var po=new PerformanceObserver((l=>l.getEntries().map(callback)));return po.observe({type,buffered:!0}),po}}catch(e){}},onHidden=(cb,once)=>{var onHiddenOrPageHide=event=>{"pagehide"!==event.type&&"hidden"!==global_getGlobalObject().document.visibilityState||(cb(event),once&&(removeEventListener("visibilitychange",onHiddenOrPageHide,!0),removeEventListener("pagehide",onHiddenOrPageHide,!0)))};addEventListener("visibilitychange",onHiddenOrPageHide,!0),addEventListener("pagehide",onHiddenOrPageHide,!0)};let firstHiddenTime=-1;var getVisibilityWatcher=()=>(firstHiddenTime<0&&(firstHiddenTime="hidden"===global_getGlobalObject().document.visibilityState?0:1/0,onHidden((_ref=>{let timeStamp=_ref.timeStamp;firstHiddenTime=timeStamp}),!0)),{get firstHiddenTime(){return firstHiddenTime}}),reportedMetricIDs={};const _excluded=["startTimestamp"];function utils_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function utils_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function isMeasurementValue(value){return"number"==typeof value&&isFinite(value)}function _startChild(transaction,_ref){let startTimestamp=_ref.startTimestamp,ctx=_objectWithoutProperties(_ref,_excluded);return startTimestamp&&transaction.startTimestamp>startTimestamp&&(transaction.startTimestamp=startTimestamp),transaction.startChild(function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?utils_ownKeys(Object(source),!0).forEach((function(key){utils_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):utils_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({startTimestamp},ctx))}var metrics_global=global_getGlobalObject();function getBrowserPerformanceAPI(){return!isNodeEnv()&&metrics_global&&metrics_global.document&&metrics_global.performance}let _lcpEntry,_clsEntry,_performanceCursor=0,_measurements={};function _trackCLS(){((onReport,reportAllChanges)=>{var metric=initMetric("CLS",0);let report,sessionValue=0,sessionEntries=[];var entryHandler=entry=>{if(entry&&!entry.hadRecentInput){var firstSessionEntry=sessionEntries[0],lastSessionEntry=sessionEntries[sessionEntries.length-1];sessionValue&&0!==sessionEntries.length&&entry.startTime-lastSessionEntry.startTime<1e3&&entry.startTime-firstSessionEntry.startTime<5e3?(sessionValue+=entry.value,sessionEntries.push(entry)):(sessionValue=entry.value,sessionEntries=[entry]),sessionValue>metric.value&&(metric.value=sessionValue,metric.entries=sessionEntries,report&&report())}},po=observe("layout-shift",entryHandler);po&&(report=bindReporter(onReport,metric,reportAllChanges),onHidden((()=>{po.takeRecords().map(entryHandler),report(!0)})))})((metric=>{var entry=metric.entries.pop();entry&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding CLS"),_measurements.cls={value:metric.value,unit:"millisecond"},_clsEntry=entry)}))}function _trackLCP(reportAllChanges){((onReport,reportAllChanges)=>{var visibilityWatcher=getVisibilityWatcher(),metric=initMetric("LCP");let report;var entryHandler=entry=>{var value=entry.startTime;value<visibilityWatcher.firstHiddenTime&&(metric.value=value,metric.entries.push(entry)),report&&report()},po=observe("largest-contentful-paint",entryHandler);if(po){report=bindReporter(onReport,metric,reportAllChanges);var stopListening=()=>{reportedMetricIDs[metric.id]||(po.takeRecords().map(entryHandler),po.disconnect(),reportedMetricIDs[metric.id]=!0,report(!0))};["keydown","click"].forEach((type=>{addEventListener(type,stopListening,{once:!0,capture:!0})})),onHidden(stopListening,!0)}})((metric=>{var entry=metric.entries.pop();if(entry){var timeOrigin=msToSec(browserPerformanceTimeOrigin),startTime=msToSec(entry.startTime);tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding LCP"),_measurements.lcp={value:metric.value,unit:"millisecond"},_measurements["mark.lcp"]={value:timeOrigin+startTime,unit:"second"},_lcpEntry=entry}}),reportAllChanges)}function _trackFID(){((onReport,reportAllChanges)=>{var visibilityWatcher=getVisibilityWatcher(),metric=initMetric("FID");let report;var entryHandler=entry=>{report&&entry.startTime<visibilityWatcher.firstHiddenTime&&(metric.value=entry.processingStart-entry.startTime,metric.entries.push(entry),report(!0))},po=observe("first-input",entryHandler);po&&(report=bindReporter(onReport,metric,reportAllChanges),onHidden((()=>{po.takeRecords().map(entryHandler),po.disconnect()}),!0))})((metric=>{var entry=metric.entries.pop();if(entry){var timeOrigin=msToSec(browserPerformanceTimeOrigin),startTime=msToSec(entry.startTime);tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding FID"),_measurements.fid={value:metric.value,unit:"millisecond"},_measurements["mark.fid"]={value:timeOrigin+startTime,unit:"second"}}}))}function addPerformanceEntries(transaction){var performance=getBrowserPerformanceAPI();if(!performance||!metrics_global.performance.getEntries||!browserPerformanceTimeOrigin)return;tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Tracing] Adding & adjusting spans using Performance API");var timeOrigin=msToSec(browserPerformanceTimeOrigin),performanceEntries=performance.getEntries();let responseStartTimestamp,requestStartTimestamp;performanceEntries.slice(_performanceCursor).forEach((entry=>{var startTime=msToSec(entry.startTime),duration=msToSec(entry.duration);if(!("navigation"===transaction.op&&timeOrigin+startTime<transaction.startTimestamp))switch(entry.entryType){case"navigation":!function(transaction,entry,timeOrigin){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((event=>{_addPerformanceNavigationTiming(transaction,entry,event,timeOrigin)})),_addPerformanceNavigationTiming(transaction,entry,"secureConnection",timeOrigin,"TLS/SSL","connectEnd"),_addPerformanceNavigationTiming(transaction,entry,"fetch",timeOrigin,"cache","domainLookupStart"),_addPerformanceNavigationTiming(transaction,entry,"domainLookup",timeOrigin,"DNS"),function(transaction,entry,timeOrigin){_startChild(transaction,{op:"browser",description:"request",startTimestamp:timeOrigin+msToSec(entry.requestStart),endTimestamp:timeOrigin+msToSec(entry.responseEnd)}),_startChild(transaction,{op:"browser",description:"response",startTimestamp:timeOrigin+msToSec(entry.responseStart),endTimestamp:timeOrigin+msToSec(entry.responseEnd)})}(transaction,entry,timeOrigin)}(transaction,entry,timeOrigin),responseStartTimestamp=timeOrigin+msToSec(entry.responseStart),requestStartTimestamp=timeOrigin+msToSec(entry.requestStart);break;case"mark":case"paint":case"measure":var startTimestamp=function(transaction,entry,startTime,duration,timeOrigin){var measureStartTimestamp=timeOrigin+startTime,measureEndTimestamp=measureStartTimestamp+duration;return _startChild(transaction,{description:entry.name,endTimestamp:measureEndTimestamp,op:entry.entryType,startTimestamp:measureStartTimestamp}),measureStartTimestamp}(transaction,entry,startTime,duration,timeOrigin),firstHidden=getVisibilityWatcher(),shouldRecord=entry.startTime<firstHidden.firstHiddenTime;"first-paint"===entry.name&&shouldRecord&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding FP"),_measurements.fp={value:entry.startTime,unit:"millisecond"},_measurements["mark.fp"]={value:startTimestamp,unit:"second"}),"first-contentful-paint"===entry.name&&shouldRecord&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding FCP"),_measurements.fcp={value:entry.startTime,unit:"millisecond"},_measurements["mark.fcp"]={value:startTimestamp,unit:"second"});break;case"resource":var resourceName=entry.name.replace(metrics_global.location.origin,"");!function(transaction,entry,resourceName,startTime,duration,timeOrigin){if("xmlhttprequest"===entry.initiatorType||"fetch"===entry.initiatorType)return;var data={};"transferSize"in entry&&(data["Transfer Size"]=entry.transferSize);"encodedBodySize"in entry&&(data["Encoded Body Size"]=entry.encodedBodySize);"decodedBodySize"in entry&&(data["Decoded Body Size"]=entry.decodedBodySize);var startTimestamp=timeOrigin+startTime;_startChild(transaction,{description:resourceName,endTimestamp:startTimestamp+duration,op:entry.initiatorType?`resource.${entry.initiatorType}`:"resource",startTimestamp,data})}(transaction,entry,resourceName,startTime,duration,timeOrigin)}})),_performanceCursor=Math.max(performanceEntries.length-1,0),function(transaction){var navigator=metrics_global.navigator;if(!navigator)return;var connection=navigator.connection;connection&&(connection.effectiveType&&transaction.setTag("effectiveConnectionType",connection.effectiveType),connection.type&&transaction.setTag("connectionType",connection.type),isMeasurementValue(connection.rtt)&&(_measurements["connection.rtt"]={value:connection.rtt,unit:"millisecond"}),isMeasurementValue(connection.downlink)&&(_measurements["connection.downlink"]={value:connection.downlink,unit:""}));isMeasurementValue(navigator.deviceMemory)&&transaction.setTag("deviceMemory",`${navigator.deviceMemory} GB`);isMeasurementValue(navigator.hardwareConcurrency)&&transaction.setTag("hardwareConcurrency",String(navigator.hardwareConcurrency))}(transaction),"pageload"===transaction.op&&("number"==typeof responseStartTimestamp&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding TTFB"),_measurements.ttfb={value:1e3*(responseStartTimestamp-transaction.startTimestamp),unit:"millisecond"},"number"==typeof requestStartTimestamp&&requestStartTimestamp<=responseStartTimestamp&&(_measurements["ttfb.requestTime"]={value:1e3*(responseStartTimestamp-requestStartTimestamp),unit:"second"})),["fcp","fp","lcp"].forEach((name=>{if(_measurements[name]&&!(timeOrigin>=transaction.startTimestamp)){var oldValue=_measurements[name].value,measurementTimestamp=timeOrigin+msToSec(oldValue),normalizedValue=Math.abs(1e3*(measurementTimestamp-transaction.startTimestamp)),delta=normalizedValue-oldValue;tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Measurements] Normalized ${name} from ${oldValue} to ${normalizedValue} (${delta})`),_measurements[name].value=normalizedValue}})),_measurements["mark.fid"]&&_measurements.fid&&_startChild(transaction,{description:"first input delay",endTimestamp:_measurements["mark.fid"].value+msToSec(_measurements.fid.value),op:"web.vitals",startTimestamp:_measurements["mark.fid"].value}),"fcp"in _measurements||delete _measurements.cls,Object.keys(_measurements).forEach((measurementName=>{transaction.setMeasurement(measurementName,_measurements[measurementName].value,_measurements[measurementName].unit)})),function(transaction){_lcpEntry&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding LCP Data"),_lcpEntry.element&&transaction.setTag("lcp.element",htmlTreeAsString(_lcpEntry.element)),_lcpEntry.id&&transaction.setTag("lcp.id",_lcpEntry.id),_lcpEntry.url&&transaction.setTag("lcp.url",_lcpEntry.url.trim().slice(0,200)),transaction.setTag("lcp.size",_lcpEntry.size));_clsEntry&&_clsEntry.sources&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log("[Measurements] Adding CLS Data"),_clsEntry.sources.forEach(((source,index)=>transaction.setTag(`cls.source.${index+1}`,htmlTreeAsString(source.node)))))}(transaction)),_lcpEntry=void 0,_clsEntry=void 0,_measurements={}}function _addPerformanceNavigationTiming(transaction,entry,event,timeOrigin,description,eventEnd){var end=eventEnd?entry[eventEnd]:entry[`${event}End`],start=entry[`${event}Start`];start&&end&&_startChild(transaction,{op:"browser",description:_nullishCoalesce(description,(()=>event)),startTimestamp:timeOrigin+msToSec(start),endTimestamp:timeOrigin+msToSec(end)})}function request_slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(o,minLen){if(!o)return;if("string"==typeof o)return request_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return request_arrayLikeToArray(o,minLen)}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function request_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function request_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function request_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?request_ownKeys(Object(source),!0).forEach((function(key){request_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):request_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function request_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultRequestInstrumentationOptions={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function instrumentOutgoingRequests(_options){const _defaultRequestInstru=request_objectSpread(request_objectSpread({},defaultRequestInstrumentationOptions),_options),traceFetch=_defaultRequestInstru.traceFetch,traceXHR=_defaultRequestInstru.traceXHR,tracingOrigins=_defaultRequestInstru.tracingOrigins,shouldCreateSpanForRequest=_defaultRequestInstru.shouldCreateSpanForRequest;var urlMap={},defaultShouldCreateSpan=url=>{if(urlMap[url])return urlMap[url];var origins=tracingOrigins;return urlMap[url]=origins.some((origin=>isMatchingPattern(url,origin)))&&!isMatchingPattern(url,"sentry_key"),urlMap[url]};let shouldCreateSpan=defaultShouldCreateSpan;"function"==typeof shouldCreateSpanForRequest&&(shouldCreateSpan=url=>defaultShouldCreateSpan(url)&&shouldCreateSpanForRequest(url));var spans={};traceFetch&&addInstrumentationHandler("fetch",(handlerData=>{!function(handlerData,shouldCreateSpan,spans){if(!hasTracingEnabled()||!handlerData.fetchData||!shouldCreateSpan(handlerData.fetchData.url))return;if(handlerData.endTimestamp){var spanId=handlerData.fetchData.__span;if(!spanId)return;return void((span=spans[spanId])&&(handlerData.response?span.setHttpStatus(handlerData.response.status):handlerData.error&&span.setStatus("internal_error"),span.finish(),delete spans[spanId]))}var activeTransaction=getActiveTransaction();if(activeTransaction){var span=activeTransaction.startChild({data:request_objectSpread(request_objectSpread({},handlerData.fetchData),{},{type:"fetch"}),description:`${handlerData.fetchData.method} ${handlerData.fetchData.url}`,op:"http.client"});handlerData.fetchData.__span=span.spanId,spans[span.spanId]=span;var request=handlerData.args[0]=handlerData.args[0],options=handlerData.args[1]=handlerData.args[1]||{};options.headers=function(request,span,options){let headers=options.headers;isInstanceOf(request,Request)&&(headers=request.headers);var incomingBaggage=span.getBaggage();if(headers)if("function"==typeof headers.append)headers.append("sentry-trace",span.toTraceparent()),headers.append("baggage",mergeAndSerializeBaggage(incomingBaggage,headers.get("baggage")));else if(Array.isArray(headers)){const _headers$find=headers.find((_ref=>{let _ref2=request_slicedToArray(_ref,2),key=_ref2[0];_ref2[1];return"baggage"===key})),headerBaggageString=request_slicedToArray(_headers$find,2)[1];headers=[...headers,["sentry-trace",span.toTraceparent()],["baggage",mergeAndSerializeBaggage(incomingBaggage,headerBaggageString)]]}else headers=request_objectSpread(request_objectSpread({},headers),{},{"sentry-trace":span.toTraceparent(),baggage:mergeAndSerializeBaggage(incomingBaggage,headers.baggage)});else headers={"sentry-trace":span.toTraceparent(),baggage:mergeAndSerializeBaggage(incomingBaggage)};return headers}(request,span,options)}}(handlerData,shouldCreateSpan,spans)})),traceXHR&&addInstrumentationHandler("xhr",(handlerData=>{!function(handlerData,shouldCreateSpan,spans){if(!hasTracingEnabled()||handlerData.xhr&&handlerData.xhr.__sentry_own_request__||!(handlerData.xhr&&handlerData.xhr.__sentry_xhr__&&shouldCreateSpan(handlerData.xhr.__sentry_xhr__.url)))return;var xhr=handlerData.xhr.__sentry_xhr__;if(handlerData.endTimestamp){var spanId=handlerData.xhr.__sentry_xhr_span_id__;if(!spanId)return;return void((span=spans[spanId])&&(span.setHttpStatus(xhr.status_code),span.finish(),delete spans[spanId]))}var activeTransaction=getActiveTransaction();if(activeTransaction){var span=activeTransaction.startChild({data:request_objectSpread(request_objectSpread({},xhr.data),{},{type:"xhr",method:xhr.method,url:xhr.url}),description:`${xhr.method} ${xhr.url}`,op:"http.client"});if(handlerData.xhr.__sentry_xhr_span_id__=span.spanId,spans[handlerData.xhr.__sentry_xhr_span_id__]=span,handlerData.xhr.setRequestHeader)try{handlerData.xhr.setRequestHeader("sentry-trace",span.toTraceparent());var headerBaggageString=handlerData.xhr.getRequestHeader&&handlerData.xhr.getRequestHeader("baggage");handlerData.xhr.setRequestHeader("baggage",mergeAndSerializeBaggage(span.getBaggage(),headerBaggageString))}catch(_){}}}(handlerData,shouldCreateSpan,spans)}))}var router_global=global_getGlobalObject();function browsertracing_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function browsertracing_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?browsertracing_ownKeys(Object(source),!0).forEach((function(key){browsertracing_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):browsertracing_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function browsertracing_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var carrier,DEFAULT_BROWSER_TRACING_OPTIONS=browsertracing_objectSpread({idleTimeout:1e3,finalTimeout:3e4,markBackgroundTransactions:!0,routingInstrumentation:function(customStartTransaction){let startTransactionOnPageLoad=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],startTransactionOnLocationChange=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!router_global||!router_global.location)return void(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("Could not initialize routing instrumentation due to invalid location"));let activeTransaction,startingUrl=router_global.location.href;startTransactionOnPageLoad&&(activeTransaction=customStartTransaction({name:router_global.location.pathname,op:"pageload"})),startTransactionOnLocationChange&&addInstrumentationHandler("history",(_ref=>{let to=_ref.to,from=_ref.from;void 0===from&&startingUrl&&-1!==startingUrl.indexOf(to)?startingUrl=void 0:from!==to&&(startingUrl=void 0,activeTransaction&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Finishing current transaction with op: ${activeTransaction.op}`),activeTransaction.finish()),activeTransaction=customStartTransaction({name:router_global.location.pathname,op:"navigation"}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},defaultRequestInstrumentationOptions);class BrowserTracing{__init(){this.name="BrowserTracing"}constructor(_options){BrowserTracing.prototype.__init.call(this);let tracingOrigins=defaultRequestInstrumentationOptions.tracingOrigins;_options&&(_options.tracingOrigins&&Array.isArray(_options.tracingOrigins)&&0!==_options.tracingOrigins.length?tracingOrigins=_options.tracingOrigins:tracing_esm_flags_IS_DEBUG_BUILD&&(this._emitOptionsWarning=!0)),this.options=browsertracing_objectSpread(browsertracing_objectSpread(browsertracing_objectSpread({},DEFAULT_BROWSER_TRACING_OPTIONS),_options),{},{tracingOrigins});const _metricOptions=this.options._metricOptions;!function(){let reportAllChanges=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var performance=getBrowserPerformanceAPI();performance&&browserPerformanceTimeOrigin&&(performance.mark&&metrics_global.performance.mark("sentry-tracing-init"),_trackCLS(),_trackLCP(reportAllChanges),_trackFID())}(_metricOptions&&_metricOptions._reportAllChanges)}setupOnce(_,getCurrentHub){this._getCurrentHub=getCurrentHub,this._emitOptionsWarning&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`[Tracing] We added a reasonable default for you: ${defaultRequestInstrumentationOptions.tracingOrigins}`));const _this$options=this.options,instrumentRouting=_this$options.routingInstrumentation,startTransactionOnLocationChange=_this$options.startTransactionOnLocationChange,startTransactionOnPageLoad=_this$options.startTransactionOnPageLoad,markBackgroundTransactions=_this$options.markBackgroundTransactions,traceFetch=_this$options.traceFetch,traceXHR=_this$options.traceXHR,tracingOrigins=_this$options.tracingOrigins,shouldCreateSpanForRequest=_this$options.shouldCreateSpanForRequest;instrumentRouting((context=>this._createRouteTransaction(context)),startTransactionOnPageLoad,startTransactionOnLocationChange),markBackgroundTransactions&&(backgroundtab_global&&backgroundtab_global.document?backgroundtab_global.document.addEventListener("visibilitychange",(()=>{var activeTransaction=getActiveTransaction();backgroundtab_global.document.hidden&&activeTransaction&&(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Transaction: cancelled -> since tab moved to the background, op: ${activeTransaction.op}`),activeTransaction.status||activeTransaction.setStatus("cancelled"),activeTransaction.setTag("visibilitychange","document.hidden"),activeTransaction.finish())})):tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")),instrumentOutgoingRequests({traceFetch,traceXHR,tracingOrigins,shouldCreateSpanForRequest})}_createRouteTransaction(context){if(!this._getCurrentHub)return void(tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.warn(`[Tracing] Did not create ${context.op} transaction because _getCurrentHub is invalid.`));const _this$options2=this.options,beforeNavigate=_this$options2.beforeNavigate,idleTimeout=_this$options2.idleTimeout,finalTimeout=_this$options2.finalTimeout;var parentContextFromHeader="pageload"===context.op?function(){var sentrytraceValue=getMetaContent("sentry-trace"),baggageValue=getMetaContent("baggage"),sentrytraceData=sentrytraceValue?function(traceparent){var matches=traceparent.match(TRACEPARENT_REGEXP);if(matches){let parentSampled;return"1"===matches[3]?parentSampled=!0:"0"===matches[3]&&(parentSampled=!1),{traceId:matches[1],parentSampled,parentSpanId:matches[2]}}}(sentrytraceValue):void 0,baggage=baggageValue?parseBaggageString(baggageValue):void 0;if(sentrytraceData||baggage)return browsertracing_objectSpread(browsertracing_objectSpread({},sentrytraceData&&sentrytraceData),baggage&&{metadata:{baggage}});return}():void 0,expandedContext=browsertracing_objectSpread(browsertracing_objectSpread(browsertracing_objectSpread({},context),parentContextFromHeader),{},{trimEnd:!0}),modifiedContext="function"==typeof beforeNavigate?beforeNavigate(expandedContext):expandedContext,finalContext=void 0===modifiedContext?browsertracing_objectSpread(browsertracing_objectSpread({},expandedContext),{},{sampled:!1}):modifiedContext;!1===finalContext.sampled&&tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Will not send ${finalContext.op} transaction because of beforeNavigate.`),tracing_esm_flags_IS_DEBUG_BUILD&&logger_logger.log(`[Tracing] Starting ${finalContext.op} transaction on scope`);var idleTransaction=function(hub,transactionContext,idleTimeout,finalTimeout,onScope,customSamplingContext){var client=hub.getClient(),options=client&&client.getOptions()||{};let transaction=new IdleTransaction(transactionContext,hub,idleTimeout,finalTimeout,onScope);return transaction=sample(transaction,options,hubextensions_objectSpread({parentSampled:transactionContext.parentSampled,transactionContext},customSamplingContext)),transaction.sampled&&transaction.initSpanRecorder(options._experiments&&options._experiments.maxSpans),transaction}(this._getCurrentHub(),finalContext,idleTimeout,finalTimeout,!0,{location:global_getGlobalObject().location});return idleTransaction.registerBeforeFinishCallback((transaction=>{addPerformanceEntries(transaction),transaction.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))})),idleTransaction}}function getMetaContent(metaName){var globalObject=global_getGlobalObject();if(globalObject.document&&globalObject.document.querySelector){var el=globalObject.document.querySelector(`meta[name=${metaName}]`);return el?el.getAttribute("content"):null}return null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&((carrier=getMainCarrier()).__SENTRY__&&(carrier.__SENTRY__.extensions=carrier.__SENTRY__.extensions||{},carrier.__SENTRY__.extensions.startTransaction||(carrier.__SENTRY__.extensions.startTransaction=_startTransaction),carrier.__SENTRY__.extensions.traceHeaders||(carrier.__SENTRY__.extensions.traceHeaders=traceHeaders)),isNodeEnv()&&_autoloadDatabaseIntegrations(),addInstrumentationHandler("error",errorCallback),addInstrumentationHandler("unhandledrejection",errorCallback));var initSentry=function(){(function(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===options.defaultIntegrations&&(options.defaultIntegrations=defaultIntegrations),void 0===options.release){var window=global_getGlobalObject();window.SENTRY_RELEASE&&window.SENTRY_RELEASE.id&&(options.release=window.SENTRY_RELEASE.id)}void 0===options.autoSessionTracking&&(options.autoSessionTracking=!0),void 0===options.sendClientReports&&(options.sendClientReports=!0);var clientOptions=sdk_objectSpread(sdk_objectSpread({},options),{},{stackParser:stackParserFromStackParserOptions(options.stackParser||defaultStackParser),integrations:getIntegrationsToSetup(options),transport:options.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)});initAndBind(BrowserClient,clientOptions),options.autoSessionTracking&&startSessionTracking()})({dsn:"https://92f593b102fb4c1ca010480faed582ae@o110170.ingest.sentry.io/242524",release:"moderndeck@"+BuildProps_namespaceObject.Bm,integrations:[new BrowserTracing],tracesSampleRate:1})};function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t}).apply(this,arguments)}window.useSentry=true;var mR=new class{constructor(e){this.entrypoint=void 0,this.debug=void 0,this.moduleID=Math.random().toString(36).substring(7),this.functionArguments=[[[0],[(t,e,s)=>{this.modules=s.c,this.constructors=s.m,this.get=s}]],[[1e3],{[this.moduleID]:(t,e,s)=>{this.modules=s.c,this.constructors=s.m,this.get=s}},[[this.moduleID]]]],this.arrayArguments=[this.functionArguments[1],[[this.moduleID],{},t=>{Object.keys(t.m).forEach((e=>{try{this.modules[e]=t(e)}catch(t){this.log(`[arrayArguments/1] Failed to require(${e}) with error:\n${t}\n${t.stack}`)}})),this.get=t}]],this.modules={},this.constructors=[],this.get=void 0;let s={entrypoint:"webpackJsonp",debug:!1};"object"==typeof e&&(s=t({},s,e)),this.entrypoint=s.entrypoint,this.debug=s.debug,this.fillModules(),this.replaceGet(),this.setupPushEvent()}log(t){this.debug&&console.warn(`[moduleRaid] ${t}`)}replaceGet(){null===this.get&&(this.get=t=>this.modules[t])}fillModules(){if("function"===window[this.entrypoint]?this.functionArguments.forEach(((t,e)=>{try{if(this.modules&&Object.keys(this.modules).length>0)return;window[this.entrypoint](...t)}catch(t){this.log(`moduleRaid.functionArguments[${e}] failed:\n${t}\n${t.stack}`)}})):this.arrayArguments.forEach(((t,e)=>{try{if(this.modules&&Object.keys(this.modules).length>0)return;window[this.entrypoint].push(t)}catch(t){this.log(`Pushing moduleRaid.arrayArguments[${e}] into ${this.entrypoint} failed:\n${t}\n${t.stack}`)}})),this.modules&&0==Object.keys(this.modules).length){let t=!1,e=0;if(!window[this.entrypoint]([],[],[e]))throw Error("Unknown Webpack structure");for(;!t;)try{this.modules[e]=window[this.entrypoint]([],[],[e]),e++}catch(e){t=!0}}}setupPushEvent(){var _this=this;const t=window[this.entrypoint].push;window[this.entrypoint].push=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++)e[_key]=arguments[_key];const s=Reflect.apply(t,window[_this.entrypoint],e);return document.dispatchEvent(new CustomEvent("moduleraid:webpack-push",{detail:e})),s}}findModule(t){const e=[],s=Object.keys(this.modules);if(0===s.length)throw new Error("There are no modules to search through!");return s.forEach((s=>{const o=this.modules[s].exports;if(void 0!==o)try{if("string"==typeof t)switch(t=t.toLowerCase(),typeof o){case"string":o.toLowerCase().includes(t)&&e.push(o);break;case"function":o.toString().toLowerCase().includes(t)&&e.push(o);break;case"object":if("object"==typeof o.default)for(s in o.default)s.toLowerCase()===t&&e.push(o);for(s in o)s.toLowerCase()===t&&e.push(o)}else{if("function"!=typeof t)throw new TypeError(`findModule can only find via string and function, ${typeof t} was passed`);t(o)&&e.push(o)}}catch(t){this.log(`There was an error while searching through module '${s}':\n${t}\n${t.stack}`)}})),e}findConstructor(t){const e=[],s=Object.keys(this.constructors);if(0===s.length)throw new Error("There are no constructors to search through!");return s.forEach((s=>{const o=this.constructors[s];try{"string"==typeof t?(t=t.toLowerCase(),o.toString().toLowerCase().includes(t)&&e.push([this.constructors[s],this.modules[s].exports])):"function"==typeof t&&t(o)&&e.push([this.constructors[s],this.modules[s].exports])}catch(t){this.log(`There was an error while searching through constructor '${s}':\n${t}\n${t.stack}`)}})),e}};window.mR=mR;var extractJQuery=function(){try{var jQuery_1=mR.findConstructor("jQuery")[0][1];window.$=jQuery_1,window.jQuery=jQuery_1,window.head=$(document.head),window.body=$(document.body),window.html=$(document.querySelector("html"))}catch(e){throw"jQuery failed. This will break approximately... everything."}};window.mtdPrepareWindows=function(){console.info("mtdPrepareWindows called"),$("#update-sound,.js-click-trap").click(),$("#mtd_nav_drawer_background").click(),$(".js-modals-container>.ovl.mtd-login-overlay").remove(),$('.js-modal[style="display: block;"]').click(),$(".mtd-nav-group-expanded").removeClass("mtd-nav-group-expanded"),$("#mtd_nav_group_arrow").removeClass("mtd-nav-group-arrow-flipped")};var handleErrors=function(func,text){try{func()}catch(error){console.error(text||"Caught an unexpected internal error"),console.error(error),window.lastError=error,window.useSentry&&captureException(error)}},make=function(elementType){return $(document.createElement(elementType))},exists=function(thing){return"object"==typeof thing&&null!==thing&&thing.length>0||!0==!!thing||"string"==typeof thing||"number"==typeof thing};function formatNumberI18n(number){if(number=Math.round(100*number)/100,!window.mtdNumberFormat||window.mtdNeedsResetNumberFormatting){var format=void 0;switch(getPref("mtd_shortDateFormat")){case"default":format=getFullLanguage().replace(/\_/g,"-");break;case"english":format="en";break;case"europe":format="de";break;case"blank":format="fr";break;case"indian":format="hi"}window.mtdNumberFormat=new Intl.NumberFormat(format)}return window.mtdNumberFormat.format(number)}function roundMe(val){return Math.floor(100*val)/100}function formatBytes(val){return val<Math.pow(10,3)?formatNumberI18n(val)+I18n(" bytes"):val<Math.pow(10,6)?formatNumberI18n(roundMe(val/Math.pow(10,3)))+I18n(" KB"):val<Math.pow(10,9)?formatNumberI18n(roundMe(val/Math.pow(10,6)))+I18n(" MB"):val<Math.pow(10,12)?formatNumberI18n(roundMe(val/Math.pow(10,9)))+I18n(" GB"):formatNumberI18n(roundMe(val/Math.pow(10,12)))+I18n(" TB")}var isApp=void 0!==window.require,mutationObserver=function(object,func,parms){var observer=new MutationObserver(func);return observer.observe(object,parms),observer},getIpc=function(){return window.require?window.require("electron").ipcRenderer:null},ctrlShiftText=navigator.userAgent.indexOf("Mac OS X")>-1?"":"{{Ctrl+Shift+}}",validSyncPrefs=null;if(isApp){var Store=window.require("electron-store");window.ModernDeck.store=new Store({name:"mtdsettings"})}else window.ModernDeck.store=null;var getPref=function(id,defaultPreference){return"mtd_core_theme"===id?TD.settings.getTheme():void 0===(val=window.ModernDeck.store?window.ModernDeck.store.has(id)?window.ModernDeck.store.get(id):void 0:localStorage.getItem(id))?defaultPreference:"true"===val||"false"!==val&&val;var val},setPref=function(id,pref){var _a,_b,_c;if(console.log("setPref ".concat(id," ").concat(pref)),"mtd_core_theme"!==id){var oldPref=getPref(id);exists(window.ModernDeck.store)?void 0!==pref?window.ModernDeck.store.set(id,pref):window.ModernDeck.store.delete(id):localStorage.setItem(id,pref),null===validSyncPrefs&&(validSyncPrefs=getValidSyncPreferences()),validSyncPrefs.indexOf(id)>=0&&pref!==oldPref&&"mtd_collapsed_columns"!==id&&(null===(_c=null===(_b=null===(_a=null===window||void 0===window?void 0:window.ModernDeck)||void 0===_a?void 0:_a.SyncController)||void 0===_b?void 0:_b.forceUpdate)||void 0===_c||_c.call(_b))}},hasPref=function(id){if(void 0===id)throw"id not specified for hasPref";return"mtd_core_theme"===id||(exists(window.ModernDeck.store)?window.ModernDeck.store.has(id):null!==localStorage.getItem(id)&&void 0!==localStorage.getItem(id)&&void 0!==localStorage.getItem(id))},getValidSyncPreferences=function(){var syncPrefs=[];for(var key in window.ModernDeck.settingsData)if(!window.ModernDeck.settingsData[key].enum)for(var i in window.ModernDeck.settingsData[key].options){var prefKey=window.ModernDeck.settingsData[key].options[i].settingsKey,pref=window.ModernDeck.settingsData[key].options[i];"string"==typeof prefKey&&"button"!==pref.type&&"link"!==pref.type&&"function"!=typeof pref.queryFunction&&syncPrefs.push(prefKey)}return syncPrefs};const DataI18n={};var tweetDeckTranslateInitial,langFull,langRoot,languageData=DataI18n;if(!(langFull=getPref("mtd_lang")))switch(langFull=navigator.language.replace("-","_")){case"en":langFull="en_US";break;case"es":langFull="es_ES";break;case"zh":langFull="zh_CN";break;case"fr":langFull="fr_FR"}langRoot=langFull.substring(0,2);var getFullLanguage=function(){return langFull},getMainLanguage=function(){return langRoot},mustachePatches={"keyboard_shortcut_list.mustache":{"Open Navigation Drawer/Menu":1,"Command palette  <b>NEW!</b>":1,"Cmd &#8984;":1,Like:1,"Add Column":1,Actions:1,Reply:1,Retweet:1,"New Tweet":1,"Direct Message":1,"View user profile":1,"View Tweet details":1,"Close Tweet details":1,"Send Tweet":1,Enter:1,Backspace:1,Ctrl:1,"Add column":1,"This menu":1,Right:1,Left:1,Down:1,Up:1,Navigation:1,"Column 19":1,"Final column":1,"Expand/Collapse navigation":1,Search:1,Return:1},"twitter_profile_social_proof.mustache":{and:1},"status/tweet_detail.mustache":{"Reply to":1},"menus/quality_filter_info.mustache":{"Quality filter {{qualityFilterText}}":1},"lists/edit_list_details.mustache":{"Under 100 characters, optional":1},"customtimeline/edit_customtimeline.mustache":{"Under 160 characters, optional":1},"menus/dm_conversations_menu.mustache":{"Delete conversation":1}},I18n=function(translateString,mustacheSubstitutions,c,d,e,f){if(!translateString)return"";if(((translateString=String(translateString)).includes("{{{")||translateString.includes("{{"))&&!f){var hmm=I18n(translateString,mustacheSubstitutions,c,d,e,1);return I18n(hmm,mustacheSubstitutions,c,d,e,2)}if(translateString.includes("{{")&&2===f)return tweetDeckTranslateInitial(translateString,mustacheSubstitutions,c,d,e);if("From @"===translateString.substr(0,6))return I18n(translateString.substr(0,4))+" @"+translateString.substr(6);if(mustacheSubstitutions&&1!==f){for(var key in mustacheSubstitutions)translateString=translateString.replace("{{"+key+"}}",mustacheSubstitutions[key]);return translateString}if(languageData[translateString]){var result=languageData[translateString][getFullLanguage()]||languageData[translateString][getMainLanguage()]||languageData[translateString][function(){switch(langRoot){case"zh":return"zh_CN";case"fr":return"fr";case"pt":return"pt_BR";default:return"en_US"}}()];return void 0===result?(console.error("Can't find English US translation of this string? "+translateString),translateString):(result.indexOf("hours12")>-1||result.indexOf("hours24")>-1)&&I18n.customTimeHandler?I18n.customTimeHandler(result):result}return console.warn("Missing string translation: "+translateString),""+translateString},patchColumnTitle=function(){if(!window.TD||!window.mR)return console.log("Waiting for mR to be ready..."),void setTimeout(patchColumnTitle,10);var columnData=window.mR.findConstructor("getColumnTitleArgs")[0][1].columnMetaTypeToTitleTemplateData;for(var key in columnData)columnData[key].title=I18n(columnData[key].title)},patchButtonText=function(){if(!window.TD||!window.mR)return console.log("Waiting for mR to be ready..."),void setTimeout(patchButtonText,10);for(var buttonData=window.mR.findModule("tooltipText"),i=0;i<buttonData.length;i++)if(buttonData[i]){if(buttonData[i].buttonText)for(var key in buttonData[i].buttonText)buttonData[i].buttonText[key]=I18n(buttonData[i].buttonText[key]);if(buttonData[i].tooltipText)for(var key in buttonData[i].tooltipText)buttonData[i].tooltipText[key]=I18n(buttonData[i].tooltipText[key])}},patchColumnTitleAddColumn=function(){if(!(window.TD&&TD.controller&&TD.controller.columnManager&&TD.controller.columnManager.DISPLAY_ORDER))return console.log("Waiting for DISPLAY_ORDER and etc to be ready..."),void setTimeout(patchColumnTitleAddColumn,10);var columnData=TD.controller.columnManager.DISPLAY_ORDER;for(var key in columnData)columnData[key].title=I18n(columnData[key].title),columnData[key].attribution&&(columnData[key].attribution=I18n(columnData[key].attribution))},patchMustaches=function(){if(!window.TD_mustaches)return console.log("Waiting on TD_mustaches..."),void setTimeout(patchMustaches,10);for(var key in mustachePatches)if(window.TD_mustaches[key])for(var key2 in mustachePatches[key])try{window.TD_mustaches[key]=window.TD_mustaches[key].replace(new RegExp(key2,"g"),I18n(key2))}catch(e){console.error("An error occurred while replacing mustache "+key2+" in "+key),console.error(e)}else console.warn("Mustache "+key+" was specified but was not found")},patchMiscStrings=function(){if(!(TD&&TD.constants&&TD.constants.TDApi))return console.log("Waiting on TDApi..."),void setTimeout(patchMiscStrings,10);for(var key2 in TD.constants.TDApi)TD.constants.TDApi[key2]=I18n(key2);if(!(TD&&TD.controller&&TD.controller.columnManager))return console.log("Waiting on TDApi..."),void setTimeout(patchMiscStrings,10);if(TD.controller.columnManager.DISPLAY_ORDER_PROFILE)for(var key2 in TD.controller.columnManager.DISPLAY_ORDER_PROFILE){var prof=TD.controller.columnManager.DISPLAY_ORDER_PROFILE[key2];prof.title=I18n(prof.title)}if(TD.controller.columnManager.MENU_TITLE)for(var key2 in TD.controller.columnManager.MENU_TITLE)TD.controller.columnManager.MENU_TITLE[key2]=I18n(TD.controller.columnManager.MENU_TITLE[key2]);if(TD.controller.columnManager.MENU_ATTRIBUTION)for(var key2 in TD.controller.columnManager.MENU_ATTRIBUTION)TD.controller.columnManager.MENU_ATTRIBUTION[key2]=I18n(TD.controller.columnManager.MENU_ATTRIBUTION[key2]);if(TD.controller.columnManager.MODAL_TITLE)for(var key2 in TD.controller.columnManager.MODAL_TITLE)TD.controller.columnManager.MODAL_TITLE[key2]=I18n(TD.controller.columnManager.MODAL_TITLE[key2])},patchTDFunctions=function(){if(void 0!==window.mR&&window.mR.findConstructor&&window.mR.findConstructor("en-x-psaccent")[0]&&window.mR.findConstructor("en-x-psaccent")[0][1]){tweetDeckTranslateInitial=window.mR.findConstructor("en-x-psaccent")[0][1].default,window.mR.findConstructor("en-x-psaccent")[0].default=I18n;var newMonths_1=[];["January","February","March","April","May","June","July","August","September","October","November","December"].forEach((function(month){return newMonths_1.push(I18n(month))}));var newShortMonths_1=[];["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].forEach((function(month){return newShortMonths_1.push(I18n(month))}));var newDays_1=[];["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(day){return newDays_1.push(I18n(day))}));var englishShortDays_1=["S","M","T","W","T","F","S"],newShortDays_1=[];["ABBREV_SUNDAY","ABBREV_MONDAY","ABBREV_TUESDAY","ABBREV_WEDNESDAY","ABBREV_THURSDAY","ABBREV_FRIDAY","ABBREV_SATURDAY"].forEach((function(day,i){var translatedDay=I18n(day);null!==translatedDay.match("ABBREV")&&(translatedDay=englishShortDays_1[i]),newShortDays_1.push(translatedDay)})),window.mR.findConstructor("jQuery")[0][1].tools.dateinput.localize("en",{months:newMonths_1.join(","),shortMonths:newShortMonths_1.join(","),days:newDays_1.join(","),shortDays:newShortDays_1.join(",")});var firstDay=parseInt(I18n("CALENDAR_FIRST_DAY_NUMBER"));isNaN(firstDay)&&(firstDay=0),window.mR.findConstructor("jQuery")[0][1].tools.dateinput.conf.firstDay=firstDay}else setTimeout(patchTDFunctions,10)},startI18nEngine=function(){window.TweetDecki18nStarted||(window.TweetDecki18nStarted=!0,window.findMustaches=function(str){var results={};for(var mustache in window.TD_mustaches)window.TD_mustaches[mustache].match(str)&&(results[mustache]=window.TD_mustaches[mustache]);return results},patchTDFunctions(),patchMiscStrings(),patchColumnTitle(),patchButtonText(),patchColumnTitleAddColumn(),patchMustaches())};I18n.customTimeHandler=function(timeString){return"h12"===window.mtdTimeHandler?timeString.replace(/\{\{hours24\}\}\:\{\{minutes\}\}/g,"{{hours12}}:{{minutes}} {{amPm}}"):"h24"===window.mtdTimeHandler?timeString.replace(/\{\{hours12\}\}\:\{\{minutes\}\} ?\{\{amPm\}\}/g,"{{hours24}}:{{minutes}}"):timeString},I18n.getFullLanguage=getFullLanguage,I18n.getMainLanguage=getMainLanguage,window.I18n=I18n,startI18nEngine();var extendStatics,AutoUpdateController=function(){function AutoUpdateController(){}return AutoUpdateController.initialize=function(){if(void 0!==window.require){var ipcRenderer=window.require("electron").ipcRenderer;AutoUpdateController.h2=I18n("Check for updates"),AutoUpdateController.spinner=!1,AutoUpdateController.h3=I18n("ModernDeck updates help keep you secure and add new features."),AutoUpdateController.icon="info_outline",AutoUpdateController.tryAgain=I18n("Check now"),AutoUpdateController.restartNow=!1,AutoUpdateController.installButton=void 0,AutoUpdateController.isCheckingForUpdates=!1,ipcRenderer.on("error",(function(_event,args,error){AutoUpdateController.h2=I18n("There was a problem checking for updates."),AutoUpdateController.spinner=!1,(null==args?void 0:args.code)?AutoUpdateController.h3="".concat(args.domain||""," ").concat(args.code||""," ").concat(args.errno||""," ").concat(args.syscall||""," ").concat(args.path||""):AutoUpdateController.h3=error?error.match(/^(Cannot check for updates: )(.)+\n/g)[0]:I18n("An unknown error occurred. Please try again shortly."),AutoUpdateController.icon="error_outline",AutoUpdateController.tryAgain=I18n("Try Again"),AutoUpdateController.restartNow=!1,AutoUpdateController.installButton=void 0,AutoUpdateController.isCheckingForUpdates=!1,$(document).trigger("mtdUpdateUIChanged")})),ipcRenderer.on("checking-for-update",(function(){AutoUpdateController.icon=void 0,AutoUpdateController.spinner=!0,AutoUpdateController.h2=I18n("Checking for updates..."),AutoUpdateController.h3=void 0,AutoUpdateController.updateh3=void 0,AutoUpdateController.tryAgain=void 0,AutoUpdateController.installButton=void 0,AutoUpdateController.restartNow=!1,AutoUpdateController.isCheckingForUpdates=!0,$(document).trigger("mtdUpdateUIChanged")})),ipcRenderer.on("update-available",(function(){void 0===window.desktopConfig||"checkOnly"!==window.desktopConfig.autoUpdatePolicy&&"manual"!==window.desktopConfig.autoUpdatePolicy?(AutoUpdateController.h2=I18n("Updating..."),AutoUpdateController.h3=void 0,AutoUpdateController.spinner=!0,AutoUpdateController.icon=void 0,AutoUpdateController.installButton=void 0):(AutoUpdateController.h2=I18n("An update for ModernDeck is available"),AutoUpdateController.h3=I18n("ModernDeck updates help keep you secure and add new features."),AutoUpdateController.spinner=!1,AutoUpdateController.icon="error_outline",AutoUpdateController.installButton=I18n("Download")),AutoUpdateController.tryAgain=void 0,AutoUpdateController.restartNow=!1,AutoUpdateController.isCheckingForUpdates=!0,$(document).trigger("mtdUpdateUIChanged")})),ipcRenderer.on("download-progress",(function(_event,args){AutoUpdateController.icon=void 0,AutoUpdateController.spinner=!0,AutoUpdateController.h2=I18n("Downloading update..."),AutoUpdateController.h3=Math.floor(args.percent)+I18n("% complete (")+formatBytes(args.transferred)+I18n("/")+formatBytes(args.total)+I18n("; ")+formatBytes(args.bytesPerSecond)+"/s)",AutoUpdateController.tryAgain=void 0,AutoUpdateController.installButton=void 0,AutoUpdateController.restartNow=!1,AutoUpdateController.isCheckingForUpdates=!0,$(document).trigger("mtdUpdateUIChanged")})),ipcRenderer.on("update-downloaded",(function(){AutoUpdateController.spinner=!1,AutoUpdateController.icon="update",AutoUpdateController.h2=I18n("Update downloaded"),AutoUpdateController.h3=I18n("Restart ModernDeck to complete the update"),AutoUpdateController.tryAgain=void 0,AutoUpdateController.installButton=void 0,AutoUpdateController.restartNow=!0,AutoUpdateController.isCheckingForUpdates=!1,$(document).trigger("mtdUpdateUIChanged")})),ipcRenderer.on("update-not-available",(function(){AutoUpdateController.spinner=!1,AutoUpdateController.h2=I18n("You're up to date"),AutoUpdateController.icon="check_circle",AutoUpdateController.h3=window.ModernDeck.versionFriendlyString+I18n(" is the latest version."),AutoUpdateController.tryAgain=I18n("Check Again"),AutoUpdateController.installButton=void 0,AutoUpdateController.restartNow=!1,AutoUpdateController.isCheckingForUpdates=!1,$(document).trigger("mtdUpdateUIChanged")}))}},AutoUpdateController}(),initAutoUpdater=function(){void 0!==window.require&&AutoUpdateController.initialize()},UIModal=function(){function UIModal(){this.modalRoot="#settings-modal",this.sharedRoot=!1}return UIModal.prototype.display=function(){console.log($(this.modalRoot)[0]),void 0!==$(this.modalRoot)[0]?(window.mtdPrepareWindows(),new TD.components.GlobalSettings,$(this.modalRoot+">.mdl").remove(),$(this.modalRoot).append(this.element)):(window.mtdPrepareWindows(),$(".js-modals-container").append(make("div").addClass("ovl mtd-login-overlay").attr("style","display: block;").append(this.element).click((function(event){event.currentTarget===event.target&&window.mtdPrepareWindows()}))))},UIModal.prototype.dismiss=function(){var _a,_b;null===(_b=(_a=this.element).remove)||void 0===_b||_b.call(_a),this.sharedRoot||".login-container"===this.modalRoot||$(this.modalRoot).attr("style","display: none;")},UIModal}(),__extends=(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),UIAlert=function(_super){function UIAlert(obj){var _this=_super.call(this)||this;return obj=obj||{},_this.element=make("div").addClass("mdl mtd-alert"),_this.alertTitle=make("h2").addClass("mtd-alert-title").html(obj.title||I18n("ModernDeck")),_this.alertBody=make("p").addClass("mtd-alert-body").html(obj.message||I18n("Alert")),_this.alertButtonContainer=make("div").addClass("mtd-alert-button-container"),_this.alertButton=make("button").addClass("btn-primary btn mtd-alert-button").html(obj.buttonText||I18n("OK")),_this.alertButtonContainer.append(_this.alertButton),(exists(obj.button2Text)||"confirm"===obj.type)&&(_this.alertButton2=make("button").addClass("btn-primary btn mtd-alert-button mtd-alert-button-secondary").html(obj.button2Text||I18n("Cancel")),_this.alertButtonContainer.append(_this.alertButton2),_this.alertButton2.click(obj.button2Click||window.mtdPrepareWindows)),_this.alertButton.click(obj.button1Click||window.mtdPrepareWindows),_this.element.append(_this.alertTitle,_this.alertBody,_this.alertButtonContainer),_this.display(),_this}return __extends(UIAlert,_super),UIAlert}(UIModal);window.originalAlert=window.alert,window.alert=function(text){return new UIAlert({message:text})};var ModernDeckSettingsType,ModernDeckSettingsEnumPage,isStylesheetExtensionEnabled=function(name){return $("#mtd_custom_css_".concat(name)).length>0||!!document.querySelector('link.mtd-stylesheet-extension[href="'.concat(window.mtdBaseURL,"assets/css/extensions/").concat(name,'.css"]'))},enableStylesheetExtension=function(name){if(!("default"===name||$("#mtd_custom_css_".concat(name)).length>0)){var url="".concat(window.mtdBaseURL,"assets/css/extensions/").concat(name,".css");isStylesheetExtensionEnabled(name)||window.head.append(make("link").attr("rel","stylesheet").attr("href",url).addClass("mtd-stylesheet-extension"))}},disableStylesheetExtension=function(name){isStylesheetExtensionEnabled(name)&&($('head>link[href="'.concat(window.mtdBaseURL,"assets/css/extensions/").concat(name,'.css"]')).remove(),$("#mtd_custom_css_".concat(name)).length>0&&$("#mtd_custom_css_".concat(name)).remove())},enableCustomStylesheetExtension=function(name,styles){isStylesheetExtensionEnabled(name)?$("#mtd_custom_css_".concat(name)).html(styles):window.head.append(make("style").html(styles).attr("id","mtd_custom_css_".concat(name)))};window.ModernDeck.enableStylesheetExtension=enableStylesheetExtension,window.ModernDeck.disableStylesheetExtension=disableStylesheetExtension,function(ModernDeckSettingsType){ModernDeckSettingsType.CHECKBOX="checkbox",ModernDeckSettingsType.DROPDOWN="dropdown",ModernDeckSettingsType.SLIDER="slider",ModernDeckSettingsType.TEXTBOX="textbox",ModernDeckSettingsType.TEXTAREA="textarea",ModernDeckSettingsType.BUTTON="button",ModernDeckSettingsType.BUTTONGROUP="buttongroup",ModernDeckSettingsType.LINK="link",ModernDeckSettingsType.ARRAY="array",ModernDeckSettingsType.SUBTEXT="subtext"}(ModernDeckSettingsType||(ModernDeckSettingsType={})),function(ModernDeckSettingsEnumPage){ModernDeckSettingsEnumPage.ABOUT="about",ModernDeckSettingsEnumPage.MUTES="mutes"}(ModernDeckSettingsEnumPage||(ModernDeckSettingsEnumPage={}));const Themes={tabName:"<i class='material-icon' aria-hidden='true'>format_paint</i> {{Themes}}",options:{theme:{headerBefore:"{{Themes}}",title:"{{Theme}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){if(!window.useSafeMode){if("default"===opt&&(opt=TD.settings.getTheme()),setTimeout((function(){return window.renderTab("themes")})),!0===getPref("mtd_highcontrast"))return disableStylesheetExtension("light"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("paper"),enableStylesheetExtension("dark"),enableStylesheetExtension("amoled"),void enableStylesheetExtension("highcontrast");switch(opt){case"light":disableStylesheetExtension("amoled"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("dark"),disableStylesheetExtension("paper"),enableStylesheetExtension("light"),window.html.addClass("mtd-light").removeClass("mtd-dark");break;case"paper":disableStylesheetExtension("amoled"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("dark"),enableStylesheetExtension("light"),enableStylesheetExtension("paper"),window.html.addClass("mtd-light").removeClass("mtd-dark");break;case"dark":disableStylesheetExtension("amoled"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("light"),disableStylesheetExtension("paper"),enableStylesheetExtension("dark"),window.html.addClass("mtd-dark").removeClass("mtd-light");break;case"darker":disableStylesheetExtension("amoled"),disableStylesheetExtension("light"),disableStylesheetExtension("paper"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),enableStylesheetExtension("dark"),enableStylesheetExtension("darker"),window.html.addClass("mtd-dark").removeClass("mtd-light");break;case"discorddark":disableStylesheetExtension("amoled"),disableStylesheetExtension("light"),disableStylesheetExtension("paper"),disableStylesheetExtension("twitterdark"),enableStylesheetExtension("dark"),enableStylesheetExtension("darker"),enableStylesheetExtension("discorddark"),window.html.addClass("mtd-dark").removeClass("mtd-light");break;case"twitterdark":disableStylesheetExtension("amoled"),disableStylesheetExtension("light"),disableStylesheetExtension("paper"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),enableStylesheetExtension("dark"),enableStylesheetExtension("twitterdark"),window.html.addClass("mtd-dark").removeClass("mtd-light");break;case"amoled":disableStylesheetExtension("light"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("paper"),enableStylesheetExtension("dark"),enableStylesheetExtension("amoled"),window.html.addClass("mtd-dark").removeClass("mtd-light"),setTimeout((function(){return enableStylesheetExtension("amoled")}),0);break;case"custom":disableStylesheetExtension("light"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("twitterdark"),disableStylesheetExtension("paper"),disableStylesheetExtension("dark"),disableStylesheetExtension("amoled"),disableStylesheetExtension("highcontrast")}}}},options:{lightThemes:{name:"{{Light Themes}}",children:{light:{value:"light",text:"{{Light}}"},paper:{value:"paper",text:"{{Paperwhite}}"}}},darkThemes:{name:"{{Dark Themes}}",children:{darker:{value:"darker",text:"{{Dark}}"},discorddark:{value:"discorddark",text:"{{Discord Dark}}"},twitterdark:{value:"twitterdark",text:"{{Twitter Dark}}"},dark:{value:"dark",text:"{{Material Dark}}"},amoled:{value:"amoled",text:"{{AMOLED}}"}}}},settingsKey:"mtd_theme",default:"darker"},themeColor:{title:"{{Theme Color}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){if(!window.useSafeMode){for(var i in window.settingsData.themes.options.themeColor.options)opt!==i&&disableStylesheetExtension(i);enableStylesheetExtension(opt)}}},options:{default:{value:"default",text:"{{Default}}"},black:{value:"black",text:"{{Black}}"},grey:{value:"grey",text:"{{Grey}}"},red:{value:"red",text:"{{Red}}"},orange:{value:"orange",text:"{{Orange}}"},yellow:{value:"yellow",text:"{{Yellow}}"},green:{value:"green",text:"{{Green}}"},teal:{value:"teal",text:"{{Teal}}"},cyan:{value:"cyan",text:"{{Cyan}}"},blue:{value:"blue",text:"{{Blue}}"},violet:{value:"violet",text:"{{Violet}}"},pink:{value:"pink",text:"{{Pink}}"}},enabled:function(){return"custom"!==getPref("mtd_theme")},settingsKey:"mtd_color_theme",default:"default"},selectedFont:{title:"{{Preferred Font}}",type:ModernDeckSettingsType.DROPDOWN,options:{Roboto:{value:"Roboto",text:"Roboto"},RobotoCondensed:{value:"RobotoCondensed",text:"Roboto Condensed"},RobotoSlab:{value:"RobotoSlab",text:"Roboto Slab"},"Noto Sans CJK":{value:"Noto Sans CJK",text:"Noto Sans"},OpenSans:{value:"OpenSans",text:"Open Sans"},Lato:{value:"Lato",text:"Lato"},Jost:{value:"Jost",text:"Jost"},Inter:{value:"Inter",text:"Inter"},SystemUI:{value:"SystemUI",text:"{{System UI}}"}},activate:{func:function(opt){window.html.removeClass("mtd-linux-system-font"),"RobotoMono"===opt&&(setPref("mtd_selectedfont","Roboto"),opt="Roboto"),"SystemUI"===opt?navigator.userAgent.match("Windows NT")?enableCustomStylesheetExtension("selectedFont",":root{--selectedFont:Segoe UI,Tahoma,sans-serif!important}"):navigator.userAgent.match("Mac OS X")?enableCustomStylesheetExtension("selectedFont",":root{--selectedFont:San Francisco,Helvetica Neue,Lucida Grande!important}"):(disableStylesheetExtension("selectedFont"),window.html.addClass("mtd-linux-system-font")):enableCustomStylesheetExtension("selectedFont",":root{--selectedFont:"+opt+"!important}")}},settingsKey:"mtd_selectedfont",default:"Roboto"},customCss:{title:"{{Custom CSS (}}"+ctrlShiftText+"{{C disables it in case something went wrong)}}",type:ModernDeckSettingsType.TEXTAREA,placeholder:":root {\n\t--retweetColor:red;\n\t--primaryColor:#00ff00!important;\n\t--defaultFontOrder:Comic Sans MS;\n}\n\na:hover {\n\ttext-decoration:underline\n}",activate:{func:function(opt){enableCustomStylesheetExtension("customcss",opt)}},settingsKey:"mtd_customcss",enabled:function(){return void 0===window.desktopConfig||!window.desktopConfig.disableCustomCSS},default:""}}};const Appearance={tabName:"<i class='material-icon' aria-hidden='true'>rounded_corner</i> {{Appearance}}",options:{navigationStyle:{headerBefore:"{{Navigation}}",title:"{{Navigation Style}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){"simplified"===opt?(window.html.addClass("mtd-head-left"),window.html.removeClass("mtd-classic-nav")):"classic"===opt&&(window.html.addClass("mtd-head-left"),window.html.addClass("mtd-classic-nav")),setPref("mtd_headposition",opt)}},options:{simplified:{value:"simplified",text:"{{Simplified}}"},classic:{value:"classic",text:"{{Classic (TweetDeck)}}"}},settingsKey:"mtd_headposition",default:"left"},fixedArrows:{title:"{{Use fixed-location media arrows for tweets with multiple photos}}",type:ModernDeckSettingsType.CHECKBOX,activate:{enableStylesheet:"fixedarrows"},deactivate:{disableStylesheet:"fixedarrows"},settingsKey:"mtd_usefixedarrows",default:!0},enableNewTweetsButton:{title:'{{Enable "New Tweets" indicator}}',type:ModernDeckSettingsType.CHECKBOX,activate:{disableStylesheet:"nonewtweetsbutton"},deactivate:{enableStylesheet:"nonewtweetsbutton"},settingsKey:"mtd_nonewtweetsbutton",default:!0},enableEmojiPicker:{title:"{{Enable Emoji picker}}",type:ModernDeckSettingsType.CHECKBOX,activate:{htmlRemoveClass:"mtd-no-emoji-picker"},deactivate:{htmlAddClass:"mtd-no-emoji-picker"},settingsKey:"mtd_noemojipicker",enabled:!1,default:!0},modalKeepOpen:{title:"{{Keep modals open to like/follow from multiple accounts}}",type:ModernDeckSettingsType.CHECKBOX,activate:{},deactivate:{},settingsKey:"mtd_modalKeepOpen",default:!0},sensitiveMedia:{headerBefore:"{{Display}}",title:"{{Display media that may contain sensitive content}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){TD.settings.setDisplaySensitiveMedia(!0),setTimeout((function(){return window.renderTab("appearance")}))}},deactivate:{func:function(){TD.settings.setDisplaySensitiveMedia(!1),setTimeout((function(){return window.renderTab("appearance")}))}},savePreference:!1,queryFunction:function(){return TD.settings.getDisplaySensitiveMedia()}},blurMessages:{title:"{{Blur direct message contents unless hovered over}}",type:ModernDeckSettingsType.CHECKBOX,activate:{enableStylesheet:"hideMessages"},deactivate:{disableStylesheet:"hideMessages"},settingsKey:"mtd_hideMessages",default:!1},threadIndicator:{title:'{{Display "Thread" on Tweets that are part of a thread}}',type:ModernDeckSettingsType.CHECKBOX,activate:{enableStylesheet:"threadIndicator"},deactivate:{disableStylesheet:"threadIndicator"},settingsKey:"mtd_threadIndicator",default:!1},altSensitiveMedia:{title:"{{Use alternative sensitive media workflow}}",type:ModernDeckSettingsType.CHECKBOX,activate:{enableStylesheet:"altsensitive",htmlAddClass:"mtd-altsensitive"},deactivate:{disableStylesheet:"altsensitive",htmlRemoveClass:"mtd-altsensitive"},enabled:function(){return!TD.settings.getDisplaySensitiveMedia()},settingsKey:"mtd_sensitive_alt",default:!0},scrollbarStyle:{title:"{{Scrollbar Style}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){disableStylesheetExtension("scrollbarsnarrow"),disableStylesheetExtension("scrollbarsnone"),enableStylesheetExtension(opt||"scrollbarsdefault")}},options:{scrollbarsdefault:{value:"scrollbarsdefault",text:"{{Original}}"},scrollbarsnarrow:{value:"scrollbarsnarrow",text:"{{Narrow}}"},scrollbarsnone:{value:"scrollbarsnone",text:"{{Hidden}}"}},settingsKey:"mtd_scrollbar_style",default:"scrollbarsnarrow"},columnWidth:{title:"{{Column width}}",type:ModernDeckSettingsType.SLIDER,activate:{func:function(opt){setPref("mtd_columnwidth",opt),enableCustomStylesheetExtension("columnwidth",":root{--columnSize:".concat(opt,"px!important}"))}},minimum:275,maximum:500,settingsKey:"mtd_columnwidth",displayUnit:"px",default:325},fontSize:{title:"{{Font size}}",type:ModernDeckSettingsType.SLIDER,activate:{func:function(opt){setPref("mtd_fontsize",opt),enableCustomStylesheetExtension("fontsize","html{font-size:".concat(opt/100*16,"px!important}"))}},minimum:75,maximum:130,settingsKey:"mtd_fontsize",displayUnit:"{{%}}",default:100},avatarSize:{title:"{{Profile picture size}}",type:ModernDeckSettingsType.SLIDER,activate:{func:function(opt){enableCustomStylesheetExtension("avatarsize",":root{--avatarSize:".concat(opt,"px!important}"))}},minimum:24,maximum:64,enabled:!0,settingsKey:"mtd_avatarsize",displayUnit:"px",default:48},roundProfilePics:{title:"{{Use round profile pictures}}",type:ModernDeckSettingsType.CHECKBOX,activate:{disableStylesheet:"squareavatars"},deactivate:{enableStylesheet:"squareavatars"},settingsKey:"mtd_round_avatars",default:!0},newCharIndicator:{title:"{{Use new character limit indicator}}",type:ModernDeckSettingsType.CHECKBOX,activate:{enableStylesheet:"newcharacterindicator"},deactivate:{disableStylesheet:"newcharacterindicator"},settingsKey:"mtd_newcharindicator",default:!0},disableContextMenuIcons:{title:"{{Display contextual icons in menus}}",type:ModernDeckSettingsType.CHECKBOX,activate:{disableStylesheet:"nocontextmenuicons"},deactivate:{enableStylesheet:"nocontextmenuicons"},settingsKey:"mtd_nocontextmenuicons",default:!0}}};var getColumnNumber=function(col){return parseInt(col.data("column").match(/s\d+/g)[0].substr(1))},updateColumnVisibility=function(){if(!1===getPref("mtd_column_visibility"))return allColumnsVisible();$(".column-content:not(.mtd-example-column)").attr("style","display:block"),setTimeout((function(){$(".column").each((function(_,element){var rect=element.getBoundingClientRect();rect.left>=-rect.width&&rect.right<=window.innerWidth+rect.width?$(element).find(".column-content:not(.mtd-example-column)").attr("style","display:block"):$(element).find(".column-content:not(.mtd-example-column)").attr("style","display:none")}))}),20)},allColumnsVisible=function(){$(".column-content:not(.mtd-example-column)").attr("style","display:block")},updateColumnTypes=function(){TD.controller.columnManager.getAllOrdered().forEach((function(column){column&&column.ui&&$('.js-column[data-column="'.concat(column.ui.state.columnKey,'"]')).attr("data-mtd-column-type",column._feeds[0].state.type)}))},Tweets_tab={tabName:"<i class='Icon icon-twitter-bird'></i> {{Tweets}}",options:{stream:{headerBefore:"{{Behavior}}",title:"{{Stream Tweets in real time}}",type:ModernDeckSettingsType.CHECKBOX,savePreference:!1,activate:{func:function(){TD.settings.setUseStream(!0)}},deactivate:{func:function(){TD.settings.setUseStream(!1)}},queryFunction:function(){return TD.settings.getUseStream()}},columnVisibility:{title:"{{Improve Timeline performance by not rendering off-screen columns}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){allColumnsVisible(),updateColumnVisibility()}},deactivate:{func:function(){allColumnsVisible()}},settingsKey:"mtd_column_visibility",default:null===navigator.userAgent.match("Firefox")},autoplayGifs:{title:"{{Automatically play GIFs}}",type:ModernDeckSettingsType.CHECKBOX,savePreference:!1,activate:{func:function(){TD.settings.setAutoPlayGifs(!0)}},deactivate:{func:function(){TD.settings.setAutoPlayGifs(!1)}},queryFunction:function(){return TD.settings.getAutoPlayGifs()}},startupNotifications:{title:"{{Show notifications on startup}}",type:ModernDeckSettingsType.CHECKBOX,savePreference:!1,activate:{func:function(){TD.settings.setShowStartupNotifications(!0)}},deactivate:{func:function(){TD.settings.setShowStartupNotifications(!1)}},queryFunction:function(){return TD.settings.getShowStartupNotifications()}},useModernDeckAlertSound:{title:"{{Use custom ModernDeck alert sound}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){$(document.querySelector("audio")).attr("src",window.mtdBaseURL+"assets/audio/notify.aac")}},deactivate:{func:function(){$(document.querySelector("audio")).attr("src",$(document.querySelector("audio>source")).attr("src"))}},settingsKey:"mtd_sounds",default:!0},nftAvatarAction:{headerBefore:"{{NFT Behavior}}",title:"{{Automatic action to take against users with NFT avatars}}",type:ModernDeckSettingsType.DROPDOWN,settingsKey:"mtd_nftAvatarAction",activate:{func:function(opt){if(window.nftAvatarAction&&(window.nftAvatarAction.actionToTake=opt),"nothing"!==opt){var alreadyHasFilter_1=!1;TD.controller.filterManager.getAll().forEach((function(filter){"BTD_nft_avatar"===filter.type&&(alreadyHasFilter_1=!0)})),alreadyHasFilter_1||TD.controller.filterManager.addFilter("BTD_nft_avatar","ModernDeck NFT Avatar Filter")}else TD.controller.filterManager.getAll().forEach((function(filter){"BTD_nft_avatar"===filter.type&&TD.controller.filterManager.removeFilter(filter)}))}},default:"nothing",options:{nothing:{value:"nothing",text:"{{Nothing}}"},hide:{value:"hide",text:"{{Hide in ModernDeck}}"},mute:{value:"mute",text:"{{Mute user}}"},block:{value:"block",text:"{{Block user}}"}}},nftSubtext:{label:"{{Some things to keep in mind}}<br><br>- {{At the moment, due to Twitter API limits, actions don't work against users on Search columns.}}<br>- {{If you are using the mute or block actions, a queue is used if there are multiple accounts to deal with due to API and website constraints.}}<br>- {{Turning off this feature won't unblock or unmute anyone on Twitter, but in the future actions will no longer be taken.}}<br>- {{This setting only applies to NFT users that linked their NFTs directly on Twitter.}}",type:ModernDeckSettingsType.SUBTEXT},nftDontBlockFollowing:{title:"{{Don't auto-block or mute people you follow on your default account}}",type:ModernDeckSettingsType.CHECKBOX,activate:{},deactivate:{},settingsKey:"mtd_nftDontBlockFollowing",enabled:!1,default:!0},nftNotify:{title:"{{Notify me when an NFT auto-action has occurred}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){var _a,_b,_c;null===(_c=null===(_b=null===(_a=null===window||void 0===window?void 0:window.nftAvatarAction)||void 0===_a?void 0:_a.notifClose)||void 0===_b?void 0:_b.click)||void 0===_c||_c.call(_b),window.nftAvatarAction&&(window.nftAvatarAction.notif=null),window.nftAvatarAction&&(window.nftAvatarAction.enableNotifications=!0)}},deactivate:{func:function(){window.nftAvatarAction&&(window.nftAvatarAction.enableNotifications=!1)}},settingsKey:"mtd_nftNotify",default:!0},linkShortener:{headerBefore:"{{Link Shortening}}",title:"{{Link Shortener Service}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){TD.settings.setLinkShortener(opt),setTimeout((function(){return window.renderTab("tweets")}))}},savePreference:!1,queryFunction:function(){return TD.settings.getLinkShortener()},options:{twitter:{value:"twitter",text:"{{Twitter}}"},bitly:{value:"bitly",text:"{{Bit.ly}}"}}},bitlyUsername:{title:"{{Bit.ly Username}}",type:ModernDeckSettingsType.TEXTBOX,activate:{func:function(opt){TD.settings.setBitlyAccount({apiKey:(TD.settings.getBitlyAccount()&&TD.settings.getBitlyAccount().apiKey?TD.settings.getBitlyAccount():{apiKey:""}).apiKey,login:opt})}},enabled:function(){return"bitly"===TD.settings.getLinkShortener()},savePreference:!1,queryFunction:function(){return(TD.settings.getBitlyAccount()&&TD.settings.getBitlyAccount().login?TD.settings.getBitlyAccount():{login:""}).login}},bitlyApiKey:{title:"{{Bit.ly API Key}}",type:ModernDeckSettingsType.TEXTBOX,addClass:"mtd-big-text-box",enabled:function(){return"bitly"===TD.settings.getLinkShortener()},activate:{func:function(opt){TD.settings.setBitlyAccount({login:(TD.settings.getBitlyAccount()&&TD.settings.getBitlyAccount().login?TD.settings.getBitlyAccount():{login:""}).login,apiKey:opt})}},savePreference:!1,queryFunction:function(){return(TD.settings.getBitlyAccount()&&TD.settings.getBitlyAccount().apiKey?TD.settings.getBitlyAccount():{apiKey:""}).apiKey}}}};const Tweets=Tweets_tab;const Mutes={tabName:"<i class='material-icon' aria-hidden='true'>volume_off</i> {{Mutes}}",options:{},enum:ModernDeckSettingsEnumPage.MUTES};const Accessibility={tabName:"<i class='material-icon' aria-hidden='true'>accessibility</i> {{Accessibility}}",options:{focusOutline:{headerBefore:"{{Accessibility}}",title:"{{Always show outlines around focused items (}}"+ctrlShiftText+"A {{to toggle)}}",type:ModernDeckSettingsType.CHECKBOX,activate:{htmlAddClass:"mtd-acc-focus-ring"},deactivate:{htmlRemoveClass:"mtd-acc-focus-ring"},settingsKey:"mtd_outlines",default:!1},highContrast:{title:"{{Enable High Contrast theme (}}"+ctrlShiftText+"H {{to toggle)}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){disableStylesheetExtension("light"),disableStylesheetExtension("darker"),disableStylesheetExtension("discorddark"),disableStylesheetExtension("paper"),enableStylesheetExtension("dark"),enableStylesheetExtension("amoled"),enableStylesheetExtension("highcontrast")}},deactivate:{func:function(){disableStylesheetExtension("highcontrast"),disableStylesheetExtension("amoled")}},settingsKey:"mtd_highcontrast",default:!1}}};const App={tabName:"<i class='icon icon-moderndeck'></i> {{App}}",enabled:function(){return isApp},options:{nativeTitlebar:{headerBefore:"{{App}}",title:"{{Use native OS title bar (restarts ModernDeck)}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){if(exists($(".mtd-settings-panel")[0])){setPref("mtd_nativetitlebar",!0);var ipcRenderer=window.require("electron").ipcRenderer;ipcRenderer&&ipcRenderer.send("setNativeTitlebar",!0)}}},deactivate:{func:function(){if(exists($(".mtd-settings-panel")[0])){setPref("mtd_nativetitlebar",!1);var ipcRenderer=window.require("electron").ipcRenderer;ipcRenderer&&ipcRenderer.send("setNativeTitlebar",!1)}}},settingsKey:"mtd_nativetitlebar",default:!1},nativeEmoji:{title:"{{Use native Emoji Picker}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(_opt,load){load||$(document).trigger("uiDrawerHideDrawer"),setPref("mtd_nativeEmoji",!0)}},deactivate:{func:function(_opt,load){load||$(document).trigger("uiDrawerHideDrawer"),setPref("mtd_nativeEmoji",!1)}},enabled:!1,settingsKey:"mtd_nativeEmoji",default:!1},nativeContextMenus:{title:"{{Use OS native context menus}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){window.useNativeContextMenus=!0}},deactivate:{func:function(){window.useNativeContextMenus=!1}},settingsKey:"mtd_nativecontextmenus",default:function(){return!!isApp&&"darwin"===process.platform}},updateChannel:{title:"{{App update channel}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){isApp&&(setPref("mtd_updatechannel",opt),setTimeout((function(){var ipcRenderer=window.window.require("electron").ipcRenderer;ipcRenderer&&(ipcRenderer.send("changeChannel",opt),"disabled"!==window.desktopConfig.updatePolicy&&"manual"!==window.desktopConfig.updatePolicy&&ipcRenderer.send("checkForUpdates"))}),300))}},options:{latest:{value:"latest",text:"{{Stable}}"},beta:{value:"beta",text:"{{Beta}}"}},enabled:!document.getElementsByTagName("html")[0].classList.contains("mtd-flatpak")&&!document.getElementsByTagName("html")[0].classList.contains("mtd-winstore")&&!document.getElementsByTagName("html")[0].classList.contains("mtd-macappstore"),settingsKey:"mtd_updatechannel",default:"latest"},trayEnabled:{headerBefore:"{{Tray}}",title:"{{Show ModernDeck in the system tray}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){void 0!==window.require&&window.require("electron").ipcRenderer.send("enableTray")}},deactivate:{func:function(){void 0!==window.require&&window.require("electron").ipcRenderer.send("disableTray")}},settingsKey:"mtd_systemtray",default:"undefined"!=typeof process&&"darwin"!==process.platform},backgroundNotifications:{title:"{{Run ModernDeck in the background to deliver notifications}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){void 0!==window.require&&window.require("electron").ipcRenderer.send("enableBackground")}},deactivate:{func:function(){void 0!==window.require&&window.require("electron").ipcRenderer.send("disableBackground")}},settingsKey:"mtd_background",default:!1},inspectElement:{headerBefore:"{{Developer}}",title:"{{Show Inspect Element in context menus}}",type:ModernDeckSettingsType.CHECKBOX,isDevTool:!0,activate:{func:function(){setPref("mtd_inspectElement",!0)}},deactivate:{func:function(){setPref("mtd_inspectElement",!1)}},settingsKey:"mtd_inspectElement",default:!1},mtdSafeMode:{title:"{{Safe mode}}",label:"{{Safe mode}}",type:ModernDeckSettingsType.LINK,isDevTool:!0,activate:{func:function(){setPref("mtd_safemode",!0),getIpc().send("restartApp")}},enabled:function(){return isApp}},tdLegacySettings:{title:"{{Legacy settings}}",label:"{{Legacy settings}}",type:ModernDeckSettingsType.LINK,isDevTool:!0,enabled:function(){return!window.html.hasClass("signin-sheet-now-present")},activate:{func:function(){$(".mtd-settings-panel").remove(),new TD.components.GlobalSettings}}}}};const System={tabName:"<i class='material-icon' aria-hidden='true'>storage</i> {{System}}",options:{mtdResetSettings:{title:"{{Reset settings}}",label:'<i class="icon material-icon mtd-icon-very-large">restore</i><b>{{Reset settings}}</b><br>{{If you want to reset ModernDeck to default settings, you can do so here. This will restart ModernDeck.}}',type:ModernDeckSettingsType.BUTTON,activate:{func:function(){(function(){for(var key in localStorage)key.indexOf("mtd_")>=0&&localStorage.removeItem(key);isApp&&window.ModernDeck.store.clear()}(),isApp)?window.require("electron").ipcRenderer.send("restartApp"):window.location.reload()}},settingsKey:"mtd_resetSettings"},mtdClearData:{title:"{{Clear data}}",label:'<i class="icon material-icon mtd-icon-very-large">delete_forever</i><b>{{Clear data}}</b><br>{{This option clears all caches and preferences. This option will log you out and restart ModernDeck.}}',type:ModernDeckSettingsType.BUTTON,activate:{func:function(){isApp&&window.require("electron").ipcRenderer.send("destroyEverything")}},settingsKey:"mtd_resetSettings",enabled:function(){return isApp}},mtdSaveBackup:{title:"{{Save backup}}",label:'<i class="icon material-icon mtd-icon-very-large">save_alt</i><b>{{Save backup}}</b><br>{{Saves your preferences to a file to be loaded later.}}',type:ModernDeckSettingsType.BUTTON,activate:{func:function(){window.require("electron").ipcRenderer.send("saveSettings",JSON.stringify(window.ModernDeck.store.store))}},settingsKey:"mtd_backupSettings",enabled:function(){return isApp}},mtdLoadBackup:{title:"{{Load backup}}",label:'<i class="icon material-icon mtd-icon-very-large">refresh</i><b>{{Load backup}}</b><br>{{Loads your preferences that you have saved previously. This will restart ModernDeck.}}',type:ModernDeckSettingsType.BUTTON,activate:{func:function(){window.require("electron").ipcRenderer.send("loadSettingsDialog")}},settingsKey:"mtd_loadSettings",enabled:function(){return isApp}},mtdTweetenImport:{title:"{{Import Tweeten settings}}",label:'<i class="icon material-icon mtd-icon-very-large">refresh</i><b>{{Import Tweeten settings}}</b><br>{{Imports your Tweeten settings to ModernDeck. This will restart ModernDeck.}}',type:ModernDeckSettingsType.BUTTON,activate:{func:function(){window.require("electron").ipcRenderer.send("tweetenImportDialog")}},settingsKey:"mtd_tweetenImportSettings",enabled:function(){return isApp}}}},DataUnsupportedLanguage={af:"U stelselstelsel word nog nie deur ModernDeck ondersteun nie. Help om te vertaal:",am:"        :",ar:"      ModernDeck  .   :",az:"Sisteminizin dili hl ModernDeck trfindn dstklnmir. Trcm etmy kmk edin:",be:"      ModernDeck.  :",bn:"          :",bg:"         ModernDeck.   :",bs:"Va sistemski jezik jo nije izvorno podran od strane ModernDeck-a. Pomo za prevoenje:",ca:"ModernDeck encara no s compatible amb el vostre llenguatge del sistema. Ajuda a traduir:",co:"A vostra lingua di u sistema n h micca sustegnu nativamente da ModernDeck. Aiutate  traduce:",cs:"V systmov jazyk nen nativn podporovn programem ModernDeck. Pomozte pekldat:",cy:"Nid yw iaith eich system yn cael ei chefnogi'n frodorol gan ModernDeck eto. Helpwch i gyfieithu:",da:"Dit systemsprog understttes endnu ikke af ModernDeck. Hjlp med at overstte:",de:"Ihre Systemsprache wird von ModernDeck noch nicht nativ untersttzt. Hilfe beim bersetzen:",el:"          ModernDeck.  :",en:"Your system language is not natively supported by ModernDeck yet. Help translate: ",eo:"Via sistema lingvo ankora ne estas subtenata de ModernDeck. Helpu traduki:",es:"El idioma de su sistema no es compatible de forma nativa con ModernDeck todava. Ayuda a traducir:",et:"Teie ssteemikeelt ei toeta veel ModernDeck. Aidake tlkida:",eu:"Oraindik ez duzu ModernDeck-ek onartzen zure sistemaren hizkuntza. Laguntza itzultzen:",fa:"     ModernDeck   .   :",fi:"ModernDeck ei viel tue jrjestelmkieltsi. Auta kntmn:",fj:"Na nomu vosa ni ivakarau e sega ni natively tokoni mai vei ModernDeck. Veivuke me vakadewataki: ",fr:"Le langage de votre systme n'est pas encore pris en charge nativement par ModernDeck. Aide  traduire:",fy:"Jo systeemtaal wurdt noch net natuerlik stipe troch ModernDeck. Help oersette:",ga:"N thacaonn ModernDeck le teanga do chrais go dchasach fs. Cuidigh le haistri:",gd:"Chan eil cnan an t-siostaim agad a faighinn taic dhthchasach bho ModernDeck fhathast. Cuidich le eadar-theangachadh:",gl:"ModernDeck anda non  compatible co seu idioma do sistema. Axuda a traducir:",gu:"        .   :",ha:"ModernDeck ba shi da tallafi na asali. Taimaka fassara:",he:"        ModernDeck.  :",hi:"     ModernDeck           :",hr:"Jezik vaeg sustava ModernDeck jo nije izvorno podran. Pomo za prevoenje:",ht:"Lang sistm ou a pa sipte pa ModernDeck ank. Ede tradui:",hy:"       ModernDeck-  :  .",hu:"A ModernDeck mg nem tmogatja a rendszernyelv natv tmogatst. Segts a fordtsban:",id:"Bahasa sistem Anda belum didukung oleh ModernDeck. Bantu menerjemahkan:",ig:"ModernDeck anagh akwado ass sistem g. Nyere ntghar aka:",is:"ModernDeck styur ekki tunguml kerfisins ns. Hjlpau okkur vi a a:",it:"La lingua del tuo sistema non  ancora supportata nativamente da ModernDeck. Aiuta a tradurre:",ja:"ModernDeck ",jv:"Bahasa sistem sampeyan durung didhukung kanthi asli dening ModernDeck. Pitulung nerjemahake:",ka:"       ModernDeck .  :",kk:"   ModernDeck  .  :",km:" ModernDeck  ",kn:"     ModernDeck .   :",ko:"   ModernDeck   .   :",ku:"Ziman pergala te ji hla ModernDeck ve hn nebye pitgir. Alkar wergerandin:",ky:"  ModernDeck    .   :",la:"Tua ratio linguae, non tamen paternus subnixus ModernDeck. Auxilium interpretari:",lb:"r System Sprooch gtt nach net vum ModernDeck nnersttzt. Hlleft Iwwersetze:",lo:"     ModernDeck . :",lt:"ModernDeck dar nepalaiko js sistemos kalbos. Padkite iversti:",lv:"ModernDeck jsu sistmas valodu vl neatbalsta. Paldziet tulkot:",mi:"Kaore ano te reo o to rohe e tautokohia ana e te ModernDeck. whina whakamori:",mk:"        ModernDeck.   :",ml:"    ModernDeck .   :",mg:"Ny fitenin'ny rafitrasao dia tsy vazaha teratany amin'ny ModernDeck. Hanampy handika:",mn:"   ModernDeck    .  :",mr:"      ModernDeck   .   :",ms:"Bahasa sistem anda belum disokong oleh ModernDeck secara asli. Bantu terjemahkan:",mt:"Il-lingwa tas-sistema tiegek gadha mhix appoata b'mod indienu minn ModernDeck. Gajnuna fit-traduzzjoni:",my:" system language  ModernDeck  ",ne:"      ModernDeck     :",nl:"Uw systeemtaal wordt nog niet standaard door ModernDeck ondersteund. Help vertalen:",no:"Systemsprket ditt stttes ikke av ModernDeck enn. Hjelp til  oversette:",ny:"Zilankhulo zanu sizothandiziridwa mwapadera ndi ModernDeck panobe. Thandizani kutanthauzira:",or:"    ModernDeck    |    :",pa:"       ModernDeck    .  :",pl:"Twj jzyk systemowy nie jest jeszcze obsugiwany przez ModernDeck. Pom przetumaczy:",ps:"        ModernDeck    .  :",pt:"O idioma do sistema ainda no  suportado nativamente pelo ModernDeck. Ajude a traduzir:",ro:"Limba dvs. de sistem nu este nc acceptat nativ de ModernDeck. Ajutor pentru traducere:",ru:"      ModernDeck.  :",rw:"Ururimi rwa sisitemu ntabwo rushyigikiwe na ModernDeck kugeza ubu. Gufasha guhindura:",sd:"          ModernDeck  .   :",si:"      ModernDeck .    :",sk:"V systmov jazyk nie je natvne podporovan ModernDeck ete. Pomte s prekladom:",sl:"Jezik vaega sistema izvorno ne podpira ModernDeck e. Pomo pri prevajanju:",sm:"O lau gagana gagana e le o lagolagoina ile ModernDeck. Fesoasoani faaliliu:",sn:"Mutauro wako wechirongwa hausiko kutsigirwa nawo ModernDeck zvakadaro. Batsira kududzira:",so:"Luuqadaada nidaamku asal ahaan kuma taageeraan ModernDeck weli. Caawinta tarjumida:",sq:"Gjuha juaj e sistemit nuk mbshtetet ende nga ModernDeck akoma. Ndihmoni n prkthimin:",sr:"ModernDeck      .   :",st:"Puo ea sistimi ea hau ha e ts'ehetsoe ka tlhaho ke ModernDeck. Thusa ho fetolela:",su:"Bahasa sistem anjeun henteu didukung asli ModernDeck acan. Pitulung narjamahkeun:",sv:"Ditt systemsprk stds inte av ModernDeck nnu. Hjlp med att verstta:",sw:"Lugha ya mfumo wako haihimiliwi na ModernDeck bado. Saidia kutafsiri:",ta:"      ModernDeck .  :",te:"      ModernDeck .   :",th:" ModernDeck :",tk:"Ulgam diliiz aslynda goldanylmaar ModernDeck. Terjime etmge kmek:",tl:"Ang iyong wika wika ay hindi katutubong suportado ng ModernDeck pa. Tulong sa pagsasalin:",tg:"        ModernDeck .   :",tr:"Sistem diliniz yerel olarak tarafndan desteklenmiyor ModernDeck henz. eviriye yardm et:",tt:"      ModernDeck .   :",uk:"      ModernDeck .  :",ug:"    ModernDeck .  :",ur:"              ModernDeck.    :",uz:"Tizim tili ona tomonidan qo'llab-quvvatlanmaydi ModernDeck hali. Tarjimaga yordam bering:",vi:"Ngn ng h thng ca bn khng c h tr bi ModernDeck cha. Tr gip dch:",xh:"Ulwimi lwenkqubo yakho aluxhaswanga ngokwemveli ModernDeck okwangoku. Nceda uguqulele:",yi:"        ModernDeck .  :",yo:"Ede eto r ko j ti abinibi nipas ModernDeck sibsib. Iranlw pese:",zh:"ModernDeck ",zu:"Ulimi lohlelo lwakho alwesekelwa ngabomdabu I-ModernDeck kuze kube manje. Siza ukuhumusha:"},DataTranslationsMayBeInaccurate={af:"Vertalings kan onvolledig of onakkuraat wees.",am:"     ",ar:"       .",az:"Trcmlr natamam v ya qeyri-dqiq ola bilr.",be:"     .",bn:"     ",bg:"      .",bs:"Prijevodi mogu biti nepotpuni ili netani.",ca:"Les traduccions poden ser incompletes o inexactes.",co:"U traduzzione p esse incompleta o imprecisa.",cs:"Peklady mohou bt nepln nebo nepesn.",cy:"Gall cyfieithiadau fod yn anghyflawn neu'n anghywir.",da:"Oversttelser kan vre ufuldstndige eller unjagtige.",de:"bersetzungen knnen unvollstndig oder ungenau sein.",el:"       .",en:"Translations may be incomplete or inaccurate.",eo:"Tradukoj povas esti nekompletaj a malustaj.",es:"Las traducciones pueden ser incompletas o inexactas.",et:"Tlked vivad olla puudulikud vi ebatpsed.",eu:"Itzulpenak osatu gabe edo zehaztugabeak izan daitezke.",fa:"       .",fi:"Knnkset voivat olla puutteellisia tai eptarkkoja.",fj:"E rawa ni sega ni taucoko na kena iVakadewa se cala.",fr:"Les traductions peuvent tre incompltes ou inexactes.",fy:"Oersettingen kinne nfolslein of unakkuraat wze.",ga:"Fadfaidh aistrichin a bheith neamhiomln n mchruinn.",gd:"Faodaidh eadar-theangachadh a bhith neo-iomlan no mearachdach.",gl:"As traducins poden ser incompletas ou incorrectas.",gu:"      .",ha:"Fassarorin na iya zama cikakke ko rashin daidaituwa.",he:"       .",hi:"      ",hr:"Prijevodi mogu biti nepotpuni ili netoni.",ht:"Tradiksyon yo ka enkonpl oswa krk.",hy:"      :",hu:"Lehet, hogy a fordts hinyos vagy pontatlan.",id:"Terjemahan mungkin tidak lengkap atau tidak akurat.",ig:"Nsghar nwere ike b ezugh ezu ma  b ezugh oke.",is:"ingar geta veri fullngjandi ea nkvmar.",it:"Le traduzioni possono essere incomplete o inesatte.",ja:"",jv:"Terjemahan bisa uga ora lengkap utawa ora akurat.",ka:"     .",kk:"       .",km:"",kn:"   .",ko:"     .",ku:"Dibe ku werger kmas an a be.",ky:"       .",la:"Vulgate sit imperfecta sive parum diligens est.",lb:"Iwwersetzunge knnen onkomplett oder net korrekt sinn.",lo:".",lt:"Vertimai gali bti neisams arba netiksls.",lv:"Tulkojumi var bt nepilngi vai nepreczi.",mi:"Kaore pea i te tika, kaore i te tika nga whakamaoritanga.",mk:"      .",ml:"   .",mg:"Mety ho tsy feno na tsy marina ny dikan-teny.",mn:"     .",mr:"     .",ms:"Terjemahan mungkin tidak lengkap atau tidak tepat.",mt:"It-traduzzjonijiet jistgu ma jkunux kompluti jew mhux eatti.",my:"",ne:"     ",nl:"Vertalingen zijn mogelijk onvolledig of onnauwkeurig.",no:"Oversettelser kan vre ufullstendige eller unyaktige.",ny:"Kutanthauzira kumatha kukhala kosakwanira kapena kolakwika.",or:"     |",pa:"      .",pl:"Tumaczenia mog by niepene lub niedokadne.",ps:"     .",pt:"As tradues podem estar incompletas ou imprecisas.",ro:"Traducerile pot fi incomplete sau inexacte.",ru:"     .",rw:"Ubuhinduzi bushobora kuba butuzuye cyangwa budahwitse.",sd:"      .",si:"     .",sk:"Preklady mu by nepln alebo nepresn.",sl:"Prevodi so lahko nepopolni ali netoni.",sm:"O faaliliuga atonu e le atoatoa pe le sao.",sn:"Dudziro dzinogona kunge dzisina kukwana kana kuti dzisina kukwana.",so:"Tarjumadu waxay noqon karaan kuwo aan dhammaystirnayn ama khaldan yihiin.",sq:"Prkthimet mund t jen t paplota ose t pasakta.",sr:"     .",st:"Liphetolelo li ka ba tse sa felletseng kapa tse sa nepahalang.",su:"Tarjamahan panginten henteu lengkep atanapi henteu pas.",sv:"versttningar kan vara ofullstndiga eller felaktiga.",sw:"Tafsiri inaweza kuwa haijakamilika au sahihi.",ta:"    .",te:"    .",th:"",tk:"Terjimeler doly dl a-da ndogry bolup biler.",tl:"Ang mga pagsalin ay maaaring hindi kumpleto o hindi tumpak.",tg:"     .",tr:"eviriler eksik veya yanl olabilir.",tt:"       .",uk:"     .",ug:"     .",ur:"     ",uz:"Tarjimalar to'liq emas yoki noaniq bo'lishi mumkin.",vi:"Bn dch c th khng y  hoc khng chnh xc.",xh:"Iitolikhi zinokungaphelelanga okanye zichanekile.",yi:"     .",yo:"Awn iwe-itum le pe tabi aie-deede.",zh:"",zh_TW:"",zu:"Ukuhumusha kungenzeka kungapheleli noma kungalungile."};var SettingsMigration=function(){function SettingsMigration(){}return SettingsMigration.migrate=function(){var theme=getPref("mtd_theme");switch(theme){case"grey":case"red":case"orange":case"yellow":case"green":case"teal":case"cyan":case"blue":case"violet":case"pink":setPref("mtd_color_theme",theme),setPref("mtd_theme",TD.settings.getTheme())}switch(getPref("mtd_headposition")){case"top":case"left":setPref("mtd_headposition","simplified")}},SettingsMigration}(),loadPreferences=function(){window.settingsData=settingsData,window.ModernDeck.settingsData=settingsData,SettingsMigration.migrate(),Object.keys(settingsData).map((function(key){if(!settingsData[key].enum)for(var i in settingsData[key].options){var prefKey=settingsData[key].options[i].settingsKey,pref=settingsData[key].options[i];if(void 0!==prefKey){var setting=void 0;if(hasPref(prefKey))setting=getPref(prefKey);else if("function"==typeof pref.default){var def=pref.default();setPref(prefKey,def),setting=def}else setPref(prefKey,pref.default),setting=pref.default;switch(void 0!==window.desktopConfig&&void 0!==window.desktopConfig[key]&&void 0!==window.desktopConfig[key][i]&&(console.log(window.desktopConfig[key]),console.log(window.desktopConfig[key][i]),setting=window.desktopConfig[key][i]),pref.type){case"checkbox":!0===setting?(console.log("activate "+prefKey),parseActions(pref.activate,void 0,!0)):(console.log("deactivate "+prefKey),parseActions(pref.deactivate,void 0,!0));break;case"dropdown":case"textbox":case"textarea":case"array":case"slider":parseActions(pref.activate,setting,!0)}}}}))},parseActions=function(actions,option,firstLoad){for(var key in actions)switch(key){case"enableStylesheet":enableStylesheetExtension(actions[key]);break;case"disableStylesheet":disableStylesheetExtension(actions[key]);break;case"htmlAddClass":window.html.hasClass(actions[key])||window.html.addClass(actions[key]);break;case"htmlRemoveClass":window.html.removeClass(actions[key]);break;case"func":if("function"!=typeof actions[key])throw"There's a func action, but it isn't a function? :thinking:";try{actions[key](option,firstLoad)}catch(e){console.error("Error occurred processing action function."),console.error(e),window.lastError=e,console.error("Dump of naughty function attached below"),console.log(actions[key])}}},UISettingsComponent=function(){function UISettingsComponent(){}return Object.defineProperty(UISettingsComponent.prototype,"value",{get:function(){return this._value},set:function(value){this._value=value},enumerable:!1,configurable:!0}),UISettingsComponent.prototype.populateDefaultValue=function(setting){if("function"==typeof setting.queryFunction)try{this.value=setting.queryFunction()}catch(error){console.error(error)}else this.value=getPref(setting.settingsKey)},UISettingsComponent}(),Dropdown_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsDropdown=function(_super){function SettingsDropdown(setting,projection){var _this=_super.call(this)||this;for(var prefKey in _this.select=make("select").attr("type","select"),setting.options){var opts=setting.options[prefKey];if(opts.value){var newPrefSel=opts,newoption=make("option").attr("value",newPrefSel.value).html(UISettings.i18nString(newPrefSel.text));_this.select.append(newoption)}else{var group=make("optgroup").attr("label",UISettings.i18nString(opts.name));for(var subKey in opts.children){var subSelector=opts.children[subKey],subOption=make("option").attr("value",subSelector.value).html(UISettings.i18nString(subSelector.text));group.append(subOption)}_this.select.append(group)}}return _this.populateDefaultValue(setting),_this.select.change((function(){parseActions(setting.activate,$(this).val()),!1!==setting.savePreference&&setPref(setting.settingsKey,$(this).val())})),_this.label=make("label").addClass("control-label").html(UISettings.i18nString(setting.title)),projection.append(_this.label,_this.select),_this}return Dropdown_extends(SettingsDropdown,_super),Object.defineProperty(SettingsDropdown.prototype,"value",{set:function(value){this._value=value,this.select.val(value)},enumerable:!1,configurable:!0}),SettingsDropdown}(UISettingsComponent),UIWelcome_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();var UIWelcome=function(_super){function UIWelcome(){var _this=_super.call(this)||this;if(window.desktopConfig&&window.desktopConfig.disableOOBE)return _this;if(window.isInWelcome=!0,window.mtdPrepareWindows(),$(".mtd-language-picker").length>0)return _this;($(".message-banner").attr("style","display: none;"),_this.container=make("div").addClass("mtd-welcome-inner"),_this.element=make("div").addClass("mdl mtd-welcome-panel").append(_this.container),_this.container.append(make("h1").text(I18n("Welcome to {productName}").replace("{productName}",window.ModernDeck.productName)),make("p").text(I18n("Welcome to {productName}, a free and open-source Twitter client, built on the power of TweetDeck, enhanced with a modern UI and more customization features.").replace("{productName}",window.ModernDeck.productName))),_this.leftPane=make("div").addClass("mtd-welcome-pane mtd-welcome-pane-left").appendTo(_this.container),_this.rightPane=make("div").addClass("mtd-welcome-pane mtd-welcome-pane-right").appendTo(_this.container),$("#settings-modal").mouseup((function(){setPref("mtd_welcomed10",!0),$("#settings-modal").off("mouseup")})),!0!==getPref("mtd_welcomed"))?(_this.leftPane.append(make("h2").text(I18n("New to ModernDeck?")),make("p").html(I18n("Pick a theme you'd like to use. You can customize colors and more about your ModernDeck experience in <i class='icon icon-settings'></i> <b>Settings</b>."))),_this.themeBox=make("select").attr("type","select"),new SettingsDropdown(Themes.options.theme,_this.leftPane).label.remove(),isApp&&_this.leftPane.append(make("h2").text(I18n("Been here before?")),make("p").html(I18n("If you exported your settings from ModernDeck before, you can restore those in <i class='icon icon-settings'></i> <b>Settings  System  Load Backup</b>")))):!0===getPref("mtd_welcomed")&&_this.leftPane.append(make("h2").text(I18n("You've been upgraded to ModernDeck 10")),make("p").text(I18n("Things should look familiar around here, but with new features and a lot of under-the-hood changes. I hope you like it!")));return _this.rightPane.append(make("h2").text(I18n("Follow ModernDeck on Twitter")),make("p").addClass("mtd-welcome-follow-header").text(I18n("Follow ModernDeck or its developer to learn about the latest updates or to contact for help.")),make("div").addClass("mtd-welcome-developer-profile").attr("id","moderndeck-profile"),make("div").addClass("mtd-welcome-developer-profile").attr("id","dangeredwolf-profile"),make("h2").text(I18n("Help support ModernDeck")),make("p").addClass("mtd-welcome-donation-header").text(I18n("ModernDeck has been developed since 2014 over countless hours of work and released for free. If you'd like to help continue its development, consider leaving a donation or becoming a sponsor.")),make("a").addClass("mtd-kofi-button").append(make("img").attr("src",window.mtdBaseURL+"assets/img/kofi.webp").attr("alt",I18n("Buy me a coffee on Ko-Fi"))).attr("href","https://ko-fi.com/dangeredwolf").attr("target","_blank"),make("button").addClass("mtd-sponsor-button").append(make("i").addClass("Icon icon-favorite"),I18n("Sponsor")).click((function(){return open("https://github.com/sponsors/dangeredwolf/","_blank")}))),_this.display(),_this.renderDeveloperInfo(),_this}return UIWelcome_extends(UIWelcome,_super),UIWelcome.prototype.developerInfoHTML=function(profile){return'<header class="tweet-header js-tweet-header flex flex-row flex-align--baseline">\n\t\t\t<a class="account-link link-complex block flex-auto" href="'.concat(profile.profileURL,'" rel="user" target="_blank">\n\t\t\t\t<div class="obj-left item-img tweet-img position-rel">\n\t\t\t\t\t<img class="tweet-avatar avatar pin-top-full-width" src="').concat(profile.profileImageURL,'" alt="').concat(profile.screenName,'">\n\t\t\t\t</div>\n\t\t\t\t<div class="mtd-welcome-profile-text">\n\t\t\t\t\t<b class="fullname link-complex-target">').concat(profile.emojifiedName,'</b>\n\t\t\t\t\t<span class="username txt-mute">@').concat(profile.screenName,'</span>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</header>\n\t\t<div id="mtd_follow_btn_').concat(profile.screenName,'" class="js-follow-button pull-right js-show-tip follow-btn margin-r--4 Button--tertiary ').concat(profile.following?"s-following":"s-not-following",'" title="" data-original-title="').concat(I18n("Follow"),'">\n\t\t\t<button class="action-text follow-text btn-on-dark">\n\t\t\t\t<i class="Icon icon-follow"></i>\n\t\t\t\t<span class="label">').concat(I18n("Follow"),'</span>\n\t\t\t</button>\n\t\t\t<button class="action-text Button--primary following-text">\n\t\t\t\t').concat(I18n("Following"),"\n\t\t\t</button>\n\t\t</div>")},UIWelcome.prototype.renderDeveloper=function(id,name){var _this=this;TD.cache.twitterUsers.getById(id).addCallback((function(profile){console.log("Got details for ".concat(name),profile),$("#".concat(name,"-profile")).html(_this.developerInfoHTML(profile)),$("#mtd_follow_btn_".concat(profile.screenName)).click((function(){TD.controller.clients.getPreferredClient().followUser(profile.screenName),$("#mtd_follow_btn_".concat(profile.screenName)).removeClass("s-not-following").addClass("s-following")}))}))},UIWelcome.prototype.renderDeveloperInfo=function(){this.renderDeveloper("2927859037","moderndeck"),this.renderDeveloper("3784131322","dangeredwolf")},UIWelcome}(UIModal),UILanguagePicker_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),UILanguagePicker=function(_super){function UILanguagePicker(){var _this=_super.call(this)||this;return window.languageData=DataI18n,_this.hasMadeChange=!1,_this.element=make("div").addClass("mdl mtd-alert mtd-language-picker"),_this.element.append(make("span").addClass("mtd-language-hello").text("Hello"),make("span").addClass("mtd-language-hello").text(""),make("span").addClass("mtd-language-hello").text(""),make("span").addClass("mtd-language-hello").text("Hola"),make("span").addClass("mtd-language-hello").text("Bonjour"),make("span").addClass("mtd-language-hello").text("Hallo"),make("span").addClass("mtd-language-hello").text(""),make("span").addClass("mtd-language-hello").text(""),make("span").addClass("mtd-language-hello").text("Ol"),make("span").addClass("mtd-language-hello").text("Ciao"),make("span").addClass("mtd-language-hello").text(""),make("span").addClass("mtd-language-hello").text("Witam")),_this.alertButton=make("button").addClass("btn-primary btn mtd-alert-button hidden").html("OK"),_this.inaccuracy=make("div").addClass("mtd-unsupported-lang mtd-lang-inaccuracies").html((DataI18n[navigator.language.substr(0,2)]&&DataI18n[navigator.language.substr(0,2)]["Translations may be incomplete or inaccurate."]?DataI18n[navigator.language.substr(0,2)]["Translations may be incomplete or inaccurate."]:DataTranslationsMayBeInaccurate[navigator.language.substr(0,2)]||DataTranslationsMayBeInaccurate.en)+" <a href='https://translate.moderndeck.org'>translate.moderndeck.org</a>"),_this.selectLanguage=make("select").attr("id","mtd_language_select").append(make("option").val("default").html("-").attr("selected","true").attr("disabled","true"),make("option").val("bg").html(""),make("option").val("cs").html("etina"),make("option").val("de").html("Deutsch"),make("option").val("et").html("eesti"),make("option").val("en_CA").html("English (Canada)"),make("option").val("en_GB").html("English (United Kingdom)"),make("option").val("en_US").html("English (United States)"),make("option").val("es_ES").html("Espaol (Espaa)"),make("option").val("es_US").html("Espaol (Estados Unidos)"),make("option").val("es_419").html("Espaol (Mxico)"),make("option").val("fr_CA").html("Franais (Canada)"),make("option").val("fr_FR").html("Franais (France)"),make("option").val("ko").html(""),make("option").val("it").html("italiano"),make("option").val("hu").html("magyar"),make("option").val("ja").html(""),make("option").val("no").html("norsk"),make("option").val("pl").html("polski"),make("option").val("pt_BR").html("Portugus (Brasil)"),make("option").val("ru").html(""),make("option").val("sl").html("Slovenina"),make("option").val("uk").html(""),make("option").val("zh_CN").html(""),make("option").val("zh_TW").html("")).change((function(){_this.hasMadeChange=!0,_this.alertButton.html(DataI18n.OK[_this.selectLanguage.val()]||DataI18n.OK[_this.selectLanguage.val().substr(0,2)]||"OK"),_this.alertButton.removeClass("hidden");var langCode=DataI18n["Translations may be incomplete or inaccurate."][_this.selectLanguage.val()],langCodeBase=DataI18n["Translations may be incomplete or inaccurate."][_this.selectLanguage.val().substr(0,2)],footer=" <a href='https://translate.moderndeck.org'>translate.moderndeck.org</a>";void 0!==langCode?_this.inaccuracy.html(langCode+footer):void 0!==langCodeBase&&!1===langCodeBase?_this.inaccuracy.html(langCodeBase+footer):_this.inaccuracy.html((DataTranslationsMayBeInaccurate[_this.selectLanguage.val()]||DataTranslationsMayBeInaccurate[_this.selectLanguage.val().substr(0,2)]||DataTranslationsMayBeInaccurate.en["Translations may be incomplete or inaccurate."])+footer)})),setTimeout((function(){var mainLang=navigator.language.substr(0,2);switch(mainLang){case"en":mainLang="en_US";break;case"es":mainLang="es_ES";break;case"zh":mainLang="zh_CN";break;case"fr":mainLang="fr_FR"}console.log(mainLang);var mainLangElement=$('#mtd_language_select>option[value="'.concat(mainLang,'"]'));console.log("mainLangElement.length ".concat(mainLangElement.length)),mainLangElement.length>0&&(mainLangElement.attr("selected","true"),_this.selectLanguage.trigger("change"));var localLang=$('#mtd_language_select>option[value="'.concat(navigator.language.replace(/\-/g,"_"),'"]'));localLang.length>0&&(localLang.attr("selected","true"),_this.selectLanguage.trigger("change")),_this.hasMadeChange=!1,setTimeout((function(){_this.hasMadeChange=!1}))})),_this.alertBody=make("p").addClass("mtd-alert-body").append(_this.selectLanguage),_this.alertButtonContainer=make("div").addClass("mtd-alert-button-container"),_this.unsupportedLang=make("div").addClass("mtd-unsupported-lang").html((DataUnsupportedLanguage[navigator.language.substr(0,2)]||DataUnsupportedLanguage.en)+" <a href='https://translate.moderndeck.org'>translate.moderndeck.org</a>"),_this.alertButtonContainer.append(_this.alertButton),_this.alertButton.click((function(){setPref("mtd_last_lang",navigator.language),setPref("mtd_lang",_this.selectLanguage.val()),getFullLanguage()!==_this.selectLanguage.val()&&getMainLanguage()!==_this.selectLanguage.val()?setTimeout((function(){"undefined"!=typeof require?window.require("electron").ipcRenderer.send("restartApp"):location.reload()}),200):_this.dismiss(),window.isInWelcome&&setTimeout((function(){return new UIWelcome}),100)})),_this.element.append(_this.alertTitle,_this.alertBody,_this.alertButtonContainer),DataI18n.source[navigator.language.substr(0,2)]?_this.element.append(_this.inaccuracy):_this.element.append(_this.unsupportedLang),$("#splash-modal").length<1?_this.modalRoot=".login-container":_this.modalRoot="#splash-modal",$(_this.modalRoot).attr("style","display: block;").append(_this.element),_this}return UILanguagePicker_extends(UILanguagePicker,_super),UILanguagePicker}(UIModal);const Language={tabName:"<i class='material-icon' aria-hidden='true'>language</i> {{Language}}",options:{mtdChangeLanguage:{headerBefore:"{{Language}}",title:"{{Change Language}}",label:"{{Changing your language will reset formatting customizations and restart ModernDeck}}",type:ModernDeckSettingsType.BUTTON,activate:{func:function(){window.mtdPrepareWindows(),new UILanguagePicker}}},translationCredits:{label:"{{Some awesome people have helped translate ModernDeck into other languages}}",type:ModernDeckSettingsType.BUTTONGROUP,buttons:[{text:"{{Help Translate}}",func:function(){return open("http://translate.moderndeck.org/project/tweetdeck/invite")}},{text:"{{Translation Credits}}",func:function(){return new UIAlert({title:I18n("Translation Credits"),message:'\n<b></b><br>\nvancho1<br>\n<a href="https://twitter.com/Khar0s" rel="user" target="_blank">Kharos</a><br>\n\n<br><b>etina</b><br>\n<a href="https://twitter.com/JamesTheWusky" rel="user" target="_blank">JamesTheWusky</a><br>\n\n<br><b></b><br>\n<a href="https://twitter.com/N0PELGND" rel="user" target="_blank">DatNopeLegend</a><br>\ngledos<br>\n<a href="https://twitter.com/hugoalhofficial" rel="user" target="_blank">hugoalh</a><br>\n<a href="https://twitter.com/jeff7262" rel="user" target="_blank">JeffW</a><br>\n<a href="https://twitter.com/MapleDeerest" rel="user" target="_blank">Maple</a><br>\n<a href="https://twitter.com/snow370208" rel="user" target="_blank"> (snow370208)</a><br>\n\n<br><b>dansk</b><br>\n<a href="https://twitter.com/Flamey_Fox" rel="user" target="_blank">FlameyFox</a><br>\n\n<br><b>Deutsche</b><br>\nBandie<br>\n<a href="https://twitter.com/cmdrfletcher" rel="user" target="_blank">cmdrfletcher</a><br>\n<a href="https://twitter.com/EpicLPer" rel="user" target="_blank">EpicLPer</a><br>\n<a href="https://twitter.com/__Linx" rel="user" target="_blank">__Linx</a><br>\nLuke (Iguenth)<br>\n<a href="https://twitter.com/Mondanzo" rel="user" target="_blank">Mondanzo</a><br>\n<a href="https://twitter.com/hamburgator" rel="user" target="_blank">Planke</a><br>\n<a href="https://twitter.com/FLUFFSQUEAKER" rel="user" target="_blank">milanmat-fluffsqueaker</a><br>\n<a href="https://twitter.com/ItsJustMirko" rel="user" target="_blank">Mirko</a><br>\n<a href="https://twitter.com/Machtergreifung" rel="user" target="_blank">Machtergreifung</a><br>\n<a href="https://twitter.com/TecraFox" rel="user" target="_blank">Tecra</a><br>\n\n<br><b>Eesti</b><br>\nThoth<br>\n\n<br><b>Espaol</b><br>\n<a href="https://twitter.com/klopma" rel="user" target="_blank">Carlos Lpez</a><br>\n<a href="https://twitter.com/dangeredwolf" rel="user" target="_blank">dangered wolf</a><br>\n<a href="https://twitter.com/en_penumbras" rel="user" target="_blank">en_penumbras</a><br>\n<a href="https://twitter.com/FibonacciPrower" rel="user" target="_blank">Fibonacci Prower</a><br>\nLyla Bravo<br>\nminyfriki<br>\n<a href="https://twitter.com/j0shdee" rel="user" target="_blank">Joshua (joshdee)</a><br>\n<a href="https://twitter.com/RichardWolfVI" rel="user" target="_blank">Juan Marulanda</a><br>\ntetrisdog<br>\nTAKAHASHI Shuuji<br>\n<a href="https://twitter.com/xKaiman" rel="user" target="_blank">xKaiman</a><br>\n\n<br><b>Franais</b><br>\n<a href="https://twitter.com/COLAMAroro" rel="user" target="_blank">COLAMAroro</a><br>\n<a href="https://twitter.com/dracoz" rel="user" target="_blank">Draco</a><br>\n<a href="https://twitter.com/eramdam" rel="user" target="_blank">Damien Erambert (eramdam)</a><br>\n<a href="https://twitter.com/embraser01" rel="user" target="_blank">embraser01</a><br>\n<a href="https://twitter.com/Fenrykos" rel="user" target="_blank">Fenrykos</a><br>\n<a href="https://twitter.com/MuraseEtienne" rel="user" target="_blank">tienne Murase</a><br>\nKevin Tissier<br>\n<a href="https://twitter.com/Meylody_" rel="user" target="_blank">Mlodie</a><br>\n<a href="https://twitter.com/Nintenloup_Wolf" rel="user" target="_blank">Nintenloup</a><br>\n<a href="https://twitter.com/robot275" rel="user" target="_blank">Robot275</a><br>\n<a href="https://twitter.com/ShadyFennec" rel="user" target="_blank">ShadyFennec</a><br>\n<a href="https://twitter.com/Siphonay" rel="user" target="_blank">Siphonay</a><br>\nutf<br>\n<a href="https://twitter.com/Yakonche" rel="user" target="_blank">Yakonche</a><br>\n\n<br><b></b><br>\n<a href="https://twitter.com/hideki_0403" rel="user" target="_blank"> (hideki_0403)</a><br>\n<a href="https://twitter.com/MapleDeerest" rel="user" target="_blank">Maple</a><br>\nNiiG4m3s<br>\npukutaaang<br>\n<a href="https://twitter.com/strayedwave" rel="user" target="_blank">strayedwave</a><br>\nTAKAHASHI Shuuji<br>\n\n<br><b></b><br>\nkemoshota<br>\nLastorder<br>\nwmoon999<br>\n\n<br><b>Hrvatski</b><br>\n<a href="https://twitter.com/jptjohnny" rel="user" target="_blank">JPTJohnny</a><br>\n\n<br><b>italiano</b><br>\n<a href="https://twitter.com/controdestre" rel="user" target="_blank">controdestre</a><br>\n<a href="https://twitter.com/hamburgator" rel="user" target="_blank">Planke</a><br>\n\n<br><b>magyar</b><br>\n<a href="https://twitter.com/miklos_akos" rel="user" target="_blank">Mikls kos</a><br>\n\n<br><b>norsk</b><br>\n<a href="https://twitter.com/ShiftTGC" rel="user" target="_blank">ShiftTGC</a><br>\nLoke<br>\n\n<br><b>Polski</b><br>\n<a href="https://twitter.com/4D3s12" rel="user" target="_blank">Ad3s12</a><br>\n<a href="https://twitter.com/MrRocketFX" rel="user" target="_blank">Mr. Rocket</a><br>\n<a href="https://twitter.com/Patryk1023PL" rel="user" target="_blank">Patryk1023</a><br>\n<a href="https://twitter.com/PeCeT_full" rel="user" target="_blank">PeCeT_full</a><br>\nPawe Amroziewicz<br>\n<a href="https://twitter.com/9172unknownuser" rel="user" target="_blank">Max (9172unknownuser)</a><br>\n<a href="https://twitter.com/w1nk000" rel="user" target="_blank">w1nk000</a><br>\n\n<br><b>Portugus</b><br>\nJoo Ferreira<br>\n\n<br><b>Portugus (Brasil)</b><br>\n<a href="https://twitter.com/eubyt" rel="user" target="_blank">Adrian Csar</a><br>\nAndr Gama / ToeOficial<br>\nChef! / chefwireframe<br>\n\n<br><b></b><br>\n<a href="https://twitter.com/coldarchie" rel="user" target="_blank">Archie</a><br>\n<a href="https://twitter.com/reig_xvi" rel="user" target="_blank">Cyxtru</a><br>\n<a href="https://twitter.com/Sominemo" rel="user" target="_blank">Sominemo</a><br>\n<a href="https://twitter.com/Tailsray2" rel="user" target="_blank">Tailsray</a><br>\n\n<br><b></b><br>\n<a href="https://twitter.com/HelaBasa" rel="user" target="_blank">Store (HelaBasa)</a><br>\n\n<br><b>Slovenina</b><br>\n<a href="https://twitter.com/LeoTheFolf" rel="user" target="_blank">Leo</a><br>\n\n<br><b></b><br>\n<a href="https://twitter.com/Sominemo" rel="user" target="_blank">Sominemo</a><br>\n<a href="https://twitter.com/caramelizedunic" rel="user" target="_blank">Yehor P.</a><br>\n\n<br>\n<br>\n\n'}).alertButton.remove()}}]},timeFormat:{headerBefore:"{{Formatting}}",title:"{{Time format}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(opt){window.mtdTimeHandler=opt}},options:{default:{value:"default",text:"{{Language default}}"},h12:{value:"h12",text:"1:30 {{pm}}"},h24:{value:"h24",text:"13:30"}},settingsKey:"mtd_timeFormat",default:"default"},numberFormat:{title:"{{Number formatting}}",type:ModernDeckSettingsType.DROPDOWN,activate:{func:function(){window.mtdNeedsResetNumberFormatting=!0}},options:{default:{value:"default",text:"{{Language default}}"},english:{value:"english",text:"1,234,567.89"},european:{value:"european",text:"1.234.567,89"},blank:{value:"blank",text:"1 234 567,89"},indian:{value:"indian",text:"12,34,567.89"}},settingsKey:"mtd_shortDateFormat",default:"default"},abbrevNumbers:{title:"{{Abbreviate large numbers (thousands, millions)}}",type:ModernDeckSettingsType.CHECKBOX,activate:{func:function(){window.mtdAbbrevNumbers=!0}},deactivate:{func:function(){window.mtdAbbrevNumbers=!1}},settingsKey:"mtd_abbrevNumbers",default:!0}}};const About={tabName:"<i class='material-icon' aria-hidden='true'>info_outline</i> {{About}}",tabId:"about",options:{},enum:ModernDeckSettingsEnumPage.ABOUT};const InternalSettings={enabled:!1,tabName:"InternalSettings",options:{collapsedColumns:{type:ModernDeckSettingsType.ARRAY,title:"collapsedColumns",activate:{func:function(column){column&&(column.forEach((function(columnNumber){var num,result;(num=columnNumber,$(".column").each((function(_i,col){void 0!==$(col).data("column")&&parseInt($(col).data("column").match(/s\d+/g)[0].substr(1))===num&&(result=col)})),$(result)).addClass("mtd-collapsed")})),setTimeout((function(){$(document).trigger("uiMTDColumnCollapsed")}),300))}},settingsKey:"mtd_collapsed_columns",default:[]},lastVersion:{type:ModernDeckSettingsType.TEXTBOX,title:"lastVersion",activate:{func:function(){window.ModernDeck.versionString,getPref("mtd_last_version")}},settingsKey:"mtd_last_version",default:function(){return window.ModernDeck.versionString}},replaceFavicon:{type:ModernDeckSettingsType.CHECKBOX,title:"replaceFavicon",activate:{func:function(){$('link[rel="shortcut icon"]').attr("href",window.mtdBaseURL+"assets/img/favicon.ico")}},settingsKey:"mtd_replace_favicon",savePreference:!1,default:!0}}};var _a,SettingsTab;!function(SettingsTab){SettingsTab.THEMES="themes",SettingsTab.APPEARANCE="appearance",SettingsTab.TWEETS="tweets",SettingsTab.MUTES="mutes",SettingsTab.ACCESSIBILITY="accessibility",SettingsTab.APP="app",SettingsTab.SYSTEM="system",SettingsTab.LANGUAGE="language",SettingsTab.ABOUT="about",SettingsTab.INTERNAL_SETTINGS="internalSettings"}(SettingsTab||(SettingsTab={}));var settingsData=((_a={})[SettingsTab.THEMES]=Themes,_a[SettingsTab.APPEARANCE]=Appearance,_a[SettingsTab.TWEETS]=Tweets,_a[SettingsTab.MUTES]=Mutes,_a[SettingsTab.ACCESSIBILITY]=Accessibility,_a[SettingsTab.APP]=App,_a[SettingsTab.SYSTEM]=System,_a[SettingsTab.LANGUAGE]=Language,_a[SettingsTab.ABOUT]=About,_a[SettingsTab.INTERNAL_SETTINGS]=InternalSettings,_a),Button_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsButton=function(_super){function SettingsButton(setting,projection){var _this=_super.call(this)||this;return _this.label=make("label").addClass("control-label").html(UISettings.i18nString(setting.label)),_this.button=make("button").text(UISettings.i18nString(setting.title)).addClass("btn btn-positive mtd-settings-button").click((function(){parseActions(setting.activate,!0)})),projection.append(_this.label,_this.button),_this}return Button_extends(SettingsButton,_super),SettingsButton}(UISettingsComponent),ButtonGroup_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsButtonGroup=function(_super){function SettingsButtonGroup(setting,projection){var _this=_super.call(this)||this;return _this.buttonGroup=[],_this.label=make("label").addClass("control-label").html(UISettings.i18nString(setting.label)),projection.append(_this.label),setting.buttons.forEach((function(button){var buttonElement=make("button").html(UISettings.i18nString(button.text)).addClass("btn btn-positive mtd-settings-button").click((function(){return button.func()}));_this.buttonGroup.push(buttonElement),projection.append(buttonElement)})),_this}return ButtonGroup_extends(SettingsButtonGroup,_super),SettingsButtonGroup}(UISettingsComponent),Checkbox_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsCheckbox=function(_super){function SettingsCheckbox(setting,projection){var _this=_super.call(this)||this;return _this.input=make("input").attr("type","checkbox"),_this.populateDefaultValue(setting),_this.input.change((function(){!1!==setting.savePreference&&setPref(setting.settingsKey,_this.input.is(":checked")),_this.input.is(":checked")?parseActions(setting.activate,_this.input.val()):parseActions(setting.deactivate,_this.input.val())})),_this.label=make("label").addClass("checkbox").append(make("span").html(UISettings.i18nString(setting.title)),_this.input),projection.append(_this.label),_this}return Checkbox_extends(SettingsCheckbox,_super),Object.defineProperty(SettingsCheckbox.prototype,"value",{set:function(value){this._value=value,value?this.input.attr("checked","checked"):this.input.removeAttr("checked")},enumerable:!1,configurable:!0}),SettingsCheckbox}(UISettingsComponent),Link_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsLink=function(_super){function SettingsLink(setting,projection){var _this=_super.call(this)||this;return _this.link=make("a").html(UISettings.i18nString(setting.label)).addClass("mtd-settings-link").click((function(){parseActions(setting.activate,!0)})),projection.append(_this.link),_this}return Link_extends(SettingsLink,_super),SettingsLink}(UISettingsComponent),Slider_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsSlider=function(_super){function SettingsSlider(setting,projection){var _this=_super.call(this)||this;return _this.label=make("label").addClass("control-label"),_this.slider=make("input").attr("type","range").attr("min",setting.minimum).attr("max",setting.maximum),_this.title=setting.title,_this.displayUnit=setting.displayUnit,_this.defaultButton=make("button").addClass("btn btn-positive mtd-settings-button mtd-default-button").text(I18n("Restore default")).click((function(){_this.slider.val("function"==typeof setting.default?setting.default():setting.default).trigger("input").trigger("change")})),_this.slider.change((function(){parseActions(setting.activate,_this.slider.val()),!1!==setting.savePreference&&setPref(setting.settingsKey,_this.slider.val())})).on("input",(function(){_this.value=_this.slider.val()})),_this.maximum=make("label").addClass("control-label mtd-slider-maximum").html(setting.maximum+(UISettings.i18nString(setting.displayUnit)||"")),_this.minimum=make("label").addClass("control-label mtd-slider-minimum").html(setting.minimum+(UISettings.i18nString(setting.displayUnit)||"")),_this.sliderContainer=make("div").addClass("mtd-slider-container").append(_this.maximum,_this.slider,_this.minimum),_this.populateDefaultValue(setting),projection.append(_this.label,_this.sliderContainer,_this.defaultButton),_this}return Slider_extends(SettingsSlider,_super),Object.defineProperty(SettingsSlider.prototype,"value",{set:function(value){this._value=value,this.slider.val(value),this.label.html("".concat(UISettings.i18nString(this.title)," ")+"<b> ".concat(this.slider.val()," ").concat(UISettings.i18nString(this.displayUnit||"")," </b>"))},enumerable:!1,configurable:!0}),SettingsSlider}(UISettingsComponent),Subtext_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsSubtext=function(_super){function SettingsSubtext(setting,projection){var _this=_super.call(this)||this;return _this.label=make("label").addClass("control-label txt-mute mtd-settings-subtext").html(UISettings.i18nString(setting.label)||""),projection.append(_this.label),_this}return Subtext_extends(SettingsSubtext,_super),SettingsSubtext}(UISettingsComponent),Textarea_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsTextarea=function(_super){function SettingsTextarea(setting,projection){var _this=_super.call(this)||this;return _this.textarea=make("textarea").addClass("mtd-textarea").attr("id",setting.settingsKey).attr("rows","10").attr("cols","80").attr("placeholder",setting.placeholder||"").attr("spellcheck","false"),_this.populateDefaultValue(setting),!0===setting.instantApply?_this.textarea.on("input",(function(){parseActions(setting.activate,$(this).val()),!1!==setting.savePreference&&setPref(setting.settingsKey,$(this).val())})):_this.textarea.change((function(){parseActions(setting.activate,$(this).val()),!1!==setting.savePreference&&setPref(setting.settingsKey,$(this).val())})),_this.textarea.keydown((function(keydownEvent){if(!(9!=(keydownEvent.keyCode||keydownEvent.charCode||keydownEvent.which)||keydownEvent.shiftKey||keydownEvent.ctrlKey||keydownEvent.metaKey||keydownEvent.altKey)){var textEditor=_this.textarea[0],originalScroll=textEditor.scrollTop;if(textEditor.setSelectionRange){var selectionStart=textEditor.selectionStart,selectionEnd=textEditor.selectionEnd;textEditor.value="".concat(textEditor.value.substring(0,selectionStart),"\t").concat(textEditor.value.substr(selectionEnd)),textEditor.setSelectionRange(selectionStart+1,selectionStart+1),textEditor.focus()}return textEditor.scrollTop=originalScroll,keydownEvent.preventDefault(),!1}return!0})),_this.label=make("label").addClass("control-label").html(UISettings.i18nString(setting.title)),projection.append(_this.label,_this.textarea),_this}return Textarea_extends(SettingsTextarea,_super),Object.defineProperty(SettingsTextarea.prototype,"value",{set:function(value){this._value=value,this.textarea.val(value)},enumerable:!1,configurable:!0}),SettingsTextarea}(UISettingsComponent),Textbox_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),SettingsTextbox=function(_super){function SettingsTextbox(setting,projection){var _this=_super.call(this)||this;return _this.textbox=make("input").attr("type","text"),_this.populateDefaultValue(setting),_this.textbox.change((function(){parseActions(setting.activate,_this.textbox.val()),!1!==setting.savePreference&&setPref(setting.settingsKey,_this.textbox.val())})),_this.label=make("label").addClass("control-label").html(UISettings.i18nString(setting.title)),projection.append(_this.label,_this.textbox),_this}return Textbox_extends(SettingsTextbox,_super),Object.defineProperty(SettingsTextbox.prototype,"value",{set:function(value){this._value=value,this.textbox.val(value)},enumerable:!1,configurable:!0}),SettingsTextbox}(UISettingsComponent);const package_namespaceObject_i8="10.0.0";var diag=function(){var log="";log+="\nModernDeck ".concat(package_namespaceObject_i8," (Build ").concat(window.ModernDeck.buildNumber,")"),log+="\nBuilt ".concat(window.ModernDeck.buildDate),log+="\n\nPlatform: ",isApp?(log+="Electron",window.html.hasClass("mtd-winstore")&&(log+=" (Microsoft Store)"),window.html.hasClass("mtd-flatpak")&&(log+=" (Flatpak)"),window.html.hasClass("mtd-macappstore")&&(log+=" (App Store)"),log+="\nOS: ".concat(getSystemName(),"\nArchitecture: ").concat("x64"===process.arch?"amd64":process.arch)):log+=getPlatformName(),log+="\n\nTD.buildID: ".concat(TD&&TD.buildID?TD.buildID:"[not set]"),log+="\nTD.version: ".concat(TD&&TD.version?TD.version:"[not set]"),log+="\nUser agent: ".concat(navigator.userAgent),log+="\n\nLoaded extensions:\n";var diagString,loadedExtensions=[];$(".mtd-stylesheet-extension").each((function(e){loadedExtensions[loadedExtensions.length]=String($(".mtd-stylesheet-extension")[e].getAttribute("href").match(/(([A-z0-9_\-])+\w+\.[A-z0-9]+)/g))})),log+=loadedExtensions.join(", "),log+="\n\nUser preferences: \n".concat(function(){var prefs="";for(var key in window.ModernDeck.settingsData)if(!window.ModernDeck.settingsData[key].enum)for(var i in window.ModernDeck.settingsData[key].options){var prefKey=window.ModernDeck.settingsData[key].options[i].settingsKey,pref=window.ModernDeck.settingsData[key].options[i];exists(prefKey)&&"button"!==pref.type&&"link"!==pref.type&&(prefs+=prefKey+": "+(getPref(prefKey)||"[not set]")+"\n")}return prefs}()),console.log(log);try{diagString=log,new UIAlert({title:I18n("Diagnostics"),message:diagString.replace(/\n/g,"<br>")}).alertButton.remove()}catch(e){console.error("An error occurred trying to show the diagnostic menu"),console.error(e),window.lastError=e}};var TwitterConversationModes,TweetDeckFilterTypes,TwitterActionEnum,ChirpBaseTypeEnum,TwitterMediaWarnings,TweetDeckColumnMediaPreviewSizesEnum,SettingsEnumPage=function(_projection){},About_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),AboutEnumPage=function(_super){function AboutEnumPage(projection){var _this=_super.call(this,projection)||this;return _this.diagClickNumber=0,_this.logo=make("i").addClass("mtd-logo icon-moderndeck icon").click((function(){_this.diagClickNumber++,console.log(_this.diagClickNumber),_this.diagClickNumber>=5&&(_this.diagClickNumber=0,diag())})),_this.h1=make("h1").addClass("mtd-about-title").html("".concat(window.ModernDeck.productName,"<span>").concat(I18n(versionString),"</span>")),_this.h2=make("h2").addClass("mtd-version-title").html("Version "+window.ModernDeck.versionFriendlyString+I18n(" (Build ")+window.ModernDeck.buildNumber+")"),_this.logoContainer=make("div").addClass("mtd-logo-container"),isApp?window.desktopConfig&&"never"===window.desktopConfig.autoUpdatePolicy&&_this.logoContainer.append(make("p").addClass("mtd-check-out-app").html(I18n("Updates are disabled by your organization"))):_this.logoContainer.append(make("p").addClass("mtd-check-out-app").html(I18n("Get background notifications and more features with the free <a href='https://moderndeck.org'>ModernDeck App</a>!"))),_this.info=make("p").html(I18n('Made with <i class="icon icon-heart mtd-about-heart"></i> by <a href="https://twitter.com/dangeredwolf" rel="user" target="_blank">dangered wolf</a> since 2014<br>ModernDeck is <a href="https://github.com/dangeredwolf/ModernDeck/" target="_blank">an open source project</a> released under the MIT license.')),_this.infoContainer=make("div").addClass("mtd-about-info").append(_this.info),_this.logoContainer.append(_this.logo,_this.h1,_this.h2),projection.append(_this.logoContainer),_this.updateContainer=_this.makeUpdateCont(),!isApp||window.html.hasClass("mtd-winstore")||window.html.hasClass("mtd-flatpak")||window.html.hasClass("mtd-macappstore")||!window.desktopConfig||"never"===window.desktopConfig.autoUpdatePolicy||projection.append(_this.updateContainer),window.html.hasClass("mtd-winstore")?projection.append(make("div").append(make("h2").addClass("mtd-update-h3 mtd-update-managed").html(I18n("Updates for this version of ModernDeck are managed by the Microsoft Store.")),make("button").addClass("btn mtd-settings-button").html(I18n("Check for Updates")).click((function(){return open("ms-windows-store://updates")})))):window.html.hasClass("mtd-macappstore")&&projection.append(make("div").append(make("h2").addClass("mtd-update-h3 mtd-update-managed").html(I18n("Updates for this version of ModernDeck are managed by the App Store.")),make("button").addClass("btn mtd-settings-button").html(I18n("Check for Updates")).click((function(){open("macappstore://showUpdatesPage")})))),projection.append(_this.infoContainer),console.log(_this),_this}return About_extends(AboutEnumPage,_super),AboutEnumPage.prototype.makeUpdateCont=function(){return this.updateSpinner=make("div").addClass("mtd-update-spinner preloader-wrapper small active").html('<div class="spinner-layer"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div>'),this.updateContainer=make("div").addClass("mtd-update-container").append(this.updateSpinner),this.updateIcon=make("i").addClass("material-icon hidden"),this.updateh2=make("h2").addClass("mtd-update-h2").html(I18n("Checking for updates...")),this.updateh3=make("h3").addClass("mtd-update-h3 hidden").html(""),this.tryAgain=make("button").addClass("btn hidden").html(I18n("Try Again")),this.installButton=make("button").addClass("btn hidden").html(I18n("Download")),this.restartNow=make("button").addClass("btn hidden").attr("id","restartNow"),this.restartNowHtml=I18n("Restart Now"),this.restartNow.html(this.restartNowHtml),this.updateContainer.append(this.updateIcon,this.updateh2,this.updateh3,this.tryAgain,this.installButton,this.restartNow),"undefined"==typeof require||window.html.hasClass("mtd-flatpak")||window.html.hasClass("mtd-winstore")||window.html.hasClass("mtd-macappstore")||this.mtdAppUpdatePage(),this.updateContainer},AboutEnumPage.prototype.mtdAppUpdatePage=function(){var _this=this;$(document).on("mtdUpdateUIChanged",(function(){console.log("Update UI changed, I wonder what's new!"),_this.updateUIChanged()}));var ipcRenderer=window.require("electron").ipcRenderer;setTimeout((function(){$(_this.tryAgain).click((function(){ipcRenderer.send("checkForUpdates")})),$(_this.installButton).click((function(){ipcRenderer.send("downloadUpdates")})),$(_this.restartNow).click((function(){ipcRenderer.send("restartAndInstallUpdates")})),AutoUpdateController.isCheckingForUpdates||"disabled"===window.desktopConfig.autoUpdatePolicy||"manual"===window.desktopConfig.autoUpdatePolicy||(console.log("heck"),ipcRenderer.send("checkForUpdates")),_this.updateUIChanged()}))},AboutEnumPage.prototype.updateUIChanged=function(){AutoUpdateController.h2?($(this.updateh2).removeClass("hidden"),$(this.updateh2).html(AutoUpdateController.h2)):$(this.updateh2).addClass("hidden"),AutoUpdateController.h3?($(this.updateh3).removeClass("hidden"),$(this.updateh3).html(AutoUpdateController.h3)):$(this.updateh3).addClass("hidden"),AutoUpdateController.installButton?($(this.installButton).removeClass("hidden"),$(this.installButton).html(AutoUpdateController.installButton)):$(this.installButton).addClass("hidden"),AutoUpdateController.tryAgain?($(this.tryAgain).removeClass("hidden"),$(this.tryAgain).html(AutoUpdateController.tryAgain)):$(this.tryAgain).addClass("hidden"),AutoUpdateController.restartNow?$(this.restartNow).removeClass("hidden"):$(this.restartNow).addClass("hidden"),AutoUpdateController.icon?($(this.updateIcon).removeClass("hidden"),$(this.updateIcon).html(AutoUpdateController.icon)):$(this.updateIcon).addClass("hidden"),!0===AutoUpdateController.spinner?$(this.updateSpinner).removeClass("hidden"):$(this.updateSpinner).addClass("hidden")},AboutEnumPage}(SettingsEnumPage);!function(TwitterConversationModes){TwitterConversationModes.EVERYONE="",TwitterConversationModes.FOLLOW="Community",TwitterConversationModes.MENTION="ByInvitation"}(TwitterConversationModes||(TwitterConversationModes={})),function(TweetDeckFilterTypes){TweetDeckFilterTypes.PHRASE="phrase",TweetDeckFilterTypes.SENDER="sender",TweetDeckFilterTypes.SOURCE="source",TweetDeckFilterTypes.FOLLOWERS="followers",TweetDeckFilterTypes.IS_RETWEET="is_retweet",TweetDeckFilterTypes.IS_MENTION="is_mention",TweetDeckFilterTypes.IS_FAVORITE="is_favorite",TweetDeckFilterTypes.IS_FOLLOW="is_follow",TweetDeckFilterTypes.IS_ACTION_ON_RETWEET="is_action_on_retweet",TweetDeckFilterTypes.IS_QUOTED="is_quoted",TweetDeckFilterTypes.HAS_IMAGE="has_image",TweetDeckFilterTypes.HAS_VIDEO="has_video",TweetDeckFilterTypes.HAS_GIF="has_gif",TweetDeckFilterTypes.HAS_VINE="has_vine",TweetDeckFilterTypes.HAS_MEDIA="has_media",TweetDeckFilterTypes.HAS_LINK="has_link",TweetDeckFilterTypes.IS_FROM_VERIFIED="verified",TweetDeckFilterTypes.CHIRP_TYPE="chirp_type",TweetDeckFilterTypes.LOCATION="location",TweetDeckFilterTypes.SINCE_TIME="since_time",TweetDeckFilterTypes.UNTIL_TIME="until_time"}(TweetDeckFilterTypes||(TweetDeckFilterTypes={})),function(TwitterActionEnum){TwitterActionEnum.FAVORITE="favorite",TwitterActionEnum.FAVORITED_MEDIA="favorited_media_tagged",TwitterActionEnum.FAVORITED_MENTION="favorited_mention",TwitterActionEnum.FAVORITED_RETWEET="favorited_retweet",TwitterActionEnum.FOLLOW="follow",TwitterActionEnum.LIST_CREATED="list_created",TwitterActionEnum.LIST_DESTROYED="list_destroyed",TwitterActionEnum.LIST_MEMBER_ADDED="list_member_added",TwitterActionEnum.LIST_MEMBER_REMOVED="list_member_removed",TwitterActionEnum.MENTION="mention",TwitterActionEnum.QUOTE="quote",TwitterActionEnum.QUOTED_TWEET="quoted_tweet",TwitterActionEnum.REPLY="reply",TwitterActionEnum.RETWEET="retweet",TwitterActionEnum.RETWEETED_MEDIA="retweeted_media_tagged",TwitterActionEnum.RETWEETED_MENTION="retweeted_mention",TwitterActionEnum.RETWEETED_RETWEET="retweeted_retweet",TwitterActionEnum.UNFAVORITE="unfavorite",TwitterActionEnum.UNFOLLOW="unfollow"}(TwitterActionEnum||(TwitterActionEnum={})),function(ChirpBaseTypeEnum){ChirpBaseTypeEnum.CONVERSATION_JOIN="conversation_participants_join",ChirpBaseTypeEnum.CONVERSATION_NAME_UPDATE="conversation_name_update",ChirpBaseTypeEnum.CONVERSATION_PARTICIPANTS_FAILED="conversation_participants_failed",ChirpBaseTypeEnum.CONVERSATION_PARTICIPANTS_JOIN="conversation_participants_join",ChirpBaseTypeEnum.DATAMINR_ALERT="dataminr_alert",ChirpBaseTypeEnum.GAP="gap",ChirpBaseTypeEnum.MESSAGE_THREAD="message_thread",ChirpBaseTypeEnum.MESSAGE="message",ChirpBaseTypeEnum.SCHEDULED_GROUP="scheduled_group",ChirpBaseTypeEnum.SCHEDULED_STATUS="scheduled_status",ChirpBaseTypeEnum.SCHEDULED_TWEET_GROUP="scheduled_tweet_group",ChirpBaseTypeEnum.SCHEDULED_TWEET="scheduled_tweet",ChirpBaseTypeEnum.TWEET="tweet",ChirpBaseTypeEnum.UNKNOWN="unknown"}(ChirpBaseTypeEnum||(ChirpBaseTypeEnum={})),function(TwitterMediaWarnings){TwitterMediaWarnings.ADULT_CONTENT="adult_content",TwitterMediaWarnings.GRAPHIC_VIOLENCE="graphic_violence",TwitterMediaWarnings.OTHER="other"}(TwitterMediaWarnings||(TwitterMediaWarnings={})),function(TweetDeckColumnMediaPreviewSizesEnum){TweetDeckColumnMediaPreviewSizesEnum.OFF="off",TweetDeckColumnMediaPreviewSizesEnum.SMALL="small",TweetDeckColumnMediaPreviewSizesEnum.MEDIUM="medium",TweetDeckColumnMediaPreviewSizesEnum.LARGE="large"}(TweetDeckColumnMediaPreviewSizesEnum||(TweetDeckColumnMediaPreviewSizesEnum={}));Object.prototype.hasOwnProperty;var Either_left=function(e){return{_tag:"Left",left:e}},Either_right=function(a){return{_tag:"Right",right:a}},Either_isLeft=function(ma){return"Left"===ma._tag};var _extendStatics,es6_extends=(_extendStatics=function(d,b){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},_extendStatics(d,b)},function(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},failures=Either_left,failure=function(value,context,message){return failures([{value,context,message}])},success=Either_right,Type=function(){function Type(name,is,validate,encode){this.name=name,this.is=is,this.validate=validate,this.encode=encode,this.decode=this.decode.bind(this)}return Type.prototype.pipe=function(ab,name){var _this=this;return void 0===name&&(name="pipe("+this.name+", "+ab.name+")"),new Type(name,ab.is,(function(i,c){var e=_this.validate(i,c);return Either_isLeft(e)?e:ab.validate(e.right,c)}),this.encode===es6_identity&&ab.encode===es6_identity?es6_identity:function(b){return _this.encode(ab.encode(b))})},Type.prototype.asDecoder=function(){return this},Type.prototype.asEncoder=function(){return this},Type.prototype.decode=function(i){return this.validate(i,[{key:"",type:this,actual:i}])},Type}(),es6_identity=function(a){return a};function appendContext(c,key,decoder,actual){for(var len=c.length,r=Array(len+1),i=0;i<len;i++)r[i]=c[i];return r[len]={key,type:decoder,actual},r}function pushAll(xs,ys){for(var l=ys.length,i=0;i<l;i++)xs.push(ys[i])}var es6_hasOwnProperty=Object.prototype.hasOwnProperty;function getNameFromProps(props){return Object.keys(props).map((function(k){return k+": "+props[k].name})).join(", ")}function useIdentity(codecs){for(var i=0;i<codecs.length;i++)if(codecs[i].encode!==es6_identity)return!1;return!0}function getInterfaceTypeName(props){return"{ "+getNameFromProps(props)+" }"}function getUnionName(codecs){return"("+codecs.map((function(type){return type.name})).join(" | ")+")"}var emptyTags={};function intersect(a,b){for(var r=[],_i=0,a_1=a;_i<a_1.length;_i++){var v=a_1[_i];-1!==b.indexOf(v)&&r.push(v)}return r}function isLiteralC(codec){return"LiteralType"===codec._tag}function isTypeC(codec){return"InterfaceType"===codec._tag}function isUnionC(codec){return"UnionType"===codec._tag}var lazyCodecs=[];function getTags(codec){if(-1!==lazyCodecs.indexOf(codec))return emptyTags;if(isTypeC(codec)||function(codec){return"StrictType"===codec._tag}(codec)){var index=emptyTags;for(var k in codec.props){var prop=codec.props[k];isLiteralC(prop)&&(index===emptyTags&&(index={}),index[k]=[prop.value])}return index}if(function(codec){return"ExactType"===codec._tag}(codec)||function(codec){return"RefinementType"===codec._tag}(codec))return getTags(codec.type);if(function(codec){return"IntersectionType"===codec._tag}(codec))return codec.types.reduce((function(tags,codec){return function(a,b){if(a===emptyTags)return b;if(b===emptyTags)return a;var r=Object.assign({},a);for(var k in b)if(a.hasOwnProperty(k)){var intersection_1=intersect(a[k],b[k]);if(!(intersection_1.length>0)){r=emptyTags;break}r[k]=intersection_1}else r[k]=b[k];return r}(tags,getTags(codec))}),emptyTags);if(isUnionC(codec))return codec.types.slice(1).reduce((function(tags,codec){return function(a,b){if(a===emptyTags||b===emptyTags)return emptyTags;var r=emptyTags;for(var k in a)b.hasOwnProperty(k)&&0===intersect(a[k],b[k]).length&&(r===emptyTags&&(r={}),r[k]=a[k].concat(b[k]));return r}(tags,getTags(codec))}),getTags(codec.types[0]));if(function(codec){return"RecursiveType"===codec._tag}(codec)){lazyCodecs.push(codec);var tags=getTags(codec.type);return lazyCodecs.pop(),tags}return emptyTags}new(function(_super){function NullType(){var _this=_super.call(this,"null",(function(u){return null===u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="NullType",_this}return es6_extends(NullType,_super),NullType}(Type));var undefinedType=new(function(_super){function UndefinedType(){var _this=_super.call(this,"undefined",(function(u){return void 0===u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="UndefinedType",_this}return es6_extends(UndefinedType,_super),UndefinedType}(Type)),string=(new(function(_super){function VoidType(){var _this=_super.call(this,"void",undefinedType.is,undefinedType.validate,es6_identity)||this;return _this._tag="VoidType",_this}return es6_extends(VoidType,_super),VoidType}(Type)),new(function(_super){function UnknownType(){var _this=_super.call(this,"unknown",(function(_){return!0}),success,es6_identity)||this;return _this._tag="UnknownType",_this}return es6_extends(UnknownType,_super),UnknownType}(Type)),new(function(_super){function StringType(){var _this=_super.call(this,"string",(function(u){return"string"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="StringType",_this}return es6_extends(StringType,_super),StringType}(Type))),number=new(function(_super){function NumberType(){var _this=_super.call(this,"number",(function(u){return"number"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="NumberType",_this}return es6_extends(NumberType,_super),NumberType}(Type)),UnknownRecord=(new(function(_super){function BigIntType(){var _this=_super.call(this,"bigint",(function(u){return"bigint"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="BigIntType",_this}return es6_extends(BigIntType,_super),BigIntType}(Type)),new(function(_super){function BooleanType(){var _this=_super.call(this,"boolean",(function(u){return"boolean"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="BooleanType",_this}return es6_extends(BooleanType,_super),BooleanType}(Type)),new(function(_super){function AnyArrayType(){var _this=_super.call(this,"UnknownArray",Array.isArray,(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="AnyArrayType",_this}return es6_extends(AnyArrayType,_super),AnyArrayType}(Type)),new(function(_super){function AnyDictionaryType(){var _this=_super.call(this,"UnknownRecord",(function(u){var s=Object.prototype.toString.call(u);return"[object Object]"===s||"[object Window]"===s}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="AnyDictionaryType",_this}return es6_extends(AnyDictionaryType,_super),AnyDictionaryType}(Type)));!function(_super){function LiteralType(name,is,validate,encode,value){var _this=_super.call(this,name,is,validate,encode)||this;return _this.value=value,_this._tag="LiteralType",_this}es6_extends(LiteralType,_super)}(Type);!function(_super){function KeyofType(name,is,validate,encode,keys){var _this=_super.call(this,name,is,validate,encode)||this;return _this.keys=keys,_this._tag="KeyofType",_this}es6_extends(KeyofType,_super)}(Type);var RefinementType=function(_super){function RefinementType(name,is,validate,encode,type,predicate){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this.predicate=predicate,_this._tag="RefinementType",_this}return es6_extends(RefinementType,_super),RefinementType}(Type);refinement(number,(function(n){return Number.isInteger(n)}),"Int");var RecursiveType=function(_super){function RecursiveType(name,is,validate,encode,runDefinition){var _this=_super.call(this,name,is,validate,encode)||this;return _this.runDefinition=runDefinition,_this._tag="RecursiveType",_this}return es6_extends(RecursiveType,_super),RecursiveType}(Type);Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});!function(_super){function ArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ArrayType",_this}es6_extends(ArrayType,_super)}(Type);var InterfaceType=function(_super){function InterfaceType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="InterfaceType",_this}return es6_extends(InterfaceType,_super),InterfaceType}(Type);function type(props,name){void 0===name&&(name=getInterfaceTypeName(props));var keys=Object.keys(props),types=keys.map((function(key){return props[key]})),len=keys.length;return new InterfaceType(name,(function(u){if(UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i],uk=u[k];if(void 0===uk&&!es6_hasOwnProperty.call(u,k)||!types[i].is(uk))return!1}return!0}return!1}),(function(u,c){var e=UnknownRecord.validate(u,c);if(Either_isLeft(e))return e;for(var o=e.right,a=o,errors=[],i=0;i<len;i++){var k=keys[i],ak=a[k],type_1=types[i],result=type_1.validate(ak,appendContext(c,k,type_1,ak));if(Either_isLeft(result))pushAll(errors,result.left);else{var vak=result.right;(vak!==ak||void 0===vak&&!es6_hasOwnProperty.call(a,k))&&(a===o&&(a=__assign({},o)),a[k]=vak)}}return errors.length>0?failures(errors):success(a)}),useIdentity(types)?es6_identity:function(a){for(var s=__assign({},a),i=0;i<len;i++){var k=keys[i],encode=types[i].encode;encode!==es6_identity&&(s[k]=encode(a[k]))}return s},props)}!function(_super){function PartialType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="PartialType",_this}es6_extends(PartialType,_super)}(Type);!function(_super){function DictionaryType(name,is,validate,encode,domain,codomain){var _this=_super.call(this,name,is,validate,encode)||this;return _this.domain=domain,_this.codomain=codomain,_this._tag="DictionaryType",_this}es6_extends(DictionaryType,_super)}(Type);var UnionType=function(_super){function UnionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="UnionType",_this}return es6_extends(UnionType,_super),UnionType}(Type);function union(codecs,name){void 0===name&&(name=getUnionName(codecs));var index=function(codecs){for(var tags=getTags(codecs[0]),keys=Object.keys(tags),len=codecs.length,_loop_1=function(k){for(var all=tags[k].slice(),index=[tags[k]],i=1;i<len;i++){var values=getTags(codecs[i])[k];if(void 0===values)return"continue-keys";if(values.some((function(v){return-1!==all.indexOf(v)})))return"continue-keys";all.push.apply(all,values),index.push(values)}return{value:[k,index]}},_i=0,keys_1=keys;_i<keys_1.length;_i++){var state_1=_loop_1(keys_1[_i]);if("object"==typeof state_1)return state_1.value}}(codecs);if(void 0!==index&&codecs.length>0){var tag_1=index[0],groups_1=index[1],len_1=groups_1.length,find_1=function(value){for(var i=0;i<len_1;i++)if(-1!==groups_1[i].indexOf(value))return i};return new TaggedUnionType(name,(function(u){if(UnknownRecord.is(u)){var i=find_1(u[tag_1]);return void 0!==i&&codecs[i].is(u)}return!1}),(function(u,c){var e=UnknownRecord.validate(u,c);if(Either_isLeft(e))return e;var r=e.right,i=find_1(r[tag_1]);if(void 0===i)return failure(u,c);var codec=codecs[i];return codec.validate(r,appendContext(c,String(i),codec,r))}),useIdentity(codecs)?es6_identity:function(a){var i=find_1(a[tag_1]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+name);return codecs[i].encode(a)},codecs,tag_1)}return new UnionType(name,(function(u){return codecs.some((function(type){return type.is(u)}))}),(function(u,c){for(var errors=[],i=0;i<codecs.length;i++){var codec=codecs[i],result=codec.validate(u,appendContext(c,String(i),codec,u));if(!Either_isLeft(result))return success(result.right);pushAll(errors,result.left)}return failures(errors)}),useIdentity(codecs)?es6_identity:function(a){for(var _i=0,codecs_1=codecs;_i<codecs_1.length;_i++){var codec=codecs_1[_i];if(codec.is(a))return codec.encode(a)}throw new Error("no codec found to encode value in union type "+name)},codecs)}!function(_super){function IntersectionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="IntersectionType",_this}es6_extends(IntersectionType,_super)}(Type);!function(_super){function TupleType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;return _this.types=types,_this._tag="TupleType",_this}es6_extends(TupleType,_super)}(Type);!function(_super){function ReadonlyType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyType",_this}es6_extends(ReadonlyType,_super)}(Type);!function(_super){function ReadonlyArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ReadonlyArrayType",_this}es6_extends(ReadonlyArrayType,_super)}(Type);!function(_super){function ExactType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;return _this.type=type,_this._tag="ExactType",_this}es6_extends(ExactType,_super)}(Type);new(function(_super){function FunctionType(){var _this=_super.call(this,"Function",(function(u){return"function"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="FunctionType",_this}return es6_extends(FunctionType,_super),FunctionType}(Type));var TaggedUnionType=function(_super){function TaggedUnionType(name,is,validate,encode,codecs,tag){var _this=_super.call(this,name,is,validate,encode,codecs)||this;return _this.tag=tag,_this}return es6_extends(TaggedUnionType,_super),TaggedUnionType}(UnionType);new(function(_super){function NeverType(){var _this=_super.call(this,"never",(function(_){return!1}),(function(u,c){return failure(u,c)}),(function(){throw new Error("cannot encode never")}))||this;return _this._tag="NeverType",_this}return es6_extends(NeverType,_super),NeverType}(Type)),new(function(_super){function AnyType(){var _this=_super.call(this,"any",(function(_){return!0}),success,es6_identity)||this;return _this._tag="AnyType",_this}return es6_extends(AnyType,_super),AnyType}(Type)),new(function(_super){function ObjectType(){var _this=_super.call(this,"object",(function(u){return null!==u&&"object"==typeof u}),(function(u,c){return _this.is(u)?success(u):failure(u,c)}),es6_identity)||this;return _this._tag="ObjectType",_this}return es6_extends(ObjectType,_super),ObjectType}(Type));function refinement(codec,predicate,name){return void 0===name&&(name="("+codec.name+" | "+function(f){return f.displayName||f.name||"<function"+f.length+">"}(predicate)+")"),new RefinementType(name,(function(u){return codec.is(u)&&predicate(u)}),(function(i,c){var e=codec.validate(i,c);if(Either_isLeft(e))return e;var a=e.right;return predicate(a)?success(a):failure(a,c)}),codec.encode,codec,predicate)}refinement(number,Number.isInteger,"Integer"),function(_super){function StrictType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;return _this.props=props,_this._tag="StrictType",_this}es6_extends(StrictType,_super)}(Type);var AMEFilters,AdvancedMuteEngine_spreadArray=function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};!function(AMEFilters){AMEFilters.NFT_AVATAR="BTD_nft_avatar",AMEFilters.IS_RETWEET_FROM="BTD_is_retweet_from",AMEFilters.MUTE_USER_KEYWORD="BTD_mute_user_keyword",AMEFilters.REGEX_DISPLAYNAME="BTD_mute_displayname",AMEFilters.REGEX="BTD_regex",AMEFilters.USER_REGEX="BTD_user_regex",AMEFilters.MUTE_QUOTES="BTD_mute_quotes",AMEFilters.USER_BIOGRAPHIES="BTD_user_biographies",AMEFilters.DEFAULT_AVATARS="BTD_default_avatars",AMEFilters.FOLLOWER_COUNT_LESS_THAN="BTD_follower_count_less_than",AMEFilters.FOLLOWER_COUNT_GREATER_THAN="BTD_follower_count_greater_than",AMEFilters.SPECIFIC_TWEET="BTD_specific_tweet",AMEFilters.HASHTAGS_NUMBER="BTD_hashtags_number"}(AMEFilters||(AMEFilters={}));type({filterType:union([makeEnumRuntimeType(AMEFilters),makeEnumRuntimeType(TweetDeckFilterTypes)]),value:string,user:type({avatar:string,id:string,screenName:string,name:string})});var nonUserSpecificsTypes=[TweetDeckFilterTypes.SOURCE,TweetDeckFilterTypes.PHRASE],userSpecificTypes=[AMEFilters.MUTE_USER_KEYWORD,AMEFilters.HASHTAGS_NUMBER,AMEFilters.REGEX_DISPLAYNAME,AMEFilters.REGEX,AMEFilters.USER_REGEX,AMEFilters.USER_BIOGRAPHIES,AMEFilters.DEFAULT_AVATARS,AMEFilters.FOLLOWER_COUNT_LESS_THAN,AMEFilters.FOLLOWER_COUNT_GREATER_THAN],muteTypeAllowlist=AdvancedMuteEngine_spreadArray(AdvancedMuteEngine_spreadArray([],nonUserSpecificsTypes,!0),userSpecificTypes,!0);var fromLocalStorage,muteCatches=(fromLocalStorage=getPref("mtd_mute_catches"),new Map(fromLocalStorage));function getMeaningfulUser(target){var _a;return(null===(_a=target.retweetedStatus)||void 0===_a?void 0:_a.user)||target.sourceUser||target.user||target.following||target.owner}function maybeLogMuteCatch(target,filter,shouldDisplay){return new Promise((function(resolve){if(!muteTypeAllowlist.includes(filter.type))return resolve();var muteCatch,serialized=function(target,filter){var meaningfulUser=getMeaningfulUser(target);meaningfulUser||console.debug(filter,target);var simplifiedUser={avatar:meaningfulUser.profileImageURL,id:meaningfulUser.id,screenName:meaningfulUser.screenName,name:meaningfulUser.name};return{filterType:filter.type,value:filter.value,user:simplifiedUser}}(target,filter),catchKey=[(muteCatch=serialized).filterType,muteCatch.user.id,encodeURIComponent(muteCatch.value)].join("$_$");return muteCatches.has(catchKey)?(shouldDisplay&&!nonUserSpecificsTypes.includes(filter.type)&&muteCatches.delete(catchKey),resolve()):(shouldDisplay||userSpecificTypes.includes(filter.type)&&getMeaningfulUser(target).screenName!==target.user.screenName||muteCatches.set(catchKey,serialized),resolve())}))}function makeEnumRuntimeType(srcEnum){var enumValues=new Set(Object.values(srcEnum));return new Type("Enum",(function(value){return Boolean(value&&enumValues.has(value))}),(function(value,context){return value&&enumValues.has(value)?success(value):failure(value,context)}),(function(value){return value.toString()}))}var ContextMenuFunctions_a,ContextMenuAction,RAMEFilters=makeEnumRuntimeType(AMEFilters),setupAME=function(){var _a;TD.vo.Filter.prototype._getDisplayType=TD.vo.Filter.prototype.getDisplayType,TD.vo.Filter.prototype._pass=TD.vo.Filter.prototype.pass,TD.controller.filterManager._addFilter=TD.controller.filterManager.addFilter,TD.controller.filterManager._removeFilter=TD.controller.filterManager.removeFilter;var AmeFilters=((_a={})[AMEFilters.NFT_AVATAR]={display:{global:!1,options:!1,actions:!1},name:"Mute accounts with an NFT avatar",descriptor:"accounts with an NFT avatar",placeholder:"nothing!",function:function(t,e){var _a;return void 0===(null===(_a=e.user)||void 0===_a?void 0:_a.hasNftAvatar)||!1===e.user.hasNftAvatar}},_a[AMEFilters.SPECIFIC_TWEET]={name:"Specific tweet",descriptor:"specific tweet",placeholder:"ID of tweet",options:{templateString:"{{chirp.id}}",nameInDropdown:"Hide this tweet"},function:function(t,e){return e.id!==t.value}},_a[AMEFilters.IS_RETWEET_FROM]={display:{actions:!0},name:"Retweets from User",descriptor:"retweets from",placeholder:"e.g. tweetdeck",function:function(t,e){return!(e.isRetweetedStatus()&&t.value===e.user.screenName.toLowerCase())}},_a[AMEFilters.MUTE_USER_KEYWORD]={display:{global:!0},name:"Keyword from User",descriptor:"user|keyword: ",placeholder:"e.g. tweetdeck|feature",function:function(t,e){if(!e.user)return!0;var filter=t.value.split("|"),user=filter[0],keyword=filter[1];return!(e.text.toLowerCase().includes(keyword)&&user===e.user.screenName.toLowerCase())}},_a[AMEFilters.HASHTAGS_NUMBER]={display:{global:!0},name:"Tweet contains more than X hashtags",descriptor:"tweets with more than X hashtags",placeholder:"Enter a number",function:function(t,e){return!e.entities||(!Number.isSafeInteger(Number(t.value))||e.entities.hashtags.length<=Number(t.value))}},_a[AMEFilters.REGEX_DISPLAYNAME]={display:{global:!0},name:"Display name (Regular Expression)",descriptor:"display names matching",placeholder:"Enter a keyword or phrase",function:function(t,e){if(!e.user)return!0;var regex=new RegExp(t.value,"gi");return!e.user.name.match(regex)}},_a[AMEFilters.REGEX]={display:{global:!0},name:"Tweet Text (Regular Expression)",descriptor:"tweets matching",placeholder:"Enter a regular expression",function:function(t,e){var regex=new RegExp(t.value,"gi");return!e.getFilterableText().match(regex)}},_a[AMEFilters.USER_REGEX]={display:{global:!0},name:"Username (Regular Expression)",descriptor:"usernames matching",placeholder:"Enter a regular expression",function:function(t,e){if(!e.user)return!0;var regex=new RegExp(t.value,"gi");return!e.user.screenName.match(regex)}},_a[AMEFilters.MUTE_QUOTES]={display:{actions:!0},name:"Quotes from User",descriptor:"quotes from",placeholder:"e.g. tweetdeck",function:function(t,e){return!e.user||!(e.isQuoteStatus&&t.value===e.user.screenName.toLowerCase())}},_a[AMEFilters.USER_BIOGRAPHIES]={display:{global:!0},name:"Biography",descriptor:"users whose bio contains",placeholder:"Enter a keyword or phrase",function:function(t,e){return!e.user||!e.user.description.toLowerCase().includes(t.value)}},_a[AMEFilters.DEFAULT_AVATARS]={display:{global:!0},name:"Default Profile Pictures",descriptor:"users having a default profile picture",placeholder:"",function:function(t,e){return!e.user||!e.user.profileImageURL.includes("default")}},_a[AMEFilters.FOLLOWER_COUNT_LESS_THAN]={display:{global:!0},name:"Follower count less than",descriptor:"users with less followers than",placeholder:"Enter a number",function:function(t,e){return!e.user||!(e.user.followersCount<parseInt(t.value,10))}},_a[AMEFilters.FOLLOWER_COUNT_GREATER_THAN]={display:{global:!0},name:"Follower count more than",descriptor:"users with more followers than",placeholder:"Enter a number",function:function(t,e){return!e.user||!(e.user.followersCount>parseInt(t.value,10))}},_a);TD.vo.Filter.prototype.pass=function(e){if(RAMEFilters.is(this.type))try{e=function(e,filterTarget,filterType){return e.targetTweet&&"parent"!==filterTarget?e.targetTweet:userSpecificTypes.includes(filterType)&&e.retweetedStatus?e.retweetedStatus:e}(e,this.filterTarget,this.type);var shouldDisplay_1=AmeFilters[this.type].function(this,e);return e.chirpType!==ChirpBaseTypeEnum.TWEET&&e.chirpType!==ChirpBaseTypeEnum.UNKNOWN||maybeLogMuteCatch(e,this,shouldDisplay_1),shouldDisplay_1}catch(e){return console.error(e),!0}var shouldDisplay=this._pass(e);return e.chirpType!==ChirpBaseTypeEnum.TWEET&&e.chirpType!==ChirpBaseTypeEnum.UNKNOWN||maybeLogMuteCatch(e,this,shouldDisplay),shouldDisplay},TD.controller.filterManager.removeFilter=function(filter){var foundFilter=TD.controller.filterManager.getAll().find((function(f){return f.id===filter.id}));return foundFilter&&function(filter){Array.from(muteCatches.entries()).forEach((function(_a){var key=_a[0],value=_a[1];value.filterType===filter.type&&value.value===filter.value&&muteCatches.delete(key)}))}(foundFilter),this._removeFilter(filter)},TD.vo.Filter.prototype.getDisplayType=function(){return RAMEFilters.is(this.type)?AmeFilters[this.type].descriptor:this._getDisplayType()},$("body").on("click","[data-mtd-filter]",(function(ev){ev.preventDefault();var filter=$(ev.target).data("mtd-filter"),value=$(ev.target).data("mtd-value");TD.controller.filterManager.addFilter(filter,value)}))},Mutes_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),MuteEnumPage=function(_super){function MuteEnumPage(projection){var _a,_b,_this=_super.call(this,projection)||this;for(var type in _this.filters=muteTypeAllowlist,_this.muteLabel=((_a={})[TweetDeckFilterTypes.SOURCE]=I18n("Tweet source"),_a[TweetDeckFilterTypes.PHRASE]=I18n("Words or phrases"),_a[AMEFilters.MUTE_USER_KEYWORD]=I18n("Keyword from User"),_a[AMEFilters.HASHTAGS_NUMBER]=I18n("Tweets with more than X hashtags"),_a[AMEFilters.REGEX_DISPLAYNAME]=I18n("Display name (RegEx)"),_a[AMEFilters.REGEX]=I18n("Tweet text (RegEx)"),_a[AMEFilters.USER_REGEX]=I18n("Username (RegEx)"),_a[AMEFilters.USER_BIOGRAPHIES]=I18n("Words in user bio"),_a[AMEFilters.DEFAULT_AVATARS]=I18n("Users with default profile picture"),_a[AMEFilters.FOLLOWER_COUNT_LESS_THAN]=I18n("Users with fewer than X followers"),_a[AMEFilters.FOLLOWER_COUNT_GREATER_THAN]=I18n("Users with more than X followers"),_a),_this.muteText=((_b={})[TweetDeckFilterTypes.SOURCE]=I18n("Source"),_b[TweetDeckFilterTypes.PHRASE]=I18n("Text"),_b[AMEFilters.MUTE_USER_KEYWORD]=I18n("Keyword from User"),_b[AMEFilters.HASHTAGS_NUMBER]=I18n("Number of Hashtags"),_b[AMEFilters.REGEX_DISPLAYNAME]=I18n("Display Name (RegEx)"),_b[AMEFilters.REGEX]=I18n("Text (RegEx)"),_b[AMEFilters.USER_REGEX]=I18n("Username (RegEx)"),_b[AMEFilters.USER_BIOGRAPHIES]=I18n("User Bio"),_b[AMEFilters.DEFAULT_AVATARS]=I18n("Default Profile Picture"),_b[AMEFilters.FOLLOWER_COUNT_LESS_THAN]=I18n("Minimum Followers"),_b[AMEFilters.FOLLOWER_COUNT_GREATER_THAN]=I18n("Maximum Followers"),_b),_this.filterInput=make("input").addClass("js-filter-input").attr("name","filter-input").attr("size",30).attr("type","text").attr("placeholder",_this.getPlaceholderForMuteType(TweetDeckFilterTypes.PHRASE)),_this.selectFilterType=make("select").attr("name","filter").addClass("js-filter-types"),_this.filters){var filter=_this.filters[type];make("option").attr("value",filter).html(_this.muteLabel[filter]).appendTo(_this.selectFilterType)}_this.selectFilterType.change((function(){switch(_this.filterInput.removeAttr("disabled").removeClass("mtd-input-monospace").attr("type","text"),_this.filterInput.attr("placeholder",_this.getPlaceholderForMuteType(_this.selectFilterType.val())),_this.selectFilterType.val()){case AMEFilters.DEFAULT_AVATARS:_this.filterInput.attr("disabled","disabled");break;case AMEFilters.REGEX:case AMEFilters.REGEX_DISPLAYNAME:case AMEFilters.USER_REGEX:_this.filterInput.addClass("mtd-input-monospace"),_this.filterInput.val(" ");break;case AMEFilters.FOLLOWER_COUNT_GREATER_THAN:case AMEFilters.FOLLOWER_COUNT_LESS_THAN:_this.filterInput.addClass("mtd-input-monospace"),_this.filterInput.attr("type","number")}})),_this.muteButton=make("button").attr("name","add-filter").addClass("js-add-filter btn-on-dark disabled btn-primary").append(make("i").addClass("material-icon").html("volume_off")).click((function(){(_this.filterInput.val().length>0||_this.selectFilterType.val()===AMEFilters.DEFAULT_AVATARS)&&(TD.controller.filterManager.addFilter(_this.selectFilterType.val(),_this.filterInput.val(),!1),_this.updateFilterPanel(_this.filterList))})),_this.muteTypes=make("div").addClass("control-group").append(make("label").attr("for","filter-types").addClass("control-label").html(I18n("Mute")),make("div").addClass("controls").append(_this.selectFilterType)),_this.muteInput=make("div").addClass("control-group").append(make("label").attr("for","filter-input").addClass("control-label").html(I18n("Matching")),make("div").addClass("controls").append(_this.filterInput)).on("input",(function(){_this.muteInput.val().length>0?_this.muteButton.removeClass("disabled"):_this.muteButton.addClass("disabled")})),_this.muteAdd=make("div").addClass("control-group").append(make("div").addClass("controls js-add-filter-container").append(_this.muteButton)),_this.filterList=make("ul"),_this.filterListGroup=make("div").addClass("js-filter-list scroll-v").append(_this.filterList);var form=make("form").addClass("js-global-settings frm").attr("id","global-settings").attr("action","#").append(make("fieldset").attr("id","global_filter_settings").append(_this.muteTypes,_this.muteInput,_this.muteAdd,_this.filterListGroup));return _this.updateFilterPanel(_this.filterList),projection.append(form),_this}return Mutes_extends(MuteEnumPage,_super),MuteEnumPage.prototype.getPlaceholderForMuteType=function(type){switch(type){case TweetDeckFilterTypes.SOURCE:return I18n("eg TweetSpamApp");case TweetDeckFilterTypes.PHRASE:return I18n("Enter a word or phrase");case AMEFilters.MUTE_USER_KEYWORD:return I18n("e.g. twitter|feature");case AMEFilters.HASHTAGS_NUMBER:return I18n("Enter number of hashtags");case AMEFilters.REGEX_DISPLAYNAME:case AMEFilters.REGEX:case AMEFilters.USER_REGEX:return I18n("Enter a regular expression");case AMEFilters.USER_BIOGRAPHIES:return I18n("Enter a word or phrase");case AMEFilters.DEFAULT_AVATARS:return"";case AMEFilters.FOLLOWER_COUNT_LESS_THAN:case AMEFilters.FOLLOWER_COUNT_GREATER_THAN:return I18n("Enter number of followers");default:return""}},MuteEnumPage.prototype.updateFilterPanel=function(filterList){var _this=this,filters=TD.controller.filterManager.getAll();filterList.empty();var _loop_1=function(filter){var myFilter=filters[filter];if(!this_1.filters.includes(myFilter.type))return"continue";filterList.append(make("li").addClass("list-filter").append(make("div").addClass("mtd-mute-text").html(this_1.muteText[myFilter.type]),make("em").html(myFilter.value),make("input").attr("type","button").attr("name","remove-filter").attr("value","Remove").addClass("js-remove-filter small btn btn-negative").click((function(){TD.controller.filterManager.removeFilter(myFilter),_this.updateFilterPanel(filterList)}))))},this_1=this;for(var filter in filters)_loop_1(filter);return filterList},MuteEnumPage}(SettingsEnumPage),UISettingsTab=function(){function UISettingsTab(tabType,parentSettings,rerender){this.tabType=tabType,this.parentSettings=parentSettings,rerender?(this.tab=$('.mtd-settings-tab[data-action="'.concat(tabType,'"]')),this.subpanel=$(".mtd-settings-subpanel#".concat(tabType))):(this.tab=make("div").addClass("mtd-settings-tab"),this.subpanel=make("div").addClass("mtd-settings-subpanel mtd-col scroll-v").attr("id",tabType),this.constructTab(),this.parentSettings.container.append(this.subpanel)),this.tabBuildout()}return Object.defineProperty(UISettingsTab.prototype,"index",{get:function(){var keys=Object.keys(settingsData);return this.parentSettings.limitedMenu&&(keys=keys.filter((function(key){switch(key){case SettingsTab.APPEARANCE:case SettingsTab.TWEETS:case SettingsTab.MUTES:return!1}return!0}))),isApp||(keys=keys.filter((function(key){return key!==SettingsTab.APP}))),keys.indexOf(this.tabType)},enumerable:!1,configurable:!0}),UISettingsTab.prototype.constructTab=function(){var _this=this;return this.tab=make("button").addClass("mtd-settings-tab").attr("data-action",this.tabType).html(UISettings.i18nString(settingsData[this.tabType].tabName)).click((function(){$(".mtd-settings-tab-selected").removeClass("mtd-settings-tab-selected").attr("aria-selected","false"),$(_this).addClass("mtd-settings-tab-selected"),$(_this).attr("aria-selected","true"),_this.parentSettings.container.data("page-selected",$(_this.tab).attr("data-action")),_this.parentSettings.tabSelection.css("top",50*_this.index+"px"),_this.parentSettings.container.css("margin-top","-"+545*_this.index+"px")})),this.parentSettings.tabsElement.append(this.tab),this.tab},UISettingsTab.prototype.tabBuildout=function(){this.subpanel.empty();var settingTab=settingsData[this.tabType];if(settingTab.enum)try{switch(console.log("Processing enum settings pane for ".concat(this.tabType)),settingTab.enum){case ModernDeckSettingsEnumPage.ABOUT:new AboutEnumPage(this.subpanel);break;case ModernDeckSettingsEnumPage.MUTES:new MuteEnumPage(this.subpanel);break;default:throw"Unknown Settings tab enum"}}catch(error){}else for(var optionKey in settingTab.options){var settingsOption=settingTab.options[optionKey],option=make("div").addClass("mtd-settings-option").addClass("mtd-settings-option-".concat(String(settingsOption.type)));if("string"==typeof settingsOption.headerBefore&&this.subpanel.append(make("h3").addClass("mtd-settings-panel-subheader").html(UISettings.i18nString(settingsOption.headerBefore))),!1!==settingsOption.enabled){if("function"==typeof settingsOption.enabled)try{if(!settingsOption.enabled())continue}catch(error){console.error("Caught error while processing enabled on settingsOption",error)}switch(settingsOption.type){case ModernDeckSettingsType.CHECKBOX:new SettingsCheckbox(settingsOption,option);break;case ModernDeckSettingsType.DROPDOWN:new SettingsDropdown(settingsOption,option);break;case ModernDeckSettingsType.TEXTAREA:new SettingsTextarea(settingsOption,option);break;case ModernDeckSettingsType.TEXTBOX:new SettingsTextbox(settingsOption,option);break;case ModernDeckSettingsType.SLIDER:new SettingsSlider(settingsOption,option);break;case ModernDeckSettingsType.BUTTON:new SettingsButton(settingsOption,option);break;case ModernDeckSettingsType.BUTTONGROUP:new SettingsButtonGroup(settingsOption,option);break;case ModernDeckSettingsType.LINK:new SettingsLink(settingsOption,option);break;case ModernDeckSettingsType.SUBTEXT:new SettingsSubtext(settingsOption,option)}this.subpanel.append(option)}}},UISettingsTab}(),UISettings_extends=function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),UISettings=function(_super){function UISettings(openMenu,limitedMenu){var _this=_super.call(this)||this;return _this.limitedMenu=!1,_this.tabs=[],_this.element=make("div").addClass("mdl mtd-settings-panel"),_this.tabSelection=make("button").addClass("mtd-settings-tab mtd-settings-tab-selection").css("top","0px"),_this.container=make("div").addClass("mtd-settings-inner"),_this.tabsElement=make("div").addClass("mtd-settings-tab-container mtd-tabs").append(_this.tabSelection),_this.panel=_this.element.append(_this.tabsElement).append(make("div").addClass("mtd-settings-inner-container").append(_this.container)),_this.element.append(_this.panel),_this.limitedMenu=limitedMenu,_this.initializeTabs(openMenu),window.renderTab=function(tab){new UISettingsTab(tab,_this,!0)},_this}return UISettings_extends(UISettings,_super),UISettings.i18nString=function(str){return(str.match(/{{.+?}}/g)||[]).forEach((function(i){var translatedString=I18n(i.substring(2,i.length-2));str=str.replace(i,translatedString)})),str},UISettings.prototype.initializeTabs=function(openMenu){var _this=this;Object.keys(settingsData).map((function(key){var tab=settingsData[key];if("function"==typeof tab.enabled){if(!1===tab.enabled())return}else if("boolean"==typeof tab.enabled&&(!1===tab.enabled||!1===tab.visible))return;if(key!==SettingsTab.SYSTEM||void 0===window.desktopConfig||!window.desktopConfig.disableSystemTab){switch(key){case SettingsTab.APPEARANCE:case SettingsTab.TWEETS:case SettingsTab.MUTES:if(_this.limitedMenu)return}console.log("Adding tab ".concat(key));var tabUI=new UISettingsTab(key,_this);void 0!==openMenu&&openMenu===key&&(tabUI.tab.addClass("mtd-settings-tab-selected"),tabUI.tab.attr("aria-selected","true"),tabUI.tab.click()),_this.tabs.push()}}))},UISettings.Tab=UISettingsTab,UISettings}(UIModal);function openSettings(openMenu,limitedMenu){new UISettings(openMenu,limitedMenu).display()}window.renderTab=function(_tab){},function(ContextMenuAction){ContextMenuAction.cut="cut",ContextMenuAction.copy="copy",ContextMenuAction.paste="paste",ContextMenuAction.undo="undo",ContextMenuAction.redo="redo",ContextMenuAction.selectAll="selectAll",ContextMenuAction.delete="delete",ContextMenuAction.openLink="openLink",ContextMenuAction.copyLink="copyLink",ContextMenuAction.openImage="openImage",ContextMenuAction.copyImageURL="copyImageURL",ContextMenuAction.copyImage="copyImage",ContextMenuAction.saveImage="saveImage",ContextMenuAction.inspectElement="inspectElement",ContextMenuAction.restartApp="restartApp"}(ContextMenuAction||(ContextMenuAction={}));var TweetDeckTheme,TweetenFontSize,contextMenuFunctions=((ContextMenuFunctions_a={})[ContextMenuAction.cut]=function(){getIpc().send("cut")},ContextMenuFunctions_a[ContextMenuAction.copy]=function(){getIpc().send("copy")},ContextMenuFunctions_a[ContextMenuAction.paste]=function(){getIpc().send("paste")},ContextMenuFunctions_a[ContextMenuAction.undo]=function(){getIpc().send("undo")},ContextMenuFunctions_a[ContextMenuAction.redo]=function(){getIpc().send("redo")},ContextMenuFunctions_a[ContextMenuAction.selectAll]=function(){getIpc().send("selectAll")},ContextMenuFunctions_a[ContextMenuAction.delete]=function(){getIpc().send("delete")},ContextMenuFunctions_a[ContextMenuAction.openLink]=function(link){window.open(link)},ContextMenuFunctions_a[ContextMenuAction.copyLink]=function(link){window.require("electron").clipboard.writeText(link)},ContextMenuFunctions_a[ContextMenuAction.openImage]=function(link){window.open(link)},ContextMenuFunctions_a[ContextMenuAction.copyImageURL]=function(link){window.require("electron").clipboard.writeText(link)},ContextMenuFunctions_a[ContextMenuAction.copyImage]=function(imageURL){getIpc().send("copyImage",imageURL)},ContextMenuFunctions_a[ContextMenuAction.saveImage]=function(imageURL){getIpc().send("saveImage",imageURL)},ContextMenuFunctions_a[ContextMenuAction.inspectElement]=function(coordinates){getIpc().send("inspectElement",coordinates)},ContextMenuFunctions_a[ContextMenuAction.restartApp]=function(){getIpc().send("restartApp")},ContextMenuFunctions_a),makeCMItem=function(menuItem){if(window.useNativeContextMenus||window.useSafeMode){var dataact_1=menuItem.dataaction,data_1=menuItem.data;return{label:menuItem.text,click:function(){contextMenuFunctions[dataact_1](data_1)},enabled:menuItem.enabled}}var a=make("a").attr("href","#").attr("data-action",menuItem.dataaction).html(menuItem.text).addClass("mtd-context-menu-item"),li=make("li").addClass("is-selectable").append(a);return!1===menuItem.enabled?a.attr("disabled","disabled"):a.click((function(){menuItem.mousex&&menuItem.mousey&&$(document.elementFromPoint(menuItem.mousex,menuItem.mousey)).focus(),contextMenuFunctions[menuItem.dataaction](menuItem.data),clearContextMenu()})),li},makeCMDivider=function(){return window.useNativeContextMenus||window.useSafeMode?{type:"separator"}:make("div").addClass("drp-h-divider")},clearContextMenu=function(){var removeMenu=$(".mtd-context-menu");removeMenu.addClass("mtd-fade-out").on("animationend",(function(){removeMenu.remove()}))};!function(TweetDeckTheme){TweetDeckTheme.light="light",TweetDeckTheme.dark="dark"}(TweetDeckTheme||(TweetDeckTheme={})),function(TweetenFontSize){TweetenFontSize.smallest="smallest",TweetenFontSize.smaller="smaller",TweetenFontSize.small="small",TweetenFontSize.large="large",TweetenFontSize.largest="largest"}(TweetenFontSize||(TweetenFontSize={}));var notifyUpdate=function(){window.desktopConfig.disableUpdateNotification||function(){if(!window.mtdHasNotifiedUpdate){window.mtdHasNotifiedUpdate=!0;var notifRoot=window.mR.findConstructor("showErrorNotification")[0][1].showNotification({title:I18n("Update ModernDeck"),timeoutDelayMs:9999999999}),notifId=notifRoot._id,notif=$('li.Notification[data-id="'.concat(notifId,'"]')),notifContent=$('li.Notification[data-id="'.concat(notifId,'"] .Notification-content')),notifIcon=$('li.Notification[data-id="'.concat(notifId,'"] .Notification-icon .Icon'));window.updateNotifyID=notifRoot._id,notif.length>0&&(notif.addClass("mtd-update-notification"),notifIcon.removeClass("Icon--notifications").addClass("material-icon").html("update"),notifContent.append(make("p").html(I18n("An update is available for ModernDeck")),make("button").addClass("btn mtd-notification-button").html(I18n("Relaunch")).click((function(){window.mtdPrepareWindows(),window.require("electron").ipcRenderer.send("restartAndInstallUpdates")}))))}}()},mtdAppFunctions=function(){if(void 0!==window.require){var minimize,maximize,closeButton,ipcRenderer=window.require("electron").ipcRenderer,store=new(window.require("electron-store"))({name:"mtdsettings"});if($(document).on("uiDrawerHideDrawer",(function(){getIpc().send("drawerClose")})),$(document).on("uiDrawerActive",(function(){$(".application").hasClass("hide-detail-view-inline")||getIpc().send("drawerOpen")})),ipcRenderer.on("desktopConfig",(function(_event,config){window.desktopConfig=config,function(config){for(var option in console.log("Parsing desktop config..."),config){console.log(option);var value=config[option];if("disableDevTools"===option&&!0===value&&setPref("mtd_inspectElement",!1),"object"==typeof option)for(var val in value)console.log(val,val[option]),console.log(settingsData[option]),console.log(settingsData[option][val])}}(config)})),ipcRenderer.on("inverted-color-scheme-changed",(function(_event,enabled){if(enabled&&!0!==getPref("mtd_highcontrast"))try{settingsData.accessibility.options.highcont.activate.func()}catch(e){}})),ipcRenderer.on("color-scheme-changed",(function(_event,theme){parseActions(settingsData.themes.options.coretheme.activate,theme)})),ipcRenderer.on("disable-high-contrast",(function(){console.info("DISABLING HIGH CONTRAST ");try{settingsData.accessibility.options.highcont.deactivate.func()}catch(e){}})),ipcRenderer.on("aboutMenu",(function(){$('.mtd-settings-tab[data-action="about"]').length>0&&"display: block;"===$("#settings-modal").attr("style")?$('.mtd-settings-tab[data-action="about"]').click():(openSettings(),$('.mtd-settings-tab[data-action="about"]').length>0&&$('.mtd-settings-tab[data-action="about"]').click())})),ipcRenderer.on("checkForUpdatesMenu",(function(){$('.mtd-settings-tab[data-action="about"]').length>0&&"display: block;"===$("#settings-modal").attr("style")?$('.mtd-settings-tab[data-action="about"]').click():(openSettings(),$('.mtd-settings-tab[data-action="about"]').length>0&&$('.mtd-settings-tab[data-action="about"]').click()),AutoUpdateController.isCheckingForUpdates||"disabled"===window.desktopConfig.updatePolicy||ipcRenderer.send("checkForUpdates")})),ipcRenderer.on("update-downloaded",(function(){$("#settings-modal[style='display: block;']>.mtd-settings-panel").length<=0&&!window.html.hasClass("mtd-winstore")&&!window.html.hasClass("mtd-flatpak")&&!window.html.hasClass("mtd-macappstore")&&notifyUpdate()})),ipcRenderer.on("openSettings",(function(){openSettings()})),ipcRenderer.on("accountsMan",(function(){$(".js-show-drawer.js-header-action").click()})),ipcRenderer.on("sendFeedback",(function(){window.open("https://github.com/dangeredwolf/ModernDeck/issues")})),ipcRenderer.on("msgModernDeck",(function(){$(document).trigger("uiComposeTweet",{type:"message",messageRecipients:[{screenName:"ModernDeck"}]})})),ipcRenderer.on("newTweet",(function(){window.mtdPrepareWindows(),$(document).trigger("uiComposeTweet")})),ipcRenderer.on("newDM",(function(){window.mtdPrepareWindows(),$(document).trigger("uiComposeTweet"),$(".js-dm-button").click()})),window.html.hasClass("mtd-js-app")){if($(".windowcontrols").length<=0){minimize=make("button").addClass("windowcontrol min").html("&#xE15B"),maximize=make("button").addClass("windowcontrol max").html("&#xE3C6"),window.html.hasClass("mtd-maximized")&&maximize.html("&#xE3E0"),closeButton=make("button").addClass("windowcontrol close").html("&#xE5CD");var windowcontrols=make("div").addClass("windowcontrols").append(minimize).append(maximize).append(closeButton);window.body.append(windowcontrols,make("div").addClass("mtd-app-drag-handle"))}else minimize=$(".windowcontrol.min"),maximize=$(".windowcontrol.max"),closeButton=$(".windowcontrol.close"),window.html.hasClass("mtd-maximized")&&maximize.html("&#xE3E0");minimize.click((function(){ipcRenderer.send("minimize")})),maximize.click((function(){ipcRenderer.send("maximizeButton")})),closeButton.click((function(){window.close()}))}ipcRenderer.on("context-menu",(function(_event,menuContents){var theMenu=function(menuEvent){var items=[],x=menuEvent.x,y=menuEvent.y;if(!window.useSafeMode&&$(".mtd-context-menu").length>0){var removeMenu_1=$(".mtd-context-menu");removeMenu_1.addClass("mtd-fade-out"),removeMenu_1.on("animationend",(function(){removeMenu_1.remove()}))}if(!window.useSafeMode&&$(document.elementFromPoint(x,y)).hasClass("mtd-context-menu-item"))return null;if((menuEvent.isEditable||exists(menuEvent.selectionText)&&menuEvent.selectionText.length>0)&&(menuEvent.isEditable&&(items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.undo,text:I18n("Undo"),enabled:menuEvent.editFlags.canUndo})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.redo,text:I18n("Redo"),enabled:menuEvent.editFlags.canRedo})),items.push(makeCMDivider()),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.cut,text:I18n("Cut"),enabled:menuEvent.editFlags.canCut}))),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.copy,text:I18n("Copy"),enabled:menuEvent.editFlags.canCopy})),menuEvent.isEditable&&(items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.paste,text:I18n("Paste"),enabled:menuEvent.editFlags.canPaste})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.selectAll,text:I18n("Select all"),enabled:menuEvent.editFlags.canSelectAll}))),items.push(makeCMDivider())),""!==menuEvent.linkURL&&"https://tweetdeck.twitter.com/#"!==menuEvent.linkURL&&(items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.openLink,text:I18n("Open link in browser"),enabled:!0,data:menuEvent.linkURL})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.copyLink,text:I18n("Copy link address"),enabled:!0,data:menuEvent.linkURL})),items.push(makeCMDivider())),""!==menuEvent.srcURL&&(exists(menuEvent.mediaType)&&"video"===menuEvent.mediaType?(items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.openImage,text:I18n("Open video in browser"),enabled:!0,data:menuEvent.srcURL})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.saveImage,text:I18n("Save video..."),enabled:!0,data:menuEvent.srcURL})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.copyImageURL,text:I18n("Copy video address"),enabled:!0,data:menuEvent.srcURL}))):(items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.openImage,text:I18n("Open image in browser"),enabled:!0,data:menuEvent.srcURL})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.copyImage,text:I18n("Copy image"),enabled:!0,data:{x,y}})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.saveImage,text:I18n("Save image..."),enabled:!0,data:menuEvent.srcURL})),items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.copyImageURL,text:I18n("Copy image address"),enabled:!0,data:menuEvent.srcURL}))),items.push(makeCMDivider())),getPref("mtd_inspectElement")&&items.push(makeCMItem({mousex:x,mousey:y,dataaction:ContextMenuAction.inspectElement,text:I18n("Inspect element"),enabled:!0,data:{x,y}})),window.useNativeContextMenus||window.useSafeMode)return items.length>0?items:null;for(var ul=make("ul"),i=0;i<items.length;i++)ul.append(items[i]);var menu_1=make("menu").addClass("mtd-context-menu dropdown-menu").attr("style","opacity:0;animation:none;transition:none").append(ul);return items.length>0?(setTimeout((function(){x+2+menu_1.width()>$(document).width()&&(x=$(document).width()-menu_1.width()-2-2),y+12+menu_1.height()>$(document).height()&&(y=$(document).height()-menu_1.height()),menu_1.attr("style","left:".concat(x+2,"px!important;top:").concat(y+12,"px!important"))}),20),menu_1):(menu_1.remove(),null)}(menuContents),Menu=window.require("@electron/remote").Menu;window.useNativeContextMenus||window.useSafeMode?Menu.buildFromTemplate(theMenu).popup():void 0!==theMenu&&window.body.append(theMenu)})),ipcRenderer.on("failedOpenUrl",(function(){new UIAlert({title:I18n("Failed to open link in browser"),message:I18n("ModernDeck failed to open a link you clicked in the default browser.\n\n(Sometimes, this can be caused if you have the Twitter for Windows app installed)"),buttonText:I18n("OK")})})),ipcRenderer.on("settingsReceived",(function(_event,load){console.log("settingsReceived"),store.store=load,ipcRenderer.send("restartApp")})),ipcRenderer.on("tweetenSettingsReceived",(function(_event,load){!function(obj){if(setPref("mtd_customcss",obj.dev&&obj.dev.customCSS||""),void 0!==obj.dev&&setPref("mtd_inspectElement",obj.dev.mode),void 0!==obj.TDSettings&&(TD.settings.setAutoPlayGifs(obj.TDSettings.gifAutoplay),void 0!==obj.TDSettings.gifAutoplay&&TD.settings.setAutoPlayGifs(obj.TDSettings.gifAutoplay),void 0!==obj.TDSettings.sensitiveData&&TD.settings.setDisplaySensitiveMedia(obj.TDSettings.sensitiveData),void 0!==obj.TDSettings.tweetStream&&TD.settings.setUseStream(obj.TDSettings.tweetStream),void 0!==obj.TDSettings.linkShortener&&(TD.settings.setLinkShortener(obj.TDSettings.linkShortener?"bitly":"twitter"),!0===obj.TDSettings.linkShortener.toggle&&obj.TDSettings.linkShortener.bitlyApiKey&&obj.TDSettings.linkShortener.bitlyUsername&&TD.settings.setBitlyAccount({login:obj.TDSettings.linkShortener.bitlyUsername||TD.settings.getBitlyAccount().login,apiKey:obj.TDSettings.linkShortener.bitlyApiKey||TD.settings.getBitlyAccount().apiKey}))),void 0!==obj.customTitlebar&&setPref("mtd_nativetitlebar",!obj.customTitlebar),void 0!==obj.customization&&(setPref("mtd_columnwidth",obj.customization.columnWidth||getPref("mtd_columnwidth")),!0===obj.customization.completeBlack&&setPref("mtd_theme","amoled"),setPref("mtd_noemojipicker",void 0!==obj.customization.emojis&&obj.customization.emojis),setPref("mtd_newcharindicator",void 0===obj.customization.charCount||!obj.customization.charCount),TD.settings.setTheme(obj.customization.theme||TD.settings.getTheme()),void 0!==obj.customization.thinSB&&setPref("mtd_scrollbar_style",obj.customization.thinSB?"scrollbarsnarrow":"scrollbarsdefault"),setPref("mtd_round_avatars",void 0===obj.customization.roundAvi||obj.customization.roundAvi),void 0!==obj.customization.font)){var percentage=100;switch(obj.customization.font){case"smallest":percentage=90;break;case"smaller":percentage=95;break;case"small":percentage=100;break;case"large":percentage=105;break;case"largest":percentage=110}setPref("mtd_fontsize",percentage)}}(load),setTimeout((function(){ipcRenderer.send("restartApp")}),500)}))}},initAppFunctions=function(){mtdAppFunctions(),window.require("electron").ipcRenderer.send("getDesktopConfig")},AsciiArtController=function(){function AsciiArtController(){}return AsciiArtController.draw=function(){var text="\n    \n   \n  \n             \n                \n                 \n                   ModernDeck ".concat(ModernDeck.versionFriendlyString,"\n                    Build ").concat(ModernDeck.buildNumber,"\n                    ").concat(ModernDeck.platformName,"\n                 \n                     Made with love\n                  by dangered wolf\n  \n  \n   \n    \n                 \n                   \n                     \n");navigator.userAgent.indexOf("Chrome/")>0&&(document.getElementsByTagName("html")[0].prepend(document.createComment(text)),console.log(text)),navigator.userAgent.indexOf("Firefox/")>0&&console.log(text)},AsciiArtController}(),drawAsciiArt=function(){AsciiArtController.draw()},loginPage='<div class="app-signin-wrap mtd-signin-wrap">\n\t<div class="js-signin-ui app-signin-form pin-top pin-right txt-weight-normal">\n\t\t<section class="js-login-form form-login startflow-panel-rounded mtd-signin-form" data-auth-type="twitter">\n\t\t\t<h2 class="form-legend padding-axl">\n\t\t\t\tGood evening\n\t\t\t</h2>\n\t\t\t<h3 class="form-legend padding-axl">\n\t\t\t\t'.concat(I18n("Welcome to ModernDeck"),'\n\t\t\t</h3>\n\t\t\t<i class="icon icon-moderndeck"></i>\n\t\t\t<div class="margin-a--16">\n\t\t\t\t<div class="js-login-error form-message form-error-message error txt-center padding-al margin-bxl is-hidden">\n\t\t\t\t\t<p class="js-login-error-message">\n\t\t\t\t\t\t').concat(I18n("An unexpected error occurred. Please try again later."),'\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<a href="https://mobile.twitter.com/login?hide_message=true&amp;redirect_after_login=https%3A%2F%2Ftweetdeck.twitter.com%2F%3Fvia_twitter_login%3Dtrue" class="Button Button--primary block txt-size--18 txt-center btn-positive">\n\t\t\t\t\t').concat(I18n("Sign in with Twitter"),'\n\t\t\t\t</a>\n\t\t\t\t<div class="divider-bar"></div>\n\t\t\t</section>\n\t\t</div>\n\t</div>\n</div>\n<div class="mtd-login-info">\n\t<button class="mtd-login-info-button">\n\t\t<i class="material-icon">info_outline</i>\n\t</button>\n\t<p class="mtd-login-info-version">').concat(window.ModernDeck.versionFriendlyString," - ").concat(window.ModernDeck.buildNumber,"</p>\n</div>"),spinnerSmall='<div class="preloader-wrapper active">\t<div class="spinner-layer small">\t\t<div class="circle-clipper left">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="gap-patch">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="circle-clipper right">\t\t\t<div class="circle"></div>\t\t</div>\t</div></div>',spinnerLarge='<div class="preloader-wrapper active">\t<div class="spinner-layer">\t\t<div class="circle-clipper left">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="gap-patch">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="circle-clipper right">\t\t\t<div class="circle"></div>\t\t</div>\t</div></div>',buttonSpinner='<div class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner preloader-wrapper active tiny">\t<div class="spinner-layer small">\t\t<div class="circle-clipper left">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="gap-patch">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="circle-clipper right">\t\t\t<div class="circle"></div>\t\t</div>\t</div></div>',ugltStarted=!1,loginIntervalTick=0,signinSheetPings=0,checkIfSigninFormIsPresent=function(){$(".app-signin-form").length>0||$("body>.js-app-loading.login-container:not([style])").length>0?(window.html.addClass("signin-sheet-now-present"),loginIntervalTick++,enableStylesheetExtension("loginpage"),loginIntervalTick>5&&clearInterval(window.loginInterval)):(void 0===signinSheetPings&&(signinSheetPings=0),++signinSheetPings>6&&(console.log("I am no longer asking"),clearInterval(window.loginInterval)),console.log("Not on signin sheet anymore"),disableStylesheetExtension("loginpage"),window.html.removeClass("signin-sheet-now-present"))},loginTextReplacer=function(){$(".mtd-signin-form").length<=0&&(console.info("oh no, we're too late!"),$(".app-signin-wrap:not(.mtd-signin-wrap)").remove(),$(".login-container .startflow").html(loginPage),function(){var _a;ugltStarted||(ugltStarted=!0,$(".startflow-background").attr("style","background-image:url(".concat(window.mtdBaseURL,"assets/img/bg1.webp)")),(null===(_a=null===window||void 0===window?void 0:window.desktopConfig)||void 0===_a?void 0:_a.customLoginImage)&&(null!==window.desktopConfig.customLoginImage.match(/https:\/\//gm)?$(".startflow-background").attr("style","background-image:url(".concat(window.desktopConfig.customLoginImage,")")):$(".startflow-background").attr("style","background-image:url(moderndeck://background)")),setInterval((function(){var text,newDate=new Date;text=newDate.getHours()<12?I18n("Good morning"):newDate.getHours()<18?I18n("Good afternoon"):I18n("Good evening"),$(".form-login h2").html(text)}),1e4))}(),$(".mtd-login-info-button").click((function(){return openSettings(void 0,!0)})))},newLoginPage=loginPage,mtdStarted=new Date;newLoginPage=mtdStarted.getHours()<12?loginPage.replace("Good evening",I18n("Good morning")):mtdStarted.getHours()<18?loginPage.replace("Good evening",I18n("Good afternoon")):loginPage.replace("Good evening",I18n("Good evening"));var initLoginScreen=function(){checkIfSigninFormIsPresent(),window.loginInterval=setInterval(checkIfSigninFormIsPresent,500),window.loginTextReplacer=loginTextReplacer,handleErrors(loginTextReplacer,"Caught error in loginTextReplacer"),setTimeout((function(){return handleErrors(loginTextReplacer,"Caught error in loginTextReplacer")}),200),setTimeout((function(){return handleErrors(loginTextReplacer,"Caught error in loginTextReplacer")}),500),TD.mustaches["login/login_form.mustache"]=newLoginPage},initialTheme=function(){window.html.hasClass("mtd-disable-css")?enableStylesheetExtension("micro"):enableStylesheetExtension("dark"),window.html.addClass("mtd-dark")},Core_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},Core_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},initAjaxPrefilter=function(){$.ajaxPrefilter((function(ajaxOptions){try{if(!new URL(ajaxOptions.url||"").searchParams.has("include_entities"))return;ajaxOptions.url=ajaxOptions.url+"&ext=mediaStats,highlightedLabel,voiceInfo,superFollowMetadata&include_ext_has_nft_avatar=true"}catch(e){console.error(e)}}))},initCoreStylesheet=function(){var beGone=document.querySelector("link[rel='apple-touch-icon']+link[rel='stylesheet']");getPref("mtd_safemode")&&(window.useSafeMode=!0,window.html.addClass("mtd-disable-css"),setPref("mtd_safemode",!1)),void 0===beGone||window.html.hasClass("mtd-disable-css")||beGone.remove()};var initFeatureFlags=function(){false},fixColumnAnimations=function(){$(".column-scroller,.more-tweets-btn-container").each((function(a,b){var c=$(b);mutationObserver(b,(function(){if(void 0!==c.attr("style")){var num=parseInt(c.attr("style").match(/[\-\d]+/g)[0]),hasFilterOptionsVisible=!1;try{hasFilterOptionsVisible=parseInt(c.parent().children(".column-options").children(".js-column-message[style]")[0].style.height.replace("px",""))>0}catch(e){}(!hasFilterOptionsVisible&&num<0||hasFilterOptionsVisible&&num<21)&&c.attr("style","top: "+(hasFilterOptionsVisible?"22":"0")+"px;")}}),{attributes:!0})}))},FunctionPatcher=function(){window.localStorage&&void 0===window.require&&(window.localStorage.actuallyClear=window.localStorage.clear,window.localStorage.clear=function(){console.log("CLEAR"),window.localStorage.removeItem("accountsLastVerified"),window.localStorage.removeItem("guestID"),window.localStorage.removeItem("length"),window.localStorage.removeItem("twitterAccountID"),window.localStorage.removeItem("typeaheadTopicsHash"),window.localStorage.removeItem("typeaheadTopicsLastPrefetch"),window.localStorage.removeItem("typeaheadUserHash"),window.localStorage.removeItem("typeaheadUserLastPrefetch")}),null===TD||void 0===TD||TD.util,setTimeout(FunctionPatcher,10)},LanguageFunctionPatcher=function(){"undefined"!=typeof TD&&void 0!==TD.languages?TD.languages.getSystemLanguageCode=function(e){var t=getPref("mtd_lang","en_US").replace("_","-").substr(0,2);return e&&(t=t.replace(/-[a-z]+$/i,"")),t}:setTimeout(LanguageFunctionPatcher,10)},initFunctionPatcher=function(){FunctionPatcher(),LanguageFunctionPatcher()};function fontParseHelper(fontObject){if("object"!=typeof fontObject||null===fontObject)throw"you forgot to pass the object";return"@font-face{font-family:'".concat(fontObject.family||"Roboto","';")+"font-style:".concat(fontObject.style||"normal",";")+"font-weight:".concat(fontObject.weight||"400",";")+"src:url(".concat(window.mtdBaseURL,"assets/fonts/").concat(fontObject.name,".").concat(fontObject.extension||"woff2",")")+"format('".concat(fontObject.format||"woff2","');")+"unicode-range:".concat(fontObject.range||"U+0000-FFFF","}\n")}var initInjectFonts=function(){window.injectedFonts||(window.injectedFonts=!0,$(document.head).append(make("style").html(fontParseHelper({family:"MD",name:"Icon/ModernDeckVectors"})+fontParseHelper({family:"Material",name:"Icon/MaterialIcons"})+fontParseHelper({family:"MaterialSymbols",name:"Icon/MaterialSymbols"})+fontParseHelper({family:"Roboto",name:"Roboto/400-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"Roboto",name:"Roboto/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"Roboto",name:"Roboto/400-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"Roboto",name:"Roboto/400-greek",range:"U+0370-03FF"})+fontParseHelper({family:"Roboto",name:"Roboto/400-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"Roboto",name:"Roboto/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Roboto",name:"Roboto/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-greek",range:"U+0370-03FF"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Roboto",weight:"500",name:"Roboto/500-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoSlab",name:"RobotoSlab/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoSlab",weight:"500",name:"RobotoSlab/500-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoMono",name:"RobotoMono/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoMono",weight:"500",name:"RobotoMono/500-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoCondensed",name:"RobotoCondensed/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-greek",range:"U+0370-03FF"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"RobotoCondensed",weight:"700",name:"RobotoCondensed/700-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-greek",range:"U+0370-03FF"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"OpenSans",name:"OpenSans/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-cyrillicext",range:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-greekext",range:"U+1F00-1FFF"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-greek",range:"U+0370-03FF"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-viet",range:"U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"OpenSans",weight:"600",name:"OpenSans/600-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Jost",name:"Jost/400-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"Jost",name:"Jost/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Jost",name:"Jost/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Jost",weight:"600",name:"Jost/600-cyrillic",range:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"})+fontParseHelper({family:"Jost",weight:"600",name:"Jost/600-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Jost",weight:"600",name:"Jost/600-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Lato",name:"Lato/400-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Lato",name:"Lato/400-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Lato",weight:"700",name:"Lato/700-latinext",range:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"})+fontParseHelper({family:"Lato",weight:"700",name:"Lato/700-latin",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Noto Sans CJK",weight:"500",name:"NotoSans/NotoSansCJKjp-Medium",format:"opentype",extension:"otf"})+fontParseHelper({family:"Noto Sans CJK",name:"NotoSans/NotoSansCJKjp-Regular",format:"opentype",extension:"otf"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansHI-Medium",range:"U+0900-097F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansHI-Regular",range:"U+0900-097F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansArabic-Medium",range:"U+0600-06FF,U+0750-077F,U+08A0-08FF,U+FB50-FDFF,U+FE70-FEFF,U+10E60-10E7F,U+1EE00-1EEFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansArabic-Regular",range:"U+0600-06FF,U+0750-077F,U+08A0-08FF,U+FB50-FDFF,U+FE70-FEFF,U+10E60-10E7F,U+1EE00-1EEFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansArmenian-Medium",range:"U+0530-0580"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansArmenian-Regular",range:"U+0530-0580"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansBengali-Medium",range:"U+0980-09FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansBengali-Regular",range:"U+0980-09FF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansBengali-Medium",range:"U+0980-09FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansBengali-Regular",range:"U+0980-09FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansBrahmi",range:"U+11000-1107F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansBuginese",range:"U+1A00-1A1B,U+1A1E-1A1F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansBuhid-Regular",range:"U+1740-1753"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansCanadianAboriginal",range:"U+1400-167F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansCarian-Regular",range:"U+102A0-102DF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansChakma-Regular",range:"U+11100-1114F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansCherokee-Regular",range:"U+11100-1114F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansCherokee-Medium",range:"U+13A0-13F4,U+13F5,U+13F8-13FD"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansCherokee-Regular",range:"U+13A0-13F4,U+13F5,U+13F8-13FD"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansEthiopic-Medium",range:"U+1200-137F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansEthiopic-Regular",range:"U+1200-137F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansGeorgian-Medium",range:"U+10A0-10FF,U+2D00-2D2F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansGeorgian-Regular",range:"U+10A0-10FF,U+2D00-2D2F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansGujaratiUI-Bold",range:"U+0A80-0AFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansGujaratiUI",range:"U+0A80-0AFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansHebrew-Bold",range:"U+0590-05FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansHebrew-Regular",range:"U+0590-05FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansJavanese",range:"U+A980-A9DF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansKannadaUI-Bold",range:"U+0C80-0CFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansKannadaUI",range:"U+0C80-0CFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansKayahLi-Regular",range:"U+A900-A92F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansKhmerUI-Medium",range:"U+1780-17FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansKhmerUI-Regular",range:"U+1780-17FF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansLaoUI-Medium",range:"U+0E80-0EFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansLaoUI-Regular",range:"U+0E80-0EFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansLisu-Regular",range:"U+A4D0-A4FF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansMalayalamUI-Bold",range:"U+0D00-0D7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansMalayalamUI",range:"U+0D00-0D7F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansMyanmarUI-Bold",range:"U+1000-109F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansMyanmarUI-Regular",range:"U+1000-109F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansOriyaUI-Medium",range:"U+0B00-0B7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansOriyaUI",range:"U+0B00-0B7F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansOriyaUI-Bold",range:"U+0B00-0B7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansOsage-Regular",range:"U+104B0-104FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansOsmanya-Regular",range:"U+10480-104AF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansPhagsPa",range:"U+A840-A87F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansNewTaiLue-Regular",range:"U+1980-19DF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansNKo-Regular",range:"U+07C0-07FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansOlChiki-Regular",range:"U+1C50-1C7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansRunic-Regular",range:"U+16A0-16FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansShavian-Regular",range:"U+16A0-16FF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansSinhalaUI-Regular",range:"U+0D80-0DFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansSinhalaUI-Medium",range:"U+0D80-0DFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansSundanese",range:"U+1B80-1BBF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansSyriacEastern",range:"U+0700-074F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansSyriacWestern",range:"U+0700-074F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansSyriacEstrangela",range:"U+0700-074F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTagalog",range:"U+1700-171F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTagbanwa",range:"U+1760-177F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTaiLe",range:"U+1950-197F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTaiTham",range:"U+1A20-1AAF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTaiViet",range:"U+AA80-AADF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTamilUI-Regular",range:"U+0B80-0BFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansTamilUI-Medium",range:"U+0B80-0BFF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTeluguUI",range:"U+0C00-0C7F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansTeluguUI-Bold",range:"U+0C00-0C7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansThaana",range:"U+0780-07BF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansThaana-Bold",range:"U+0780-07BF"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansThaiUI-Regular",range:"U+0E00-0E7F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansThaiUI-Medium",range:"U+0E00-0E7F"})+fontParseHelper({family:"Noto Sans",name:"NotoSans/NotoSansTibetan",range:"U+0F00-0FFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansTibetan-Bold",range:"U+0F00-0FFF"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansTifinagh-Regular",range:"U+2D30-2D7F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansVai-Regular",range:"U+A500-A63F"})+fontParseHelper({family:"Noto Sans",weight:"500",name:"NotoSans/NotoSansYi-Regular",range:"U+A000-A48F"})+fontParseHelper({family:"Inter",name:"Inter/Inter-Regular",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Inter",weight:"500",name:"Inter/Inter-Medium",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Inter",weight:"600",name:"Inter/Inter-SemiBold",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"})+fontParseHelper({family:"Inter",weight:"700",name:"Inter/Inter-Bold",range:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"}))))},initLateBootScreen=function(){if("undefined"==typeof require&&void 0!==document.getElementsByClassName("js-signin-ui block")[0]&&!window.html.hasClass("mtd-disable-css")&&(document.getElementsByClassName("js-signin-ui block")[0].innerHTML='<img class="mtd-loading-logo" src="'.concat(window.mtdBaseURL+"assets/img/moderndeck.svg",'" style="display: none;">\n\t\t<div class="preloader-wrapper big active">\n\t\t\t<div class="spinner-layer">\n\t\t\t\t<div class="circle-clipper left">\n\t\t\t\t\t<div class="circle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="gap-patch">\n\t\t\t\t\t<div class="circle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="circle-clipper right">\n\t\t\t\t\t<div class="circle"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'),document.getElementsByClassName("spinner-centered")[0]&&document.getElementsByClassName("spinner-centered")[0].remove(),document.getElementsByTagName("html")[0].setAttribute("style","background: #111"),document.getElementsByTagName("body")[0].setAttribute("style","background: #111"),void 0===window.mtdLoadStyleCSS)){var mtdLoadStyle=document.createElement("style");mtdLoadStyle.appendChild(document.createTextNode("\n\t\t\t\timg.spinner-centered {\n\t\t\t\t\tdisplay:none!important\n\t\t\t\t}\n\t\t\t")),document.head.appendChild(mtdLoadStyle)}},patchMustache=function(mustache,find,replace){void 0!==TD_mustaches[mustache+".mustache"]?TD_mustaches[mustache+".mustache"].match(find)?TD_mustaches[mustache+".mustache"]=TD_mustaches[mustache+".mustache"].replace(find,replace):(console.warn("Could not apply patch to ".concat(mustache,".mustache because it doesn't contain ").concat(find)),console.warn("Mustache contents: ".concat(TD_mustaches[mustache+".mustache"]))):console.warn("Could not apply patch to ".concat(mustache,".mustache because it doesn't exist"))},replaceMustache=function(mustache,replace){void 0!==TD_mustaches[mustache+".mustache"]?TD_mustaches[mustache+".mustache"]=replace:console.warn("Could not replace ".concat(mustache,".mustache because it doesn't exist"))},initProcessMustaches=function(){"undefined"!=typeof TD&&void 0!==TD.mustaches&&(replaceMustache("settings/global_setting_filter_row",'\n\t\t<li class="list-filter cf"> {{_i}}\n\t\t\t<div class="mtd-mute-text mtd-mute-text-{{getDisplayType}}"></div>\n\t\t\t{{>text/global_filter_value}}{{/i}}\n\t\t\t<input type="button" name="remove-filter" value="{{_i}}Remove{{/i}}" data-id="{{id}}" class="js-remove-filter small btn btn-negative">\n\t\t</li>\n\t'),patchMustache("media/native_video",'preload="auto"','preload="auto" autoplay="true"'),window.html.hasClass("mtd-disable-css")||(replaceMustache("spinner_large",spinnerLarge),replaceMustache("spinner_large_white",spinnerLarge),replaceMustache("spinner",spinnerSmall),patchMustache("column_loading_placeholder",'<span class="spinner-small"></span>',spinnerSmall),patchMustache("column","Loading...",""),patchMustache("media/media_gallery",'<div class="js-embeditem med-embeditem"> ','<div class="js-embeditem med-embeditem"> '+spinnerLarge),patchMustache("video_preview",'<div class="processing-video-spinner"></div>',spinnerSmall),patchMustache("modal",'<img src="{{#asset}}/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading{{/i}}" />',spinnerSmall),patchMustache("twitter_profile",'<img src="{{#asset}}/global/backgrounds/spinner_large_white.gif{{/asset}}" alt="{{_i}}Loading{{/i}}">',spinnerSmall),patchMustache("follow_button",'<span> <img src="{{#asset}}/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading{{/i}}"> </span>','<div class="preloader-wrapper active">\t<div class="spinner-layer tiny">\t\t<div class="circle-clipper left">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="gap-patch">\t\t\t<div class="circle"></div>\t\t</div>\t\t<div class="circle-clipper right">\t\t\t<div class="circle"></div>\t\t</div>\t</div></div>'),patchMustache("compose/compose_inline_reply",'<i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i>',buttonSpinner),patchMustache("buttons/favorite",'<span> <img src="{{#asset}}/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading{{/i}}"> </span>',buttonSpinner),patchMustache("embed_tweet",'<img src="{{#asset}}/global/backgrounds/spinner_large_white.gif{{/asset}}" class="embed-loading" alt="{{_i}}Loading{{/i}}" />',spinnerSmall),patchMustache("lists/member",'<span> <img src="{{#asset}}/global/backgrounds/spinner_small_trans.gif{{/asset}}" alt="{{_i}}Loading{{/i}}"> </span>',buttonSpinner),patchMustache("keyboard_shortcut_list",'<kbd class="text-like-keyboard-key">X</kbd>  Expand/Collapse navigation</dd>','<kbd class="text-like-keyboard-key">Q</kbd> Open Navigation Drawer/Menu</dd>'),patchMustache("column/column_options",'<div class="button-group"> <button type="button" class="Button--link btn-options-tray padding-hn {{','<div class="button-group">\n\t\t\t\t<button type="button" class="Button--link btn-options-tray padding-hn" data-action="mtd_collapse">\n\t\t\t\t\t<i class=\'icon material-icon\'>first_page</i>\n\t\t\t\t\t<span class="label">{{_i}}Collapse{{/i}}</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="button-group">\n\t\t\t\t<button type="button" class="Button--link btn-options-tray padding-hn {{')),patchMustache("compose/docked_compose",'<button class="js-add-image-button js-show-tip needsclick btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12 is-disabled"> <i class="Icon icon-camera txt-size--18"></i> <span class="js-add-image-button-label label padding-ls">{{_i}}Add image{{/i}}</span> </button> <div class="js-scheduler"> <button class="js-schedule-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12 is-disabled"> <i class="Icon icon-schedule txt-size--18"></i> <span class="js-schedule-button-label label padding-ls">{{_i}}Schedule Tweet{{/i}}</span> </button> <span class="js-schedule-datepicker-holder"/> </div> <div class="js-tweet-type-button"> <button class="js-tweet-button btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12"> <i class="Icon icon-twitter-bird txt-size--18"></i> <span class="label padding-ls">{{_i}}New Tweet{{/i}}</span> </button> <button class="js-dm-button js-show-tip btn btn-on-blue full-width txt-left padding-v--6 padding-h--12 margin-b--12"> <i class="Icon icon-message txt-size--18"></i> <span class="label padding-ls">{{_i}}Direct message{{/i}}</span> </button>',""),patchMustache("compose/docked_compose",'<div class="js-send-button-container spinner-button-container"> <button class="js-send-button js-spinner-button js-show-tip Button--primary btn-extra-height padding-v--6 padding-h--12 is-disabled"> {{_i}}Tweet{{/i}}> </button> <i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i> <span class="js-media-upload-progress media-upload-progress is-hidden"></span> <i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i> </div>',""),patchMustache("compose/docked_compose","</textarea>",'</textarea>\n\t<button class="js-add-image-button js-show-tip needsclick btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12 is-disabled" data-original-title="Add images or video">\n\t\t<i class="Icon icon-camera txt-size--18"></i>\n\t\t<span class="js-add-image-button-label label padding-ls">{{_i}}Add image{{/i}}</span>\n\t</button>\n\t<button class="mtd-gif-button js-show-tip needsclick btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12" data-original-title>\n\t\t<i class="Icon icon-gif txt-size--18"></i>\n\t\t<span class="label padding-ls">{{_i}}Add GIF{{/i}}</span>\n\t</button>\n\t<div class="js-tweet-type-button">\n\t\t<button class="js-tweet-button btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12">\n\t\t\t<i class="Icon icon-twitter-bird txt-size--18"></i> <span class="label padding-ls">{{_i}}New Tweet{{/i}}</span>\n\t\t</button>\n\t\t<button class="js-dm-button js-show-tip btn btn-on-blue full-width txt-left padding-v--6 padding-h--12 margin-b--12">\n\t\t\t<i class="Icon icon-message txt-size--18"></i> <span class="label padding-ls">{{_i}}Direct message{{/i}}</span>\n\t\t</button>\n\t\t<div class="js-scheduler">\n\t\t\t<button class="js-schedule-button js-show-tip btn btn-on-blue full-width txt-left margin-b--12 padding-v--6 padding-h--12 is-disabled">\n\t\t\t\t<i class="Icon icon-schedule txt-size--18"></i> <span class="js-schedule-button-label label padding-ls">{{_i}}Schedule Tweet{{/i}}</span>\n\t\t\t</button>\n\t\t\t<span class="js-schedule-datepicker-holder"/>\n\t\t</div>\n\t\t<div class="js-send-button-container spinner-button-container">\n\t\t\t<button class="js-send-button js-spinner-button js-show-tip Button--primary btn-extra-height padding-v--6 padding-h--12 is-disabled">\n\t\t\t\t{{_i}}Tweet{{/i}}\n\t\t\t</button>\n\t\t\t<i class="js-compose-sending-success icon-center-16 compose-send-button-success icon icon-check is-hidden"></i>\n\t\t\t<span class="js-media-upload-progress media-upload-progress is-hidden"></span>\n\t\t\t<i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i>\n\t\t</div>'),patchMustache("compose/docked_compose",'<i class="js-spinner-button-active icon-center-16 spinner-button-icon-spinner is-hidden"></i>',buttonSpinner),patchMustache("menus/actions","Embed this Tweet","Embed Tweet"),patchMustache("menus/actions","Copy link to this Tweet","Copy link address"),patchMustache("menus/actions","Share via Direct Message","Share via message"),patchMustache("menus/actions","Send a Direct Message","Send message"),patchMustache("menus/actions","Add or remove from Lists","Add/remove from list..."),patchMustache("menus/actions","See who quoted this Tweet","View quotes"),patchMustache("menus/actions","Mute this conversation","Mute conversation"),patchMustache("menus/actions","Unmute this conversation","Unmute conversation"),patchMustache("menus/actions","Translate this Tweet","Translate Tweet"),patchMustache("menus/actions","{{_i}}Delete{{/i}}","{{_i}}Delete Tweet{{/i}}"),patchMustache("menus/actions",/\/g,"..."),patchMustache("menus/actions",/Flagged \(learn more\)/g,"Flagged"))},replacePrettyNumber=function(){TD.util.prettyNumber=function(numberStr){var howPretty=parseInt(numberStr,10);return window.mtdAbbrevNumbers?howPretty>=1e8?formatNumberI18n(howPretty/1e6)+I18n("M"):howPretty>=1e7?formatNumberI18n(howPretty/1e5/10)+I18n("M"):howPretty>=1e6?formatNumberI18n(howPretty/1e4/100)+I18n("M"):howPretty>=1e5?formatNumberI18n(howPretty/1e3)+I18n("K"):howPretty>=1e4?formatNumberI18n(howPretty/100/10)+I18n("K"):formatNumberI18n(howPretty):formatNumberI18n(howPretty)}},runtimeStylesheetExtensions=function(){enableCustomStylesheetExtension("moderndeckLogo","\n        .mtd-settings-panel .mtd-logo {\n            background-image: url(".concat(window.mtdBaseURL,"assets/img/moderndeck.svg);\n        }\n    ")),enableCustomStylesheetExtension("i18nCSS",'\n    .recent-search-clear.list-item-last span:after {\n        content:"'.concat(I18n("Clear"),'";\n    }\n    .js-column-detail .column-title-back:before,.js-column-detail .column-title-back:after,.js-tweet-results .column-title-back:after,.js-tweet-social-proof-back:after {\n        content:"').concat(I18n("Tweet"),'";\n    }\n    .js-tweet-social-proof-back:after {\n        content:"').concat(I18n("Interactions"),'";\n    }\n    .js-hide-drawer.app-nav-tab:after {\n        content:"').concat(I18n("Close Account List"),'";\n    }\n    .js-dm-participants-back:after {\n        content:"').concat(I18n("People"),'";\n    }\n    .js-display-sensitive-media span:after {\n        content:"').concat(I18n("Show potentially sensitive media"),'"\n    }\n    .contributor-detail>a:before {\n        content:"').concat(I18n("Change"),'";\n    }\n    .microsoft-logo:after {\n        content:"').concat(I18n("Microsoft"),'";\n    }\n    .pull-right>button[data-action="quote"]:after {\n        content:"').concat(I18n("Quote Tweet"),'";\n    }\n    .mtd-mute-text-:before {\n        content:"').concat(I18n("Text "),'"\n    }\n    .mtd-mute-text-source:before {\n        content:"').concat(I18n("Source "),'"\n    }\n    .mtd-altsensitive .media-sensitive p:before {\n        content:"').concat(I18n("Click here to open this media anyway"),'"\n    }\n    .mtd-altsensitive .mdl .chirp-container .media-sensitive p:before,.mtd-altsensitive .is-actionable .is-gif .media-sensitive p:before {\n        content:"').concat(I18n("Open details of this tweet to view this media."),'"\n    }\n    .js-show-this-thread>p:after {\n        content:"').concat(I18n("Thread"),'"\n    }\n    '))},initI18nEngine=function(){startI18nEngine()},LowLevel_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},LowLevel_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},initAME=function(){setupAME()},initCollapsedColumns=function(){$(document).on("mouseup",(function(e){try{if($(e.target.parentElement).is('[data-action="mtd_collapse"]')){var ohGodThisIsHorrible=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;$(ohGodThisIsHorrible).hasClass("column-holder")&&(ohGodThisIsHorrible=ohGodThisIsHorrible.parentElement),$(ohGodThisIsHorrible).toggleClass("mtd-collapsed").find('[data-testid="optionsToggle"],[data-action="options"]').click(),$(document).trigger("uiMTDColumnCollapsed");var arr=getPref("mtd_collapsed_columns",[]);if($(ohGodThisIsHorrible).hasClass("mtd-collapsed"))arr.push(getColumnNumber($(ohGodThisIsHorrible)));else{var colNum_1=getColumnNumber($(ohGodThisIsHorrible));arr=arr.filter((function(num){return num!==colNum_1}))}setPref("mtd_collapsed_columns",arr)}else if($(e.target.parentElement).is('[data-testid="optionsToggle"],[data-action="options"]')&&$(e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement).hasClass("mtd-collapsed")){var ohGodThisIsEvenWorseWhatTheHeck=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;$(ohGodThisIsEvenWorseWhatTheHeck).hasClass("column-holder")&&(ohGodThisIsEvenWorseWhatTheHeck=ohGodThisIsEvenWorseWhatTheHeck.parentElement),$(ohGodThisIsEvenWorseWhatTheHeck).removeClass("mtd-collapsed"),$(document).trigger("uiMTDColumnCollapsed");arr=getPref("mtd_collapsed_columns",[]);var colNum_2=getColumnNumber($(ohGodThisIsEvenWorseWhatTheHeck));arr=arr.filter((function(num){return num!==colNum_2})),setPref("mtd_collapsed_columns",arr)}}catch(e){}}))};function onElementAddedToDOM(e){var tar=$(e.target);if(tar.hasClass("dropdown"))e.target.parentNode.removeChild=function(dropdown){$(dropdown).addClass("mtd-fade-out"),setTimeout((function(){dropdown.remove()}),200)};else if(tar.hasClass("overlay")&&!tar.hasClass("is-hidden"))var observer_1=mutationObserver(e.target,(function(){tar.hasClass("is-hidden")&&(tar.addClass("mtd-fade-out"),setTimeout((function(){tar.remove(),observer_1.disconnect()}),300))}),{attributes:!0,childList:!1,characterData:!1})}function overrideFadeOut(){document.querySelector(".js-modals-container").removeChild=function(rmnode){$(rmnode).addClass("mtd-fade-out"),setTimeout((function(){rmnode.remove()}),200)},$(document.querySelector(".application").childNodes).each((function(obj){document.querySelector(".application").childNodes[obj].removeChild=function(rmnode){$(rmnode).addClass("mtd-fade-out"),setTimeout((function(){rmnode.remove()}),200)}})),$(".js-modal").on("removeChild",(function(rmnode){$(rmnode).addClass("mtd-fade-out"),setTimeout((function(){rmnode.remove()}),200)})),setTimeout((function(){void 0!==$(".app-navigator")[0]&&($(".app-navigator")[0].removeChild=function(i){$(i).hasClass("dropdown-menu")?($(i).addClass("mtd-fade-out"),setTimeout((function(){i.remove()}),200)):i.remove()})}),1e3),mutationObserver(window.html[0],onElementAddedToDOM,{attributes:!1,subtree:!0,childList:!0})}var GifProvider,keyboardShortcutHandler=function(event){if(event.ctrlKey&&event.shiftKey)switch(event.code){case"KeyA":$("#accoutline").length>0?$("#accoutline").click():settingsData.accessibility.options.focusOutline.activate.func();break;case"KeyC":console.info("User disabled custom CSS!"),disableStylesheetExtension("customcss");break;case"KeyH":console.info("User has pressed the proper key combination to toggle high contrast!"),$("#highcont").length>0?$("#highcont").click():!0===getPref("mtd_highcontrast")?settingsData.accessibility.options.highContrast.deactivate.func():settingsData.accessibility.options.highContrast.activate.func();break;case"KeyP":window.body.append(make("iframe").attr("src","https://www.youtube-nocookie.com/embed/y9Ln-qyvX_I?autoplay=true").attr("style","display:none"))}(""===event.key||"KeyD"===event.code&&event.ctrlKey&&event.altKey||"KeyD"===event.code&&event.ctrlKey&&event.shiftKey)&&(console.info("Triggering diag!"),handleErrors(diag,"An error occurred while creating the diagnostic report")),"KeyQ"===event.key&&null===document.querySelector("input:focus,textarea:focus")&&"classic"!==getPref("mtd_headposition")&&($("#mtd_nav_drawer").hasClass("hidden")?$("#mtd-navigation-drawer-button").click():$("#mtd_nav_drawer_background").click())},keyboardShortcutHandlerInit=function(){window.addEventListener("keyup",keyboardShortcutHandler,!1)},initLateAppFunctions=function(){window.addEventListener("mousedown",(function(e){clearContextMenu()}),!1)},initPreferences=function(){setTimeout(loadPreferences,50)},lastScrollAt=Date.now(),timeout=Date.now(),scrollStartStop=function(){var $this=$(this);Date.now()-lastScrollAt>150&&$this.trigger("scrollstart"),lastScrollAt=Date.now(),clearTimeout(timeout),timeout=window.setTimeout((function(){Date.now()-lastScrollAt>149&&$this.trigger("scrollend")}),150)},getProfileInfo=function(){var _a,_b,_c,_d,_e,_f,_g;return(null===(_c=null===(_b=null===(_a=null===TD||void 0===TD?void 0:TD.cache)||void 0===_a?void 0:_a.twitterUsers)||void 0===_b?void 0:_b.getByScreenName)||void 0===_c?void 0:_c.call(_b,null===(_g=null===(_f=null===(_e=null===(_d=TD.storage)||void 0===_d?void 0:_d.accountController)||void 0===_e?void 0:_e.getPreferredAccount("twitter"))||void 0===_f?void 0:_f.state)||void 0===_g?void 0:_g.username).results[0])||null},profileSetup=function(){var profileInfo=getProfileInfo();if(null!=profileInfo&&void 0!==profileInfo.profileBannerURL){var bannerPhoto=profileInfo._profileBannerURL.search("empty")>0?"":profileInfo._profileBannerURL,avatarPhoto=profileInfo.profileImageURL.replace("_normal",""),name=profileInfo.name,username=profileInfo.screenName;$(window.mtd_nd_header_image).attr("style","background-image:url(".concat(bannerPhoto,");")),$(window.mtd_nd_header_photo).attr("src",avatarPhoto).mouseup((function(){var profileLinkyThing=$(document.querySelector('.account-settings-bb a[href="https://twitter.com/'.concat(getProfileInfo().screenName,'"]')));window.mtdPrepareWindows(),profileLinkyThing.length>-1&&setTimeout((function(){profileLinkyThing.click()}),200)})),$(window.mtd_nd_header_username).html(name),$(window.mtd_nd_header_atname).html("@"+username)}else setTimeout(profileSetup,150)},UIGifPicker_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},UIGifPicker_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},giphyKey="Vb45700bexRDqCkbMdUmBwDvtkWT9Vj2",lastTenorPos="",lastGfycatPos="",lastGiphyURL="",lastGfycatURL="",lastTenorURL="",giphyData={data:null},gfycatData={gfycats:null,cursor:null},tenorData={results:null,next:null},lastQuery="",isLoadingMoreGifs=!1,isWaitingOnGiphy=!1,isWaitingOnGfycat=!1,isWaitingOnTenor=!1,hoverTimeout=null;!function(GifProvider){GifProvider[GifProvider.GIPHY=0]="GIPHY",GifProvider[GifProvider.GFYCAT=1]="GFYCAT",GifProvider[GifProvider.TENOR=2]="TENOR",GifProvider[GifProvider.UNKNOWN=3]="UNKNOWN"}(GifProvider||(GifProvider={}));var createGifPanel=function(){$(".mtd-gif-container").length>0||(checkGifEligibility(),$(".drawer .compose-text-container").after(make("div").addClass("scroll-v popover mtd-gif-container").append(make("div").addClass("mtd-gif-header").append(make("input").addClass("mtd-gif-search").attr("placeholder",I18n("Search GIFs...")).change((function(){searchGifPanel(String($(".mtd-gif-search").val()))})),make("button").addClass("mtd-gif-info-button").append(make("i").addClass("icon icon-info")).mouseover((function(){hoverTimeout=setTimeout((function(){$(".mtd-gif-info").removeClass("hidden")}),500)})).mouseout((function(){$(".mtd-gif-info").addClass("hidden"),hoverTimeout&&(clearTimeout(Number(hoverTimeout)),hoverTimeout=void 0)})),make("button").addClass("mtd-gif-top-button").append(make("i").addClass("icon icon-arrow-u")).click((function(){$(".drawer .compose>.compose-content>.antiscroll-inner.scroll-v.scroll-styled-v").animate({scrollTop:"0px"})})),make("div").addClass("mtd-gif-no-results list-placeholder hidden").html(I18n("We couldn't find anything matching what you searched. Give it another shot."))),make("div").addClass("mtd-gif-column mtd-gif-column-1"),make("div").addClass("mtd-gif-column mtd-gif-column-2"),make("div").addClass("mtd-gif-info dropdown-menu hidden").append(make("p").html(I18n("ModernDeck GIF Search uses the following sources:")),make("img").attr("src","".concat(window.mtdBaseURL,"/assets/img/giphy.png")).addClass("mtd-giphy-logo"),make("img").attr("src","".concat(window.mtdBaseURL,"/assets/img/tenor.svg")).addClass("mtd-giphy-logo"),make("img").attr("src","".concat(window.mtdBaseURL,"/assets/img/gfycat.svg")).addClass("mtd-giphy-logo")))),$(".drawer .compose>.compose-content>.antiscroll-inner.scroll-v.scroll-styled-v").scroll((function(){$(this).scrollTop()>$(document).height()-200?$(".mtd-gif-header").addClass("mtd-gif-header-fixed popover"):$(".mtd-gif-header").removeClass("mtd-gif-header-fixed popover"),isLoadingMoreGifs||$(this).scrollTop()+$(this).height()>$(this).prop("scrollHeight")-200&&(isLoadingMoreGifs=!0,loadMoreGifs())})))},combinedLength=function(arr1,arr2,arr3){var len=0;return arr1&&(len+=arr1.length),arr2&&(len+=arr2.length),arr3&&(len+=arr3.length),len},renderGif=function(preview,mainOg,provider){var main=mainOg;return make("img").attr("src",preview).attr("data-provider",provider).click((function(){var imageUrl;$(".mtd-gif-container").removeClass("mtd-gif-container-open"),(imageUrl=main,UIGifPicker_awaiter(void 0,void 0,void 0,(function(){var blob;return UIGifPicker_generator(this,(function(_a){switch(_a.label){case 0:return[4,fetch(imageUrl)];case 1:return[4,_a.sent().blob()];case 2:return blob=_a.sent(),[2,new Promise((function(resolve){return resolve(blob),blob}))]}}))}))).then((function(img){var eventThing={originalEvent:{dataTransfer:{files:[img]}}},buildEvent=jQuery.Event("dragenter",eventThing),buildEvent2=jQuery.Event("drop",eventThing);console.info("alright so these are the events we're gonna be triggering:"),console.info(buildEvent),console.info(buildEvent2),$(".mtd-gif-container").removeClass("mtd-gif-container-open").delay(300).remove(),$(document).trigger(buildEvent),$(document).trigger(buildEvent2)}))}))},checkIfAllDataIsThere=function(){if(!(isWaitingOnGiphy||isWaitingOnTenor||isWaitingOnGfycat)){isLoadingMoreGifs=!1,console.log("GIF LOADING COMPLETE.");var aggregateData=function(arr1,arr2,arr3){var newArr=[];for(arr1&&arr1.reverse(),arr2&&arr2.reverse(),arr3&&arr3.reverse();combinedLength(arr1,arr2,arr3)>0;)arr1&&arr1.length>0&&newArr.push(arr1.pop()),arr2&&arr2.length>0&&newArr.push(arr2.pop()),arr3&&arr3.length>0&&newArr.push(arr3.pop());return newArr}(giphyData.data,tenorData.results,gfycatData.gfycats);lastTenorPos=tenorData.next,lastGfycatPos=gfycatData.cursor,function(data,error){$(".mtd-gif-container .preloader-wrapper").remove();var col1=$(".mtd-gif-column-1"),col2=$(".mtd-gif-column-2");$(".mtd-gif-no-results").addClass("hidden"),0!==data.length&&void 0===error||(col1.empty(),col2.empty(),$(".mtd-gif-no-results").removeClass("hidden"),void 0!==error?$(".mtd-gif-no-results").html(I18n("An error occurred while trying to fetch results.")+(error||"")):$(".mtd-gif-no-results").html(I18n("We couldn't find anything matching what you searched. Give it another shot.")));for(var i=0;i<data.length;i++){var obj=data[i],provider=GifProvider.UNKNOWN,previewURL="",originalURL="";obj.gfyId?(provider=GifProvider.GFYCAT,previewURL=obj.max1mbGif||obj.max2mbGif||obj.max5mbGif||obj.gif100px,originalURL=obj.gifUrl):obj.media?(provider=GifProvider.TENOR,previewURL=obj.media[0].nanogif.url,originalURL=obj.media[0].gif.url):obj.images&&(provider=GifProvider.GIPHY,previewURL=obj.images.preview_gif.url,originalURL=obj.images.original.url),obj.provider=provider,console.log(obj);var renderedGif=renderGif(previewURL,originalURL,provider);i%2==0?col1.append(renderedGif):col2.append(renderedGif),renderedGif.attr("muted","muted")}}(aggregateData)}},fetchGiphy=function(){isWaitingOnGiphy=!0,$.ajax({url:lastGiphyURL}).done((function(results){giphyData=results})).error((function(err){console.error("Error trying to fetch Giphy GIFs"),console.error(err),window.lastError=err})).always((function(){isWaitingOnGiphy=!1,checkIfAllDataIsThere()}))},fetchGfycat=function(){isWaitingOnGfycat=!0,$.ajax({url:lastGfycatURL}).done((function(results){gfycatData=results})).error((function(e){console.error("Error trying to fetch Gfycat GIFs"),console.error(e),window.lastError=e})).always((function(){isWaitingOnGfycat=!1,checkIfAllDataIsThere()}))},fetchTenor=function(){isWaitingOnTenor=!0,$.ajax({url:lastTenorURL}).done((function(results){tenorData=results})).error((function(e){console.error("Error trying to fetch Tenor GIFs"),console.error(e),window.lastError=e})).always((function(){isWaitingOnTenor=!1,checkIfAllDataIsThere()}))},searchGifPanel=function(query){$(".mtd-gif-column-1").empty(),$(".mtd-gif-column-2").empty(),$(".mtd-gif-no-results").addClass("hidden"),isLoadingMoreGifs=!0;var sanitiseQuery=query.replace(/\s/g,"+").replace(/\&/g,"&amp;").replace(/\?/g,"").replace(/\//g," OR ");lastQuery=sanitiseQuery,fetchAllSearch(query)},fetchAllTrending=function(){$("[data-provider=tenor]").length<=0&&(lastTenorPos=""),$("[data-provider=gfycat]").length<=0&&(lastGfycatPos=""),lastGiphyURL="https://api.giphy.com/v1/gifs/trending?api_key=".concat(giphyKey,"&limit=20&offset=").concat($("[data-provider=giphy]").length),lastTenorURL="https://api.tenor.com/v1/trending?key=".concat("OPS2J07J0KWA","&locale=").concat(I18n.getFullLanguage(),"&limit=20&pos=").concat(lastTenorPos),lastGfycatURL="https://api.gfycat.com/v1/gfycats/trending?count=20&lang=".concat(I18n.getMainLanguage(),"&cursor=").concat(lastGfycatPos),console.log(lastGiphyURL),console.log(lastTenorURL),console.log(lastGfycatURL),fetchGiphy(),fetchGfycat(),fetchTenor()},fetchAllSearch=function(query){$("[data-provider=tenor]").length<=0&&(lastTenorPos=""),$("[data-provider=gfycat]").length<=0&&(lastGfycatPos=""),lastGiphyURL="https://api.giphy.com/v1/gifs/search?q=".concat(query,"&api_key=").concat(giphyKey,"&limit=20&offset=").concat($("[data-provider=giphy]").length),lastTenorURL="https://api.tenor.com/v1/search?q=".concat(query,"&key=").concat("OPS2J07J0KWA","&limit=20&locale=").concat(I18n.getFullLanguage(),"&pos=").concat(lastTenorPos),lastGfycatURL="https://api.gfycat.com/v1/gfycats/search?search_text=".concat(query,"&count=20&lang=").concat(I18n.getMainLanguage(),"&cursor=").concat(lastGfycatPos),console.log(lastGiphyURL),console.log(lastTenorURL),console.log(lastGfycatURL),fetchGiphy(),fetchGfycat(),fetchTenor()},trendingGifPanel=function(){$(".mtd-gif-column-1").empty(),$(".mtd-gif-column-2").empty(),$(".mtd-gif-no-results").addClass("hidden"),isLoadingMoreGifs=!0,lastQuery=null,fetchAllTrending()},loadMoreGifs=function(){lastQuery?fetchAllSearch(lastQuery):fetchAllTrending()},checkGifEligibility=function(){var disabledText="";$(".compose-media-grid-remove,.compose-media-bar-remove").length>0&&(disabledText=I18n("You cannot upload a GIF with other images")),$(".compose-content .quoted-tweet").length>0&&(disabledText=I18n("Quoted Tweets cannot contain GIFs")),""!==disabledText?($(".mtd-gif-button").addClass("is-disabled").attr("data-original-title",disabledText),$(".mtd-gif-container").remove()):$(".mtd-gif-button").removeClass("is-disabled").attr("data-original-title","")},hookComposer=function(){window.html.hasClass("mtd-disable-css")||(isApp&&window.html.hasClass("mtd-supportsNativeEmojiPicker")&&$(".mtd-emoji").click((function(){$(".js-compose-text").focus(),window.require("electron").ipcRenderer.send("showEmojiPanel"),$(".js-compose-text").focus()})),$(document).on("uiDrawerShowDrawer",(function(){setTimeout(hookComposer,0)})),$('.drawer[data-drawer="compose"]>div>div').on("uiComposeImageAdded",(function(){setTimeout(checkGifEligibility,0)})).on("uiComposeTweetSent",(function(e){$(".mtd-emoji-picker").addClass("hidden"),setTimeout(checkGifEligibility,0),setTimeout(checkGifEligibility,510)})).on("uiComposeSendTweet",(function(){})),$(document).on("uiSendDm uiResetImageUpload uiComposeTweet",(function(){setTimeout(checkGifEligibility,0)})),$(document).off("uiShowConfirmationDialog"),$(document).on("uiShowConfirmationDialog",(function(a,b,c){return new UIAlert({title:b.title,message:b.message,buttonText:b.okLabel,button2Text:b.cancelLabel,button1Click:function(){$(document).trigger("uiConfirmationAction",{id:b.id,result:!0}),window.mtdPrepareWindows()},button2Click:function(){$(document).trigger("uiConfirmationAction",{id:b.id,result:!1}),window.mtdPrepareWindows()}})})),$(".mtd-gif-button").off("click").click((function(){checkGifEligibility(),$(".mtd-gif-button").hasClass("is-disabled")||($(".mtd-gif-container").length<=0&&createGifPanel(),$(".mtd-gif-container").toggleClass("mtd-gif-container-open"),$(".mtd-gif-container").hasClass("mtd-gif-container-open")?($(".mtd-gif-search").val(""),trendingGifPanel()):$(".mtd-gif-container").remove())})))};function ModalKeepOpen(){var prevSetTimeout=window.setTimeout,getEvents=function(target){return $._data(target).events},overrideState=function(){getPref("mtd_modalKeepOpen")&&(window.setTimeout=function(_func,timeout){return 500!==timeout&&prevSetTimeout.apply(this,arguments)})},restoreState=function(context,key){window.setTimeout=prevSetTimeout,getPref("mtd_modalKeepOpen")&&key in context.state&&(context.state[key]=!1)};$(document).on("uiShowFavoriteFromOptions",(function(){$(".js-btn-fav",".js-modal-inner").each((function(){var event=getEvents(this).click[0],handler=event.handler;event.handler=function(){overrideState(),handler.apply(this,arguments),restoreState(getEvents(document).dataFavoriteState[0].handler.context,"stopSubsequentLikes")}}))})),$(document).on("uiShowFollowFromOptions",(function(){$(".js-component",".js-modal-inner").each((function(){var event=getEvents(this).click[0],handler=event.handler,context=handler.context;event.handler=function(){overrideState(),handler.apply(this,arguments),restoreState(context,"stopSubsequentFollows")}}))}))}function navigationSetup(){$(".app-header-inner").length<1?setTimeout(navigationSetup,100):(handleErrors(ModalKeepOpen,"Caught error in modalKeepOpen"),getPref("mtd_last_lang")!==navigator.language&&new UILanguagePicker,handleErrors(hookComposer,"Caught error in hookComposer"),handleErrors((function(){$(document).on("dataColumnOrder",(function(){updateColumnTypes()})),updateColumnTypes()}),"Caught error in updateColumnTypes event"),function(){var _a,_b,_c;$(".app-header-inner").append(make("a").attr("id","mtd-navigation-drawer-button").attr("data-original-title",I18n("Navigation drawer")).addClass("js-header-action mtd-drawer-button link-clean cf app-nav-link").html('<div class="obj-left"><div class="mtd-nav-activator"></div><div class="nbfc padding-ts"></div>').click((function(){void 0!==window.mtd_nav_drawer_background&&$("#mtd_nav_drawer_background").removeClass("hidden"),void 0!==window.mtd_nav_drawer&&$("#mtd_nav_drawer").attr("class","mtd-nav-drawer")}))),$("body").append(make("div").attr("id","mtd_nav_drawer").addClass("mtd-nav-drawer hidden").append(make("img").attr("id","mtd_nd_header_image").addClass("mtd-nd-header-image").attr("style",""),make("img").addClass("avatar mtd-nd-header-photo").attr("id","mtd_nd_header_photo").attr("src","").click((function(){$('a[data-user-name="'+getProfileInfo().screenName+'"][rel="user"][href="#"]')[0].click()})),make("div").addClass("mtd-nd-header-username").attr("id","mtd_nd_header_username").html("PROFILE ERROR"),make("div").addClass("mtd-nd-header-atname").attr("id","mtd_nd_header_atname").html("Tell @dangeredwolf i said hi"),make("button").addClass("btn mtd-nav-button mtd-nav-first-button").attr("id","tdaccsbutton").append(make("i").addClass("icon icon-user-switch")).click((function(){window.mtdPrepareWindows(),$(".js-show-drawer.js-header-action").click()})).append(I18n("Your accounts")),make("button").addClass("btn mtd-nav-button").attr("id","addcolumn").append(make("i").addClass("icon icon-plus")).click((function(){window.mtdPrepareWindows(),TD.ui.openColumn.showOpenColumn()})).append(I18n("Add column")),make("div").addClass("mtd-nav-divider"),make("button").addClass("btn mtd-nav-button").attr("id","kbshortcuts").append(make("i").addClass("icon icon-keyboard")).click((function(){window.mtdPrepareWindows(),setTimeout((function(){$(".js-app-settings").click()}),10),setTimeout((function(){$("a[data-action='keyboardShortcutList']").click()}),20)})).append(I18n("Keyboard shortcuts")),make("button").addClass("btn mtd-nav-button").attr("id","mtdsettings").append(make("i").addClass("icon icon-settings")).click((function(){openSettings()})).append(I18n("Settings")),make("div").addClass("mtd-nav-divider"),make("button").addClass("btn mtd-nav-button mtd-nav-group-expand").attr("id","mtd_nav_expand").append(make("i").addClass("icon mtd-icon-arrow-down").attr("id","mtd_nav_group_arrow")).click((function(){$("#mtd_nav_group").toggleClass("mtd-nav-group-expanded"),$("#mtd_nav_group_arrow").toggleClass("mtd-nav-group-arrow-flipped"),$("#mtd_nav_drawer").toggleClass("mtd-nav-drawer-group-open")})).append(I18n("More...")),make("div").addClass("mtd-nav-group mtd-nav-group-expanded").attr("id","mtd_nav_group").append(make("button").addClass("btn mtd-nav-button").append(make("i").addClass("icon icon-search")).click((function(){window.mtdPrepareWindows(),setTimeout((function(){$(".js-app-settings").click()}),10),setTimeout((function(){$('a[data-action="searchOperatorList"]').click()}),20)})).append(I18n("Search tips")),make("button").addClass("btn mtd-nav-button").attr("id","mtd_signout").append(make("i").addClass("icon icon-logout")).click((function(){TD.controller.init.signOut()})).append(I18n("Sign out")),make("div").addClass("mtd-nav-divider")),make("div").addClass("mtd-nav-divider mtd-nav-divider-feedback"),make("button").addClass("btn mtd-nav-button mtd-nav-button-feedback").attr("id","mtdfeedback").append(make("i").addClass("icon icon-feedback")).click((function(){window.open("https://github.com/dangeredwolf/ModernDeck/issues")})).append(I18n("Send feedback"))),make("div").attr("id","mtd_nav_drawer_background").addClass("mtd-nav-drawer-background hidden").click((function(){$(this).addClass("hidden"),$(window.mtd_nav_drawer).addClass("hidden"),$(".mtd-nav-group-expanded").removeClass("mtd-nav-group-expanded"),$("#mtd_nav_group_arrow").removeClass("mtd-nav-group-arrow-flipped")}))),$(".mtd-nav-group-expanded").removeClass("mtd-nav-group-expanded");try{(null===(_c=null===(_b=null===(_a=null===TD||void 0===TD?void 0:TD.config)||void 0===_a?void 0:_a.config_overlay)||void 0===_b?void 0:_b.tweetdeck_dogfood)||void 0===_c?void 0:_c.value)&&$(".mtd-nav-group").append(make("button").addClass("btn mtd-nav-button").append(make("i").addClass("icon mtd-icon-command-pallete")).click((function(){window.mtdPrepareWindows(),$(document).trigger("uiShowCommandPalette")})).append(I18n("Command palette")),make("button").addClass("btn mtd-nav-button").append(make("i").addClass("icon mtd-icon-developer")).click((function(){window.mtdPrepareWindows(),$(document).trigger("uiReload",{params:{no_dogfood:1}})})).append(I18n("Disable dev/dogfood")))}catch(e){console.error("An error occurred in navigationSetup while trying to verify if dev/dogfood features are enabled or not"),console.error(e),window.lastError=e}$(".mtd-nav-group-expanded").attr("style","height:"+$(".mtd-nav-group-expanded").height()+"px"),profileSetup()}(),getPref("mtd_welcomed10")||handleErrors((function(){new UIWelcome}),"Error in Welcome Screen"),$(".app-navigator>a").off("mouseenter").off("mouseover"),$(window).on("resize",updateColumnVisibility),$(".app-columns-container").on("scroll",scrollStartStop),$(".app-columns-container").on("scrollend",updateColumnVisibility),$(document).on("uiInlineComposeTweet uiDockedComposeTweet uiComposeClose uiDrawerHideDrawer uiDrawerShowDrawer uiColumnFocus uiKeyLeft uiKeyRight uiMoveColumnAction uiReload uiNavigate uiComposeTweet uiMTDColumnCollapsed uiColumnsScrollToColumn ",(function(){setTimeout((function(){updateColumnVisibility()}),400)})),updateColumnVisibility(),setInterval((function(){$(".mtd-emoji").length<=0&&handleErrors(hookComposer,"Caught error in hookComposer")}),1e3),$(document).on("uiInlineComposeTweet",(function(e){return setTimeout(hookComposer,0)})),$(document).on("uiDockedComposeTweet",(function(e){return setTimeout(hookComposer,50)})),$(document).on("uiComposeClose",(function(e){return setTimeout(hookComposer,50)})),$(document).on("uiComposeTweet",(function(e){return setTimeout(hookComposer,0)})),$(document).on("uiComposeTweet",hookComposer),$(document).on("uiToggleTheme",hookComposer),$(document).on("uiDockedComposeTweet",hookComposer))}const src_NFTActionQueue=function(){function NFTActionQueue(){var _this=this;this.queue=getPref("mtd_nftActionQueue",[])||[],this.recentMutes=[],this.isThreadRunning=!1,this.enableNotifications=getPref("mtd_nftNotify",!0),this.lastAction=null,this.notif=null,this.notifId=null,this.notifRoot=null,this.notifContent=null,this.notifTitle=null,this.notifIcon=null,this.notifClose=null,this.notifText=null,this.notifButton=null,this.notifLoading=null,this.clearNotificationTimeout=null,this.actionToTake=getPref("mtd_nftAvatarAction"),this.queue.length>0&&!1===this.isThreadRunning&&(this.isThreadRunning=!0,setTimeout((function(){_this.takeUserAction(_this.queue[0])}),1e3))}return NFTActionQueue.prototype._createNewNotification=function(){this.enableNotifications&&(console.log("Creating new notification"),this.notifRoot=window.mR.findConstructor("showErrorNotification")[0][1].showNotification({title:I18n("NFT Actions"),timeoutDelayMs:9999999999999}),this.notifId=this.notifRoot._id,this.notif=$('li.Notification[data-id="'+this.notifId+'"]').attr("style","display: none"),this.notifContent=$('li.Notification[data-id="'+this.notifId+'"] .Notification-content'),this.notifTitle=$('li.Notification[data-id="'+this.notifId+'"] .Notification-title'),this.notifIcon=$('li.Notification[data-id="'+this.notifId+'"] .Notification-icon .Icon'),this.notifClose=$('li.Notification[data-id="'+this.notifId+'"] .Notification-closeButton'),this.notif.length>0&&(this.notif.addClass("mtd-update-notification mtd-nft-block-notification"),this.notifIcon.removeClass("Icon--notifications").addClass("material-icon").html("block"),this.notifContent.append(make("p").addClass("mtd-nft-notification-text"),make("button").addClass("btn mtd-notification-button mtd-nft-notification-button").click(),make("div").addClass("mtd-nft-notification-loading").attr("style","right: 372px")),this.notifText=$(".mtd-nft-notification-text"),this.notifButton=$(".mtd-nft-notification-button"),this.notifLoading=$(".mtd-nft-notification-loading")))},NFTActionQueue.prototype._randomTime=function(){return 1e4+5e3*Math.random()},NFTActionQueue.prototype._uiDismissNotification=function(){var _this=this;this.enableNotifications&&(console.log("NFTActionQueue: Dismissing notification"),this.notifClose.click(),setTimeout((function(){_this.notif.addClass("is-expired"),_this.notif=null})),setTimeout((function(){null!==_this.notif&&(_this.notif.addClass("is-expired"),_this.notif=null)}),50))},NFTActionQueue.prototype._uiUpdateBlockQueue=function(timeOut){var _this=this;this.enableNotifications&&(console.log("NFTActionQueue: Updating block queue UI"),(null===this.notif||this.notif.hasClass("is-expired"))&&this._createNewNotification(),"block"===this.actionToTake?this.notifTitle.text(this.queue.length>1?I18n("Blocking NFT avatar users"):I18n("Blocking NFT avatar user")):"mute"===this.actionToTake?this.notifTitle.text(this.queue.length>1?I18n("Muting NFT avatar users"):I18n("Muting NFT avatar user")):"hide"!==this.actionToTake&&"nothing"!==this.actionToTake||this._uiDismissNotification(),this.notifText.text(this.queue.length>1?I18n("{length} users").replace("{length}",this.queue.length):"@"+this.queue[0].screen_name),timeOut&&(this.notifLoading.attr("style","right: 0"),setTimeout((function(){_this.notifLoading.attr("style","right: 372px; transition-duration: "+timeOut+"ms")}))))},NFTActionQueue.prototype.addUser=function(user){console.log("NFTActionQueue: Checking if user ".concat(user.screen_name," is already dealt with"));var dealtWith=!1;this.actionToTake=getPref("mtd_nftAvatarAction"),this.recentMutes.forEach((function(mutedUser){mutedUser.screen_name===user.screen_name&&(dealtWith=!0)})),("mute"===this.actionToTake?TD.controller.clients.getPreferredClient().mutes[user.id_str]:"block"===this.actionToTake&&TD.controller.clients.getPreferredClient().blocks[user.id_str])&&(dealtWith=!0),dealtWith||(console.log("NFTActionQueue: Clearing timeout"),clearTimeout(this.clearNotificationTimeout),console.log("NFTActionQueue: Queued user ".concat(user.screen_name)),this.queue.push(user),this.recentMutes.push(user),(new Date).getTime()-this.lastAction>18e3&&!this.isThreadRunning?(this.isThreadRunning=!0,this.takeUserAction(user)):this.isThreadRunning?this._uiUpdateBlockQueue():(this.isThreadRunning=!0,this.queueNewUserAction()))},NFTActionQueue.prototype.queueNewUserAction=function(){var _this=this,timeOut=this._randomTime();this._uiUpdateBlockQueue(timeOut),this.notif.attr("style","display: block");var timeoutFunc=setTimeout((function(){_this.takeUserAction(_this.queue[0])}),timeOut);this.enableNotifications&&this.notifButton.off("click").text(I18n("Cancel")).on("click",(function(){clearTimeout(timeoutFunc),_this.isThreadRunning=!1,_this.queue=[],setPref("mtd_nftActionQueue",[]),_this._uiDismissNotification()}))},NFTActionQueue.prototype.undoUserAction=function(user){if(void 0!==user)switch(getPref("mtd_nftAvatarAction")){case"nothing":case"hide":return;case"mute":console.log(TD.controller.clients.getPreferredClient().unmuteUser(null==user?void 0:user.id_str)),console.log("NFTActionQueue: Unmuted user ".concat(null==user?void 0:user.screen_name));break;case"block":console.log(TD.controller.clients.getPreferredClient().unblockUser(null==user?void 0:user.screen_name)),console.log("NFTActionQueue: Unblocked user ".concat(null==user?void 0:user.screen_name))}},NFTActionQueue.prototype.takeUserAction=function(user){var _this=this;if(this.lastAction=(new Date).getTime(),void 0!==user){switch(getPref("mtd_nftAvatarAction")){case"nothing":case"hide":return;case"mute":console.log(TD.controller.clients.getPreferredClient().muteUser(null==user?void 0:user.id_str)),TD.controller.clients.getPreferredClient().addIdToMuteList(null==user?void 0:user.id_str),console.log("NFTActionQueue: Muted user ".concat(null==user?void 0:user.screen_name));break;case"block":console.log(TD.controller.clients.getPreferredClient().blockUser(null==user?void 0:user.screen_name)),TD.controller.clients.getPreferredClient().addIdToBlockList(null==user?void 0:user.screen_name),console.log("NFTActionQueue: Blocked user ".concat(null==user?void 0:user.screen_name))}this.queue=this.queue.filter((function(u){return u.id_str!==user.id_str}))}setPref("mtd_nftActionQueue",this.queue),this.queue.length>0?this.queueNewUserAction():(this.isThreadRunning=!1,this.enableNotifications&&((null===this.notif||this.notif.hasClass("is-expired"))&&this._createNewNotification(),this.notif.attr("style","display: block"),"block"===this.actionToTake?this.notifTitle.text(I18n("Blocked NFT avatar user")):"mute"===this.actionToTake?this.notifTitle.text(I18n("Muted NFT avatar user")):(this._uiDismissNotification(),this.queue=[]),this.notifText.text("@"+user.screen_name),this.notifButton.off("click").text(I18n("Undo")).on("click",(function(){_this.undoUserAction(user),_this._uiDismissNotification()})),this.clearNotificationTimeout=setTimeout((function(){return _this._uiDismissNotification()}),5e3)))},NFTActionQueue}();function hookNFTActions(){window.nftActionQueue=new src_NFTActionQueue,setTimeout((function(){console.log("Starting NFT actions module..."),TD.services.TwitterUser.prototype.fromJSONObject_original=TD.services.TwitterUser.prototype.fromJSONObject,TD.services.TwitterUser.prototype.fromJSONObject=function(blob){var jsonObject=this.fromJSONObject_original(blob);return jsonObject.hasNftAvatar=blob.ext_has_nft_avatar,!0===blob.ext_has_nft_avatar&&window.nftActionQueue.addUser(blob),jsonObject}}),0)}var initSettingsHook=function(){$(document).off("uiShowGlobalSettings"),$(document).on("uiShowGlobalSettings",(function(){openSettings()}))};var initTweetDeckImagePaste=function(){window.addEventListener("paste",(function(e){!function(pasteEvent,callback){var items=pasteEvent.clipboardData.items;if(void 0!==items)for(var i=0;i<items.length;i++)if(-1!=items[i].type.indexOf("image")){var blob=items[i].getAsFile();"function"==typeof callback&&callback(blob)}}(e,(function(imageBlob){if(imageBlob){var buildEvent=jQuery.Event("dragenter",{originalEvent:{dataTransfer:{files:[imageBlob]}}}),buildEvent2=jQuery.Event("drop",{originalEvent:{dataTransfer:{files:[imageBlob]}}});$(document).trigger(buildEvent),$(document).trigger(buildEvent2)}}))}),!1)},Main_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},Main_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},Boot_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},Boot_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},baseUrlElement=document.querySelector('meta[name="moderndeck-base-url"]');window.mtdBaseURL=baseUrlElement.getAttribute("content"),__webpack_require__.p=window.mtdBaseURL+"/",Boot_awaiter(void 0,void 0,void 0,(function(){var startTime,endTime;return Boot_generator(this,(function(_a){switch(_a.label){case 0:return console.log("Welcome to ModernDeck!"),console.log("ModernDeck ".concat(ModernDeck.version,", build ").concat(ModernDeck.buildNumber,", ").concat(ModernDeck.buildDate)),console.log("ModernDeck Boot is getting started..."),startTime=performance.now(),[4,Core_awaiter(void 0,void 0,void 0,(function(){return Core_generator(this,(function(_a){switch(_a.label){case 0:return console.log("Boot: Beginning Core stage..."),[4,defineBootComponent(drawAsciiArt)];case 1:return _a.sent(),[4,defineBootComponent(initialTheme)];case 2:return _a.sent(),[4,defineBootComponent(initSentry)];case 3:return _a.sent(),[4,defineBootComponent(extractJQuery)];case 4:return _a.sent(),[4,defineBootComponent(initLoginScreen)];case 5:return _a.sent(),[4,defineBootComponent(initAutoUpdater,void 0!==window.require)];case 6:return _a.sent(),[4,defineBootComponent(initAppFunctions,void 0!==window.require)];case 7:return _a.sent(),[2]}}))}))];case 1:return _a.sent(),[4,LowLevel_awaiter(void 0,void 0,void 0,(function(){return LowLevel_generator(this,(function(_a){switch(_a.label){case 0:return console.log("Boot: Beginning LowLevel stage..."),[4,defineBootComponent(initLateBootScreen)];case 1:return _a.sent(),[4,defineBootComponent(initInjectFonts)];case 2:return _a.sent(),[4,defineBootComponent(initCoreStylesheet)];case 3:return _a.sent(),[4,defineBootComponent(initFeatureFlags)];case 4:return _a.sent(),[4,defineBootComponent(replacePrettyNumber)];case 5:return _a.sent(),[4,defineBootComponent(runtimeStylesheetExtensions)];case 6:return _a.sent(),[4,defineBootComponent(initProcessMustaches)];case 7:return _a.sent(),[4,defineBootComponent(initAjaxPrefilter)];case 8:return _a.sent(),[4,defineBootComponent(initI18nEngine)];case 9:return _a.sent(),[4,defineBootComponent(initFunctionPatcher)];case 10:return _a.sent(),[4,defineBootComponent(fixColumnAnimations)];case 11:return _a.sent(),[2]}}))}))];case 2:return _a.sent(),[4,Main_awaiter(void 0,void 0,void 0,(function(){return Main_generator(this,(function(_a){switch(_a.label){case 0:return console.log("Boot: Beginning Main stage..."),[4,defineBootComponent(initTweetDeckImagePaste)];case 1:return _a.sent(),[4,defineBootComponent(initAME)];case 2:return _a.sent(),[4,defineBootComponent(initPreferences)];case 3:return _a.sent(),[4,defineBootComponent(initLateAppFunctions,void 0!==window.require)];case 4:return _a.sent(),[4,defineBootComponent(navigationSetup)];case 5:return _a.sent(),[4,defineBootComponent(keyboardShortcutHandlerInit)];case 6:return _a.sent(),[4,defineBootComponent(initSettingsHook)];case 7:return _a.sent(),[4,defineBootComponent(overrideFadeOut)];case 8:return _a.sent(),[4,defineBootComponent(initCollapsedColumns)];case 9:return _a.sent(),[4,defineBootComponent(hookNFTActions)];case 10:return _a.sent(),[2]}}))}))];case 3:return _a.sent(),endTime=performance.now()-startTime,console.log("ModernDeck Boot is complete after ".concat(endTime," ms with ").concat(window.moderndeckBootErrorCount," errors, have a nice day!")),[2]}}))}))})();
//# sourceMappingURL=moderndeck.js.map